!function(e){function t(t){for(var o,a,c=t[0],l=t[1],s=t[2],d=0,m=[];d<c.length;d++)a=c[d],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&m.push(i[a][0]),i[a]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);for(u&&u(t);m.length;)m.shift()();return r.push.apply(r,s||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,c=1;c<n.length;c++){var l=n[c];0!==i[l]&&(o=!1)}o&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},i={8:0},r=[];function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.e=function(e){var t=[],n=i[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise(function(t,o){n=i[e]=[t,o]});t.push(n[2]=o);var r,c=document.createElement("script");c.charset="utf-8",c.timeout=120,a.nc&&c.setAttribute("nonce",a.nc),c.src=function(e){return a.p+"js/"+({}[e]||e)+".09634795e78b53021e7b.js"}(e);var l=new Error;r=function(t){c.onerror=c.onload=null,clearTimeout(s);var n=i[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+o+": "+r+")",l.name="ChunkLoadError",l.type=o,l.request=r,n[1](l)}i[e]=void 0}};var s=setTimeout(function(){r({type:"timeout",target:c})},12e4);c.onerror=c.onload=r,document.head.appendChild(c)}return Promise.all(t)},a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/media/dist/",a.oe=function(e){throw console.error(e),e};var c=window.webpackJsonp=window.webpackJsonp||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var u=l;r.push([146,0]),n()}({1:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"c",function(){return r}),n.d(t,"d",function(){return a}),n.d(t,"i",function(){return c}),n.d(t,"m",function(){return l}),n.d(t,"l",function(){return s}),n.d(t,"p",function(){return u}),n.d(t,"o",function(){return d}),n.d(t,"g",function(){return m}),n.d(t,"b",function(){return f}),n.d(t,"f",function(){return p}),n.d(t,"j",function(){return h}),n.d(t,"e",function(){return g}),n.d(t,"q",function(){return v}),n.d(t,"k",function(){return y}),n.d(t,"n",function(){return _}),n.d(t,"h",function(){return w});n(32);var o=n(35);function i(e){return(e=document.querySelectorAll(e)).length>1?e:e[0]?e[0]:null}function r(){this.warning=function(e,n,o){t(e,n,o,"warning")},this.danger=function(e,n,o){t(e,n,o,"danger")},this.success=function(e,n,o){t(e,n,o,"success")};var e=8e3;function t(t,n,o,i){!function(t,n,o,i){var r=Date.now();t instanceof Object&&(n=t.body,t=t.title);var a=document.getElementById("user-alert-container");a||((a=document.createElement("div")).id="user-alert-container",a.className="user-alert-container",document.body.appendChild(a));a.innerHTML=Handlebars.tag("notification")({title:t,body:n,sticky:o,type:i,time:r}),o||setTimeout(function(){var e=document.getElementById("notify-"+r);e&&e.parentElement.removeChild(e)},e)}(t,n,o,i)}}window.addEventListener("userSessionLoaded",()=>{try{localStorage.n_pageviews=void 0!==localStorage.n_pageviews?parseInt(localStorage.n_pageviews,10)+1:1}catch(e){}o.Premium.init()}),$(document).ajaxError(function(e,t,n){~n.url.indexOf("coupons/popup")||a.danger("Oops!",messages.errors.connectivity)}),String.prototype.format||(String.prototype.format=function(){var e=arguments;return this.replace(/{(\d+)}/g,function(t,n){return void 0!==e[n]?e[n]:t})}),document.get=function(e){return document.querySelector(e)},document.find=function(e){return document.querySelectorAll(e)},Element.prototype.get=function(e){return this.querySelector(e)},Element.prototype.find=function(e){return this.querySelectorAll(e)},Element.prototype.parents=function(e){var t=[],n=this;if(e)var o=e.charAt(0);for(var i=0;n&&n!==document&&!i;n=n.parentNode)e&&("."===o&&n.classList.contains(e.substr(1))&&(i=1),"#"===o&&n.id===e.substr(1)&&(i=1),"["===o&&n.hasAttribute(e.substr(1,e.length-1))&&(i=1),n.tagName.toLowerCase()===e&&(i=1)),t.push(n);return!t.length||"HTML"==t.reverse()[0].tagName&&e?[]:t},Element.prototype.parent=function(e){var t=this.parents(e);return void 0===e&&t.reverse(),t&&t.length?t[0]:null},Element.prototype.outerWidth=function(){return this.clientWidth+(parseInt(getComputedStyle(this).marginLeft,10)+parseInt(getComputedStyle(this).marginRight,10))},Element.prototype.outerHeight=function(){return this.clientHeight+(parseInt(getComputedStyle(this).marginTop,10)+parseInt(getComputedStyle(this).marginBottom,10))},Handlebars.tag=function(e){return Handlebars.compile(document.getElementById("tpl-"+e).innerHTML)},Handlebars.registerHelper("isColor",function(e,t){return"XXXXXX"!=e?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("specialItem",function(e,t,n){return 1==e||1==t?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("get_length",function(e){return"object"==typeof e?Object.keys(e).length:Array.isArray(e)?e.length:0}),Handlebars.registerHelper("retinaImage",function(){if(0!==Object.keys(this).length||this.constructor!==Object)return this.png.replace("png/128","png/512")}),Handlebars.registerHelper("isPersonalIcon",function(e){return 4==e}),Handlebars.registerHelper("numberFormat",function(e){return e.replace(/\B(?=(\d{3})+(?!\d))/g,",")}),Handlebars.registerHelper("isEqualTo",function(e,t,n){return e==t?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("compare",function(e,t,n,o){var i;if(arguments.length<3)throw new Error("Handlerbars Helper 'compare' needs 2 parameters");if(void 0===o&&(o=n,n=t,t="==="),!(i={"==":function(e,t){return e==t},"===":function(e,t){return e===t},"!=":function(e,t){return e!=t},"!==":function(e,t){return e!==t},"<":function(e,t){return e<t},">":function(e,t){return e>t},"<=":function(e,t){return e<=t},">=":function(e,t){return e>=t},typeof:function(e,t){return typeof e==t}})[t])throw new Error("Handlerbars Helper 'compare' doesn't know the operator "+t);return i[t](e,n)?o.fn(this):o.inverse(this)}),r.close=function(e){var t=document.getElementById("notify-"+e.dataset.time);t.parentElement.removeChild(t)};var a=new r;window.UserAlerts=a;try{sessionStorage.setItem("test","1"),sessionStorage.removeItem("test")}catch(e){a.danger("ERROR!","Your browser doesn't support Storage Feature or you are using private browsing. Please use a compatible browser",!0)}function c(e){if(void 0!==e){e=e.replace(/^\s+|\s+$|\(\)\'/g,"").toLowerCase();for(var t="ãàáäâẽèéëêìíïîõòóöôùúüûñç·/,:;",n=0,o=t.length;n<o;n++)e=e.replace(new RegExp(t.charAt(n),"g"),"aaaaaeeeeeiiiiooooouuuunc-----".charAt(n));return e.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}return e}function l(e){var t=e.match(/[\u3131-\uD79D]/giu);return!!t&&t.length===e.length}function s(e){return/^[\u0400-\u04FF ]+$/.test(e)}function u(e){if("string"!=typeof e)return e;e=e.replace(/^\s+|\s+$/g,"").toLowerCase();for(var t="ãàáäâẽèéëêìíïîõòóöôùúüûñç·/_,:;",n=0,o=t.length;n<o;n++)e=e.replace(new RegExp(t.charAt(n),"g"),"aaaaaeeeeeiiiiooooouuuunc------".charAt(n));return e.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}function d(e){var t=(new Date).getTime(),n=u(e=e.split(".").join(t));return n=n.split(t).join(".")}function m(){if(-1!=navigator.userAgent.indexOf("Chrome"))return"Chrome";if(-1!=navigator.userAgent.indexOf("Opera"))return"Opera";if(-1!=navigator.userAgent.indexOf("Firefox"))return"Firefox";if(-1!=navigator.userAgent.indexOf("MSIE")||1==!!document.documentMode)return"IE";if(-1!=navigator.userAgent.indexOf("Edge"))return"Edge";if(-1!=navigator.userAgent.indexOf("Safari")){var e=navigator.userAgent;return null!==e?"Safari":(e=(e=(e=e.match(/Version\/\d./g))[0].split("/"))[1])>=13?"UpdatedSafari":"Safari"}return navigator.userAgent}var f={get:function(e){for(var t=e+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){for(var i=n[o];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""},set:function(e,t,n){var o=window.location.host.replace(/[^.]+\./,"");if(n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);var r="; expires="+i.toGMTString()}else r="";document.cookie=e+"="+t+r+"; path=/; domain=."+o},setH:function(e,t,n){var o=window.location.host.replace(/[^.]+\./,"");if(n){var i=new Date;i.setTime(i.getTime()+60*n*60*1e3);var r="; expires="+i.toGMTString()}else r="";document.cookie=e+"="+t+r+"; path=/; domain=."+o},del:function(e){var t=window.location.host.replace(/[^.]+\./,"")||window.location.host;document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT; domain=."+t},expiry:function(e){return f.get(e)}};function p(e){e.parent(".fi-modal")&&(e.parent(".fi-modal").get(".modal-state").checked=!1,document.querySelector("body").classList.remove("modal-open"))}function h(e){if(void 0===e)return Math.floor(Date.now()/1e3);if(e instanceof Date)return n(e);var t=new Date(e);return t instanceof Date?n(t):Math.floor(Date.now()/1e3);function n(e){var t=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());return parseInt(Date.parse(t).toString().slice(0,10),10)}}function g(e){return""!=e&&"string"==typeof e?e.charAt(0).toUpperCase()+e.slice(1):e}function v(e){var t=null;0!=function(e){var t=0,n=e.lastIndexOf("/"),o=e.length;return-1!=e.lastIndexOf("?")&&(o=e.lastIndexOf("?")),-1!=n&&(t=e.substring(n+1,o)),isNaN(t)?0:t}(e)?t=e.substring(0,e.lastIndexOf("/")):t=""!=window.location.search&&e==window.location.href?e.substring(0,e.lastIndexOf("?")):e;return t}function y(e,t,n){for(var o=0;e.length>o&&"/"==e[e.length-(o+1)];)o+=1;return o>0&&(e=e.slice(0,-o)),""!=t&&void 0!==t&&t>1&&(e=e+"/"+t),""!=n&&void 0!==n&&(n=function(e){""!=e&&void 0!==e&&(e=(e=e.replace(/pack_id=(\d)*/g,"")).replace("&&","&").replace(/[^=&]+=(&|$)/g,"").replace(/^&|&$/,""));return e}(n),e=(e=e.replace("///$/","/")).replace("#",""),e=-1==n.lastIndexOf("?")?e+"?"+n:e+n),e}function _(e){if(""==(e=e.substr(1).split("&")))return{};for(var t={},n=0;n<e.length;++n){var o=e[n].split("=",2);1==o.length?t[o[0]]="":t[o[0]]=decodeURIComponent(o[1].replace(/\+/g," "))}return t}function w(e){return e.replace(/[\*\%\?\-\+\/\}\{_\:\,;\.<>\&\#\"@\+\=\~]+/g,"")}Date.prototype.getWeekNumber=function(){var e=new Date(Date.UTC(this.getFullYear(),this.getMonth(),this.getDate())),t=e.getUTCDay()||7;e.setUTCDate(e.getUTCDate()+4-t);var n=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e-n)/864e5+1)/7)}},101:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var o=localStorage,i=5;function r(){var e=o.color;if(e){$("#download-form #color").val(e);var t=document.querySelectorAll("#detail .svg-version svg");[].forEach.call(t,function(t){[].forEach.call(t.querySelectorAll("path, circle, ellipse, polygon, line, rect, polyline"),function(t){t.style.fill=e})});var n=$("#detail .svg-version");!function(e){var t=parseInt(e.substr(0,2),16),n=parseInt(e.substr(2,2),16),o=parseInt(e.substr(4,2),16);return 299*t+587*n+114*o>=225e3}(e.substring(1))?n.removeClass("light-icons"):n.addClass("light-icons")}}function a(e){if(void 0!==e){var t=[],n=0;if("#"!=e.charAt(0)&&(e="#"+e),!$('#detail .color-selector button[data-color="'+e+'"]').length&&(void 0!==o.customColors&&""!=o.customColors&&(n=(t=JSON.parse(o.customColors)).length),-1==t.indexOf(e))){if(n>=i){var r=Object.keys(t)[0],a=t[r];t.splice(r,1),$('#detail ul.color-selector .custom-color[data-color="'+a+'"]').parent().remove()}t.push(e),c(e),o.customColors=JSON.stringify(t)}}}function c(e){var t=$("#detail ul.color-selector"),n=document.createElement("li"),o=document.createElement("button");o.dataset.color=e,o.className="custom-color",o.style.backgroundColor=e,o.addEventListener("click",r),n.appendChild(o),t.append(n)}$(document).ready(function(){})},12:function(e,t,n){"use strict";n.r(t),n.d(t,"continue_exec_search",function(){return l}),n.d(t,"urlUserIcon",function(){return s}),n.d(t,"update_download_counter",function(){return u}),n.d(t,"number_format",function(){return d}),n.d(t,"dispatchEventTooltip",function(){return p}),n.d(t,"store_url",function(){return h}),n.d(t,"checkHybriDevices",function(){return g}),n.d(t,"closePopup",function(){return v}),n.d(t,"getUrlParameter",function(){return y}),n.d(t,"emptyAuthorBox",function(){return _}),n.d(t,"callHotjarTrigger",function(){return w});var o=n(1),i=(n(31),n(0)),r=n(7),a=n(36);function c(e){"touchstart"==e.type&&this.touchstart&&!document.body.classList.contains("notouch")||("touchstart"==e.type&&(this.touchstart=!0),"mousemove"==e.type&&!this.touchstart&&document.body.classList.contains("notouch")||(this.touchstart?document.body.classList.remove("notouch"):document.body.classList.add("notouch"),"mousemove"==e.type&&(this.touchstart=!1)))}window.addEventListener("userSessionLoaded",()=>{var e=navigator.userAgent.toLowerCase(),t=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(e),n=window.innerWidth<=768&&window.innerHeight<=600;window.isMobile=t||n,$(document).on("mouseleave",".icon--item",function(e){var t=this.querySelector(".popover");t&&t.querySelector("button.popover-button.active")&&(t.classList.remove("popover-left"),t.classList.remove("popover-right"),t.querySelector("button.popover-button.active").classList.remove("active"),t.querySelector("div.popover-content.show-menu").classList.remove("show-menu"))}),$(document).on("click","#share-btn button",function(){this.parentNode.querySelector("input.input-share-url").value=document.location.href}),$(".grid_selector input[name=grid]").on("change",function(){var e=document.querySelector(".search-result .icons");if(e){localStorage.setItem("grid_size",this.value),e.classList.toggle("big","big"==this.value),$(window).trigger("resize");var t="big"==this.value?128:64;[].forEach.call(e.querySelectorAll(".icon--item img"),function(e){e.width=t,e.height=t})}}),"IE"==o.g()&&$("body").addClass("isIE"),"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0?$(window).on("touchstart mousemove",c):document.body.classList.add("notouch"),function(){var e=document.querySelector(".detail-footer .license");e&&(gr.auth.me.premium&&1==document.querySelector("#download-form #selection").value?e.classList.add("hidden"):e.classList.remove("hidden"))}(),/Android [4-6]\.[0-9]/.test(navigator.appVersion)&&window.addEventListener("resize",function(){"INPUT"==document.activeElement.tagName&&document.activeElement.scrollIntoViewIfNeeded()}),$(document).on("click",".modal-trigger",function(e){document.getElementById(this.dataset.modal).checked=!0,e.preventDefault()}),$(document).on("click",".modal-close",function(e){void 0!==$(this)&&void 0!==$(this).parents("div.modal")[0]&&($(this).parents("div.modal")[0].get(".modal-state").checked=!1,document.querySelector("body").classList.remove("modal-open"),e.preventDefault())}),$(".modal-inner").on("click",function(e){e.stopPropagation()}),$(".modal-fade-screen").on("click",function(){[].forEach.call(document.find(".modal-state"),function(e){o.f(e),i.e.Downloads.cleanFormatValue()})}),$(document).on("contextmenu",".icon--item:not(.icon-upload)",function(e){var t=this.querySelector("div.popover");t.querySelector("button.popover-button")&&t.querySelector("button.popover-button").classList.add("active"),t.querySelector("div.popover-content")&&t.querySelector("div.popover-content").classList.add("show-menu");m(t,230),e.preventDefault()}),p(),$(document).on("click",".alert .close-alert",function(e){$(this).parent().removeClass("zoomIn").addClass("zoomOut").slideUp(300),e.preventDefault()}),$(document).on("mouseup",function(e){var t=e.target;t.parentNode&&2!==e.button&&(0===t.classList.length||t.classList.contains("active")||t.parentNode.classList.contains("active")||t.classList.contains("popover-container")||[].some.call(t.parents(),function(e){return e.classList.contains("popover-container")})||([].forEach.call(document.find(".popover-content"),function(e){e.parentNode.classList.contains("popover-not-close")||e.classList.remove("show-menu")}),[].forEach.call(document.find(".popover-button"),function(e){e.parentNode.classList.contains("popover-not-close")||e.classList.remove("active")})))}),$(document).on("click",".popover-button",function(e){!function(e,t){var n=t.parentElement.parentElement.get(".popover-content"),i=n.parentElement.parentElement;t.classList.contains("active")?(n.classList.remove("show-menu"),t.classList.remove("active")):([].forEach.call(Object(o.a)(".popover-content"),function(e){if(e==n)return!0;e.classList.remove("show-menu")}),[].forEach.call(Object(o.a)(".popover-button"),function(e){e.classList.remove("active")}),[].forEach.call(Object(o.a)(".popover"),function(e){if(e==n)return!0;e.classList.contains("hToggleRender")&&e.classList.remove("popover-right"),e.classList.contains("vToggleRender")&&(e.classList.remove("popover-top"),e.classList.remove("popover-button"))}),n.classList.add("show-menu"),t.classList.add("active"));i.classList.contains("hToggleRender")&&(m(i,230),f(tooltip,230));i.classList.contains("vToggleRender")&&function(e,t){e.querySelector("button.popover-button").getBoundingClientRect().bottom>window.innerHeight-t?e.classList.add("popover-top"):e.classList.add("popover-bottom")}(i,100);e.stopPropagation()}(e,this)}),function(){var e=$(".fullscreen"),t=window.innerWidth,n=window.innerHeight;if(0===e.length)return;if(t<=768)return;$(document).ready(onresize()),$(window).on("resize",function(o){var i="resize"!==o.type||t!==window.innerWidth&&n!==window.innerHeight,r=(r=e.data("fullscreen"))?r:8640,a=e.find("> *").outerHeight(!0);window.innerWidth<=r&&window.innerHeight>a?!i&&_touch||e.css("height",window.innerHeight-56):e.removeAttr("style");t=window.innerWidth,n=window.innerHeight})}(),document.body.click(),a.a.add(function(){document.querySelector(".list-options"),document.querySelector(".search-data")});try{var l=parseInt(localStorage.time_valuation);l&&!isNaN(l)||(l=0);var s=Object(o.a)("#form_valuation");s&&(parseInt(localStorage.time_valuation,10)%70==0?s.classList.add("active"):s.classList.remove("active")),localStorage.time_valuation=++l}catch(e){}const u=()=>{document.getElementById("open_panel").addEventListener("click",function(){document.getElementById("form_valuation").classList.toggle("active")}),document.getElementById("form_valuation").addEventListener("submit",e=>{e.preventDefault();const t=document.getElementById("id_last_valuation"),n=document.getElementById("valuation_text");if(n.value.trim().length)if(window.FeatureFlag.isEnabled("user_oauth")){const e="ajax/valuations/send-user-comment",o={id:t.value,comment:n.value};Object(r.a)(e,{method:"POST",headers:{"Content-Type":"application/json"},data:JSON.stringify(o)})}else gr.request.post("valuations/send_user_comment",{id:t.value,comment:n.value});document.getElementById("valuation_comment_panel").style.display="none",document.getElementById("valuation_congrat").style.display="block",setTimeout(function(){d()},3e3)}),document.querySelectorAll(".valuation_response").forEach(e=>{e.addEventListener("click",function(){let e,t=navigator.userAgent,n=[],i=t.match(/(opera|chrome|safari|firefox|msie|maxthon|lunascape)\/?\s*(\.?\d+(\.\d+)*)/i);if(i&&null!==(e=t.match(/version\/([\.\d]+)/i))&&(i[2]=e[1]),n.name=i[1],n.version=i[2],"9"===this.dataset.value||"10"===this.dataset.value?g():(Object(o.a)("#valuation_panel").style.display="none",Object(o.a)("#valuation_comment_panel").style.display="block"),window.FeatureFlag.isEnabled("user_oauth")){const e=`${BASE_URL}ajax/valuations/send-valuation`,t={value:this.dataset.value,question:Object(o.a)("#valuation_question_id").value,browser:n.name,browser_version:n.version,language:LANGUAGE_SHORT};Object(r.a)(e,{method:"POST",headers:{"Content-Type":"application/json"},data:JSON.stringify(t)}).then(e=>{document.getElementById("id_last_valuation").value=e.data.id})}else gr.request.post("valuations/send_valuation",{value:this.dataset.value,question:Object(o.a)("#valuation_question_id").value,browser:n.name,browser_version:n.version,language:LANGUAGE_SHORT})})}),document.getElementById("no_thanks").addEventListener("click",d),document.getElementById("no_thanks_trustpilot").addEventListener("click",d)};function d(){document.getElementById("valuation_text").value="",document.getElementById("id_last_valuation").value="",document.getElementById("valuation_comment_panel").style.display="none",document.getElementById("form_valuation").classList.remove("active"),document.getElementById("valuation_congrat").style.display="none",document.getElementById("valuation_panel").style.display="block",document.getElementById("trustpilotNPS").style.display="none"}window.addEventListener("formTrustpilot",()=>{u()});const g=()=>{document.getElementById("valuation_panel").style.display="none",document.getElementById("valuation_comment_panel").style.display="none",document.getElementById("trustpilotNPS").style.display="block"};function v(){let e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?"IE "+((e=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||""):"Chrome"===n[1]&&null!=(e=t.match(/\b(OPR|Edge)\/(\d+)/))?e.slice(1).join(" ").replace("OPR","Opera"):(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),n.join(" "))}$(document).on("keyup",function(e){e.preventDefault(),27==e.which&&[].forEach.call(document.find(".popover-content"),function(e){e.classList.remove("show-menu")})}),$(".reset-input").off(),$(document).on("click",".reset-input",function(){return""!==$(this).siblings("input").val()?$(this).siblings("input").val("").focus():"username"!=$(this).siblings("input").attr("id")&&"email"!=$(this).siblings("input").attr("id")&&$(this).siblings("input").attr("placeholder",""),$(this).siblings("input").removeClass("error").parent().next("span.error").remove(),!1}),$(".input-group input, .textarea-group textarea").off(),$(".input-group input, .textarea-group textarea").on("blur",function(){$(this).val()?$(this).addClass("hascontent"):($(this).removeClass("hascontent"),$(this).attr("placeholder")&&this.addClass("hascontent"))}),$(".input-group input, .textarea-group textarea").on("keyup",function(){$(this).removeClass("error").parent().next("span.error").remove(),"password"!=$(this).attr("id")&&"repeat_password"!=$(this).attr("id")||($("#password").removeClass("error").parent().next("span.error").remove(),$("#repeat_password").removeClass("error").parent().next("span.error").remove())}),$(".input-group input, .textarea-group textarea").each(function(){$(this).val()?$(this).addClass("hascontent"):($(this).removeClass("hascontent"),$(this).attr("placeholder")&&this.addClass("hascontent"))}),$(document).on("click",".selectInput",function(){this.select()}),function(){var e="DOLLAR",t="US",n=["EURO","DOLLAR"];o.b.get("currency")&&o.b.get("country")?(e=o.b.get("currency"),t=o.b.get("country")):$.ajax({cache:!1,type:"post",dataType:"json",url:APP_URL+"usercur",success:function(i){e=i.cur&&-1!=n.indexOf(i.cur)?i.cur:e,t=i.code?i.code:t,o.b.set("currency",e,2),o.b.set("country",t,2)}})}(),h(),document.addEventListener("click",function(e){for(var t=e.target;t;){if(void 0!=t.dataset&&t.dataset[Logs.dataKey]){Logs.pushLog(t.dataset[Logs.dataKey]);break}t=t.parentNode}},!1),function(){let e=document.querySelector(".link-editor"),t=v().split(" ")[0];"Edge"!=t&&"Opera"!=t&&"IE"!=t||e.classList.add("hide")}(),_()});const l=()=>{let e=Array.from(document.querySelectorAll(".search-view-filters input:checked"));const t=document.querySelector(".search-holder form input[name=word]"),n=document.querySelector(".home_search_input.fake-search input[name=word]"),o=document.querySelector("[data-section=main_search_author]");document.querySelector(".search-holder .type-selector input[name=type]:checked");let i=!!e.find(e=>"sticker"==e.value),r=t&&t.value.length>0?`${t.name}=${t.value}`:`${n.name}=${n.value}`;var a,c=[],l="";if(c.push(r),o&&c.push(`author_id=${o.dataset.value}`),void 0===e||i||e.forEach(function(e){if(void 0!==e.name&&void 0!==e.value&&""!=e.name&&""!=e.dataset.value&&-1==e.name.indexOf("-")&&"license"==e.name){if("style"!=e.name||"gradient"!=e.dataset.value&&"lineal-color"!=e.dataset.value&&"flat"!=e.dataset.value&&"hand-drawn"!=e.dataset.value||(e.name="filter_style"),"style"==e.name&&("linear"==e.dataset.value||"filled"==e.dataset.value||"multicolor"==e.dataset.value)){let t=e.dataset.style.replace(",","&");(t=t.split("|")).shift(),t[0]=t[0].replace(",","&"),t=t.join("="),e.name="color",e.dataset.value=t}let t=e.dataset.value?e.dataset.value:e.value;"order_by"==e.name&&(t=e.value),c.push(e.name+"="+t)}}),c.length&&(l="?"+c.join("&")),document.querySelector("form #main-search-current_section")&&document.querySelector("form #main-search-current_section").value)return void(window.location.href=document.querySelector(".main_search_bar").action+l);let s;a=document.querySelector(".search-holder .type-selector input[name=type]:checked"),s=document.querySelector(".search-holder .type-selector input[name=search-group]:checked"),1==c.length&&"interface-icons"==a.dataset.type&&(l=l.concat("&ec=all")),"interface-icons"===a.value&&(a.value="icon"),window.location.href=s?s.getAttribute("data-url")+l+`&type=${a.value}`:a.getAttribute("data-url")+l+`&type=${a.value}`};function s(e,t){if((t=t||gr.auth.me.id)&&e){var n=Math.floor(t/1e3);return STATIC_URL+"user_icons/"+n+"/"+t+"/"+e+".svg"}}function u(e){var t=document.getElementById("icons_downloaded_counters"),n=document.getElementById("essentials");n&&n.classList.contains("active")||null!==t&&setTimeout(function(){gr.auth.me.id&&$.ajax({cache:!1,dataType:"json",xhrFields:{withCredentials:!0},url:FLATICON_DOWNLOAD_URL+"ajax/download/user-stats",success:function(e){void 0!==e&&void 0!==t&&void 0!==e&&e.max&&(t.classList.remove("hidden"),t.innerHTML=d(e.now)+"/"+d(e.max))}})},e)}function d(e){return parseInt(e,10).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function m(e,t){if(document.querySelector(".detail--v2 .icons"))var n=e.querySelector("button.popover-button").getBoundingClientRect().left-document.querySelector(".detail--v2 .icons").getBoundingClientRect().left;else n=e.querySelector("button.popover-button").getBoundingClientRect().left;e.classList.contains("collectionIcon")&&(t=180+document.getElementById("collections-holder").getBoundingClientRect().left),n<t?e.classList.add("popover-right"):e.classList.add("popover-left")}function f(e,t){if(document.querySelector(".detail--v2 .icons"))var n=e.querySelector(".tooltip__content").getBoundingClientRect().left-document.querySelector(".detail--v2 .icons").getBoundingClientRect().left;else n=e.querySelector(".tooltip__content").getBoundingClientRect().left;e.classList.contains("collectionIcon")&&(t=180+document.getElementById("collections-holder").getBoundingClientRect().left),e.classList.contains("icon--item__premium-badge")||(n<=t?(e.classList.remove("tooltip--left"),e.classList.add("tooltip--right")):(e.classList.add("tooltip--left"),e.classList.remove("tooltip--right")))}function p(){document.querySelectorAll(".icon--item .tooltip").forEach(e=>{e.addEventListener("mouseenter",e=>{f(e.target,230),e.preventDefault()})})}function h(e){e||(e=window.location.href);var t=!0;if(["downloads-abuse","downloads-limit","limite-descargas","abuso-descargas","user/follow/author/list"].forEach(function(n){-1!=e.indexOf(n)&&(t=!1)}),t){var n=new Date;n.setTime(n.getTime()+36e5);var o="; expires="+n.toGMTString(),i=null;try{var r=new URL(e),a=r.searchParams,c=Date.now().toString();a.has("k")?a.set("k",c):a.append("k",c),i=r.origin+r.pathname+"?"+a.toString()}catch(t){i=e}var l="CB_URL="+i+o+";path=/;domain="+window.location.host.replace(/[^.]+\./,"");document.cookie=l}}function g(){("ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0)&&document.body.classList.add("notouch")}function v(e){for(;(e=e.parentElement)&&!e.classList.contains("popover-container"););e.querySelector(".popover-button").classList.remove("active"),e.querySelector(".popover-content").classList.remove("show-menu")}function y(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}function _(){const e=document.querySelectorAll(".box--author .box--author-pt2");if(e)for(const t of e)if(1==t.children.length){let e=0;for(;e<2;){const n=document.createElement("div");n.innerHTML='<div class="img-wrapper"></div>',n.classList.add("sprite"),n.classList.add("empty"),t.insertAdjacentElement("beforeend",n),e++}}else if(2==t.children.length){const e=document.createElement("div");e.innerHTML='<div class="img-wrapper"></div>',e.classList.add("sprite"),e.classList.add("empty"),t.insertAdjacentElement("beforeend",e)}}function w(e){window.hj&&"function"==typeof window.hj&&hj("trigger",e)}i.e.valuation_request_comment=function(e){Object(o.a)("#id_last_valuation").value=e.id}},146:function(e,t,n){n(372),n(249),n(250),n(251),n(253),n(63),n(254),n(255),n(256),e.exports=n(35)},196:function(e,t,n){var o;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */!function(i,r,a,c){"use strict";function l(e,t,n){return setTimeout(f(e,n),t)}function s(e,t,n){return!!Array.isArray(e)&&(u(e,n[t],n),!0)}function u(e,t,n){var o;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==c)for(o=0;o<e.length;)t.call(n,e[o],o,e),o++;else for(o in e)e.hasOwnProperty(o)&&t.call(n,e[o],o,e)}function d(e,t,n){var o="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=i.console&&(i.console.warn||i.console.log);return r&&r.call(i.console,o,n),e.apply(this,arguments)}}function m(e,t,n){var o,i=t.prototype;(o=e.prototype=Object.create(i)).constructor=e,o._super=i,n&&oe(o,n)}function f(e,t){return function(){return e.apply(t,arguments)}}function p(e,t){return typeof e==ae?e.apply(t&&t[0]||c,t):e}function h(e,t){return e===c?t:e}function g(e,t,n){u(w(t),function(t){e.addEventListener(t,n,!1)})}function v(e,t,n){u(w(t),function(t){e.removeEventListener(t,n,!1)})}function y(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function _(e,t){return e.indexOf(t)>-1}function w(e){return e.trim().split(/\s+/g)}function b(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var o=0;o<e.length;){if(n&&e[o][n]==t||!n&&e[o]===t)return o;o++}return-1}function k(e){return Array.prototype.slice.call(e,0)}function S(e,t,n){for(var o=[],i=[],r=0;r<e.length;){var a=t?e[r][t]:e[r];b(i,a)<0&&o.push(e[r]),i[r]=a,r++}return n&&(o=t?o.sort(function(e,n){return e[t]>n[t]}):o.sort()),o}function E(e,t){for(var n,o,i=t[0].toUpperCase()+t.slice(1),r=0;r<ie.length;){if((o=(n=ie[r])?n+i:t)in e)return o;r++}return c}function L(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||i}function I(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){p(e.options.enable,[e])&&n.handler(t)},this.init()}function q(e,t,n){var o=n.pointers.length,i=n.changedPointers.length,r=t&_e&&o-i==0,a=t&(be|ke)&&o-i==0;n.isFirst=!!r,n.isFinal=!!a,r&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,o=t.pointers,i=o.length;n.firstInput||(n.firstInput=C(t)),i>1&&!n.firstMultiple?n.firstMultiple=C(t):1===i&&(n.firstMultiple=!1);var r=n.firstInput,a=n.firstMultiple,c=a?a.center:r.center,l=t.center=A(o);t.timeStamp=se(),t.deltaTime=t.timeStamp-r.timeStamp,t.angle=j(c,l),t.distance=$(c,l),function(e,t){var n=t.center,o=e.offsetDelta||{},i=e.prevDelta||{},r=e.prevInput||{};t.eventType!==_e&&r.eventType!==be||(i=e.prevDelta={x:r.deltaX||0,y:r.deltaY||0},o=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=i.x+(n.x-o.x),t.deltaY=i.y+(n.y-o.y)}(n,t),t.offsetDirection=O(t.deltaX,t.deltaY);var s=T(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=s.x,t.overallVelocityY=s.y,t.overallVelocity=le(s.x)>le(s.y)?s.x:s.y,t.scale=a?function(e,t){return $(t[0],t[1],Oe)/$(e[0],e[1],Oe)}(a.pointers,o):1,t.rotation=a?function(e,t){return j(t[1],t[0],Oe)+j(e[1],e[0],Oe)}(a.pointers,o):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,x(n,t);var u=e.element;y(t.srcEvent.target,u)&&(u=t.srcEvent.target),t.target=u}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function x(e,t){var n,o,i,r,a=e.lastInterval||t,l=t.timeStamp-a.timeStamp;if(t.eventType!=ke&&(l>ye||a.velocity===c)){var s=t.deltaX-a.deltaX,u=t.deltaY-a.deltaY,d=T(l,s,u);o=d.x,i=d.y,n=le(d.x)>le(d.y)?d.x:d.y,r=O(s,u),e.lastInterval=t}else n=a.velocity,o=a.velocityX,i=a.velocityY,r=a.direction;t.velocity=n,t.velocityX=o,t.velocityY=i,t.direction=r}function C(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:ce(e.pointers[n].clientX),clientY:ce(e.pointers[n].clientY)},n++;return{timeStamp:se(),pointers:t,center:A(t),deltaX:e.deltaX,deltaY:e.deltaY}}function A(e){var t=e.length;if(1===t)return{x:ce(e[0].clientX),y:ce(e[0].clientY)};for(var n=0,o=0,i=0;t>i;)n+=e[i].clientX,o+=e[i].clientY,i++;return{x:ce(n/t),y:ce(o/t)}}function T(e,t,n){return{x:t/e||0,y:n/e||0}}function O(e,t){return e===t?Se:le(e)>=le(t)?0>e?Ee:Le:0>t?Ie:qe}function $(e,t,n){n||(n=Te);var o=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(o*o+i*i)}function j(e,t,n){n||(n=Te);var o=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return 180*Math.atan2(i,o)/Math.PI}function P(){this.evEl=je,this.evWin=Pe,this.pressed=!1,I.apply(this,arguments)}function R(){this.evEl=Ue,this.evWin=De,I.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function B(){this.evTarget=Fe,this.evWin=Me,this.started=!1,I.apply(this,arguments)}function U(){this.evTarget=ze,this.targetIds={},I.apply(this,arguments)}function D(){I.apply(this,arguments);var e=f(this.handler,this);this.touch=new U(this.manager,e),this.mouse=new P(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function N(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var o=this.lastTouches;setTimeout(function(){var e=o.indexOf(n);e>-1&&o.splice(e,1)},Xe)}}function F(e,t){this.manager=e,this.set(t)}function M(e){this.options=oe({},this.defaults,e||{}),this.id=me++,this.manager=null,this.options.enable=h(this.options.enable,!0),this.state=nt,this.simultaneous={},this.requireFail=[]}function H(e){return e&ct?"cancel":e&rt?"end":e&it?"move":e&ot?"start":""}function z(e){return e==qe?"down":e==Ie?"up":e==Ee?"left":e==Le?"right":""}function X(e,t){var n=t.manager;return n?n.get(e):e}function W(){M.apply(this,arguments)}function Y(){W.apply(this,arguments),this.pX=null,this.pY=null}function G(){W.apply(this,arguments)}function V(){M.apply(this,arguments),this._timer=null,this._input=null}function J(){W.apply(this,arguments)}function K(){W.apply(this,arguments)}function Z(){M.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Q(e,t){return(t=t||{}).recognizers=h(t.recognizers,Q.defaults.preset),new ee(e,t)}function ee(e,t){this.options=oe({},Q.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=function(e){var t=e.options.inputClass;return new(t||(pe?R:he?U:fe?D:P))(e,q)}(this),this.touchAction=new F(this,this.options.touchAction),te(this,!0),u(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function te(e,t){var n,o=e.element;o.style&&(u(e.options.cssProps,function(i,r){n=E(o.style,r),t?(e.oldCssProps[n]=o.style[n],o.style[n]=i):o.style[n]=e.oldCssProps[n]||""}),t||(e.oldCssProps={}))}function ne(e,t){var n=r.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}var oe,ie=["","webkit","Moz","MS","ms","o"],re=r.createElement("div"),ae="function",ce=Math.round,le=Math.abs,se=Date.now;oe="function"!=typeof Object.assign?function(e){if(e===c||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var o=arguments[n];if(o!==c&&null!==o)for(var i in o)o.hasOwnProperty(i)&&(t[i]=o[i])}return t}:Object.assign;var ue=d(function(e,t,n){for(var o=Object.keys(t),i=0;i<o.length;)(!n||n&&e[o[i]]===c)&&(e[o[i]]=t[o[i]]),i++;return e},"extend","Use `assign`."),de=d(function(e,t){return ue(e,t,!0)},"merge","Use `assign`."),me=1,fe="ontouchstart"in i,pe=E(i,"PointerEvent")!==c,he=fe&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),ge="touch",ve="mouse",ye=25,_e=1,we=2,be=4,ke=8,Se=1,Ee=2,Le=4,Ie=8,qe=16,xe=Ee|Le,Ce=Ie|qe,Ae=xe|Ce,Te=["x","y"],Oe=["clientX","clientY"];I.prototype={handler:function(){},init:function(){this.evEl&&g(this.element,this.evEl,this.domHandler),this.evTarget&&g(this.target,this.evTarget,this.domHandler),this.evWin&&g(L(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&v(this.element,this.evEl,this.domHandler),this.evTarget&&v(this.target,this.evTarget,this.domHandler),this.evWin&&v(L(this.element),this.evWin,this.domHandler)}};var $e={mousedown:_e,mousemove:we,mouseup:be},je="mousedown",Pe="mousemove mouseup";m(P,I,{handler:function(e){var t=$e[e.type];t&_e&&0===e.button&&(this.pressed=!0),t&we&&1!==e.which&&(t=be),this.pressed&&(t&be&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:ve,srcEvent:e}))}});var Re={pointerdown:_e,pointermove:we,pointerup:be,pointercancel:ke,pointerout:ke},Be={2:ge,3:"pen",4:ve,5:"kinect"},Ue="pointerdown",De="pointermove pointerup pointercancel";i.MSPointerEvent&&!i.PointerEvent&&(Ue="MSPointerDown",De="MSPointerMove MSPointerUp MSPointerCancel"),m(R,I,{handler:function(e){var t=this.store,n=!1,o=e.type.toLowerCase().replace("ms",""),i=Re[o],r=Be[e.pointerType]||e.pointerType,a=r==ge,c=b(t,e.pointerId,"pointerId");i&_e&&(0===e.button||a)?0>c&&(t.push(e),c=t.length-1):i&(be|ke)&&(n=!0),0>c||(t[c]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:r,srcEvent:e}),n&&t.splice(c,1))}});var Ne={touchstart:_e,touchmove:we,touchend:be,touchcancel:ke},Fe="touchstart",Me="touchstart touchmove touchend touchcancel";m(B,I,{handler:function(e){var t=Ne[e.type];if(t===_e&&(this.started=!0),this.started){var n=function(e,t){var n=k(e.touches),o=k(e.changedTouches);return t&(be|ke)&&(n=S(n.concat(o),"identifier",!0)),[n,o]}.call(this,e,t);t&(be|ke)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:ge,srcEvent:e})}}});var He={touchstart:_e,touchmove:we,touchend:be,touchcancel:ke},ze="touchstart touchmove touchend touchcancel";m(U,I,{handler:function(e){var t=He[e.type],n=function(e,t){var n=k(e.touches),o=this.targetIds;if(t&(_e|we)&&1===n.length)return o[n[0].identifier]=!0,[n,n];var i,r,a=k(e.changedTouches),c=[],l=this.target;if(r=n.filter(function(e){return y(e.target,l)}),t===_e)for(i=0;i<r.length;)o[r[i].identifier]=!0,i++;for(i=0;i<a.length;)o[a[i].identifier]&&c.push(a[i]),t&(be|ke)&&delete o[a[i].identifier],i++;return c.length?[S(r.concat(c),"identifier",!0),c]:void 0}.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:ge,srcEvent:e})}});var Xe=2500,We=25;m(D,I,{handler:function(e,t,n){var o=n.pointerType==ge,i=n.pointerType==ve;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(o)(function(e,t){e&_e?(this.primaryTouch=t.changedPointers[0].identifier,N.call(this,t)):e&(be|ke)&&N.call(this,t)}).call(this,t,n);else if(i&&function(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,o=0;o<this.lastTouches.length;o++){var i=this.lastTouches[o],r=Math.abs(t-i.x),a=Math.abs(n-i.y);if(We>=r&&We>=a)return!0}return!1}.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ye=E(re.style,"touchAction"),Ge=Ye!==c,Ve="compute",Je="auto",Ke="manipulation",Ze="none",Qe="pan-x",et="pan-y",tt=function(){if(!Ge)return!1;var e={},t=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){e[n]=!t||i.CSS.supports("touch-action",n)}),e}();F.prototype={set:function(e){e==Ve&&(e=this.compute()),Ge&&this.manager.element.style&&tt[e]&&(this.manager.element.style[Ye]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return u(this.manager.recognizers,function(t){p(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(e){if(_(e,Ze))return Ze;var t=_(e,Qe),n=_(e,et);return t&&n?Ze:t||n?t?Qe:et:_(e,Ke)?Ke:Je}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(!this.manager.session.prevented){var o=this.actions,i=_(o,Ze)&&!tt[Ze],r=_(o,et)&&!tt[et],a=_(o,Qe)&&!tt[Qe];if(i){var c=1===e.pointers.length,l=e.distance<2,s=e.deltaTime<250;if(c&&l&&s)return}return a&&r?void 0:i||r&&n&xe||a&&n&Ce?this.preventSrc(t):void 0}t.preventDefault()},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var nt=1,ot=2,it=4,rt=8,at=rt,ct=16;M.prototype={defaults:{},set:function(e){return oe(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(s(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=X(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return s(e,"dropRecognizeWith",this)?this:(e=X(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(s(e,"requireFailure",this))return this;var t=this.requireFail;return-1===b(t,e=X(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(s(e,"dropRequireFailure",this))return this;e=X(e,this);var t=b(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){n.manager.emit(t,e)}var n=this,o=this.state;rt>o&&t(n.options.event+H(o)),t(n.options.event),e.additionalEvent&&t(e.additionalEvent),o>=rt&&t(n.options.event+H(o))},tryEmit:function(e){return this.canEmit()?this.emit(e):void(this.state=32)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(32|nt)))return!1;e++}return!0},recognize:function(e){var t=oe({},e);return p(this.options.enable,[this,t])?(this.state&(at|ct|32)&&(this.state=nt),this.state=this.process(t),void(this.state&(ot|it|rt|ct)&&this.tryEmit(t))):(this.reset(),void(this.state=32))},process:function(e){},getTouchAction:function(){},reset:function(){}},m(W,M,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,o=t&(ot|it),i=this.attrTest(e);return o&&(n&ke||!i)?t|ct:o||i?n&be?t|rt:t&ot?t|it:ot:32}}),m(Y,W,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ae},getTouchAction:function(){var e=this.options.direction,t=[];return e&xe&&t.push(et),e&Ce&&t.push(Qe),t},directionTest:function(e){var t=this.options,n=!0,o=e.distance,i=e.direction,r=e.deltaX,a=e.deltaY;return i&t.direction||(t.direction&xe?(i=0===r?Se:0>r?Ee:Le,n=r!=this.pX,o=Math.abs(e.deltaX)):(i=0===a?Se:0>a?Ie:qe,n=a!=this.pY,o=Math.abs(e.deltaY))),e.direction=i,n&&o>t.threshold&&i&t.direction},attrTest:function(e){return W.prototype.attrTest.call(this,e)&&(this.state&ot||!(this.state&ot)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=z(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),m(G,W,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ze]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&ot)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),m(V,M,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Je]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,o=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!o||!n||e.eventType&(be|ke)&&!i)this.reset();else if(e.eventType&_e)this.reset(),this._timer=l(function(){this.state=at,this.tryEmit()},t.time,this);else if(e.eventType&be)return at;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===at&&(e&&e.eventType&be?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=se(),this.manager.emit(this.options.event,this._input)))}}),m(J,W,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ze]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&ot)}}),m(K,W,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:xe|Ce,pointers:1},getTouchAction:function(){return Y.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(xe|Ce)?t=e.overallVelocity:n&xe?t=e.overallVelocityX:n&Ce&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&le(t)>this.options.velocity&&e.eventType&be},emit:function(e){var t=z(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),m(Z,M,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ke]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,o=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),e.eventType&_e&&0===this.count)return this.failTimeout();if(o&&i&&n){if(e.eventType!=be)return this.failTimeout();var r=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||$(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&r?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=l(function(){this.state=at,this.tryEmit()},t.interval,this),ot):at}return 32},failTimeout:function(){return this._timer=l(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==at&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Q.VERSION="2.0.7",Q.defaults={domEvents:!1,touchAction:Ve,enable:!0,inputTarget:null,inputClass:null,preset:[[J,{enable:!1}],[G,{enable:!1},["rotate"]],[K,{direction:xe}],[Y,{direction:xe},["swipe"]],[Z],[Z,{event:"doubletap",taps:2},["tap"]],[V]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};ee.prototype={set:function(e){return oe(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var n,o=this.recognizers,i=t.curRecognizer;(!i||i&&i.state&at)&&(i=t.curRecognizer=null);for(var r=0;r<o.length;)n=o[r],2===t.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&n.state&(ot|it|rt)&&(i=t.curRecognizer=n),r++}},get:function(e){if(e instanceof M)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(s(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(s(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=b(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==c&&t!==c){var n=this.handlers;return u(w(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this}},off:function(e,t){if(e!==c){var n=this.handlers;return u(w(e),function(e){t?n[e]&&n[e].splice(b(n[e],t),1):delete n[e]}),this}},emit:function(e,t){this.options.domEvents&&ne(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var o=0;o<n.length;)n[o](t),o++}},destroy:function(){this.element&&te(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},oe(Q,{INPUT_START:_e,INPUT_MOVE:we,INPUT_END:be,INPUT_CANCEL:ke,STATE_POSSIBLE:nt,STATE_BEGAN:ot,STATE_CHANGED:it,STATE_ENDED:rt,STATE_RECOGNIZED:at,STATE_CANCELLED:ct,STATE_FAILED:32,DIRECTION_NONE:Se,DIRECTION_LEFT:Ee,DIRECTION_RIGHT:Le,DIRECTION_UP:Ie,DIRECTION_DOWN:qe,DIRECTION_HORIZONTAL:xe,DIRECTION_VERTICAL:Ce,DIRECTION_ALL:Ae,Manager:ee,Input:I,TouchAction:F,TouchInput:U,MouseInput:P,PointerEventInput:R,TouchMouseInput:D,SingleTouchInput:B,Recognizer:M,AttrRecognizer:W,Tap:Z,Pan:Y,Swipe:K,Pinch:G,Rotate:J,Press:V,on:g,off:v,each:u,merge:de,extend:ue,assign:oe,inherit:m,bindFn:f,prefixed:E}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=Q,void 0===(o=function(){return Q}.call(t,n,t,e))||(e.exports=o)}(window,document)},249:function(e,t,n){"use strict";n.r(t);var o=n(63),i=n(32),r=n(30),a=n(12);$(function(){$(window).on("load",function(){setTimeout(function(e){$(window).on("popstate",function(){return history.state&&document.querySelector("#detail-overlay.loading")?void i.a.close():void 0})},0)}),$(document).on("keydown",function(e){var t=document.querySelectorAll(".collection .collection-content.edit-mode .icons .collectionIcon .edit .collection-icon-rename, .collection .collection-header .edit-name.active .collection-name-input");if(![].some.call(t,function(e){return e==document.activeElement})&&(document.querySelector("#detail-overlay.loading")?(27==e.keyCode&&(Detail.close(),i.a.pushState({page:"pagination"},document.title,i.a.prev_url),Object(a.store_url)(i.a.prev_url)),39==e.keyCode&&i.a.getNextElement(i.a.id),37==e.keyCode&&i.a.getPrevElement(i.a.id),13==e.keyCode&&(window.location.href=window.location.href)):document.getElementById("pagination-page")&&"undefined"!=typeof axScript&&(39==e.keyCode&&o.INFINITY.infinityLoaderBtn(axScript,"next"),37==e.keyCode&&o.INFINITY.infinityLoaderBtn(axScript,"prev")),document.getElementById("download-form"))){var n=parseInt(document.getElementById("icon_id").value,10),r=document.getElementById("keyword").value,c=parseInt(document.getElementById("team").value,10),l=parseInt(document.getElementById("colored").value,10),s=parseInt(document.querySelector("#download-form #premium").value,10);if(!(window.db instanceof Object))return;var u=Collection.getActive();if(!u)return;var d=window.db.queryAll(u.bookmark_id,{query:{id:n}}).length;if(107==e.keyCode||187==e.keyCode||171==e.keyCode){if(d)return;Widget.addIcon(n,r,c,l,s)}if(109==e.keyCode||189==e.keyCode||173==e.keyCode){if(!d)return;Widget.delIcon(n,r,c)}}}),"function"==typeof r.f&&Object(r.f)()});window.History},250:function(e,t,n){!function(){var t=function(e,n){var i=this;this.input=o(e),this.input.setAttribute("autocomplete","off"),n=n||{},function(e,t,n){for(var o in t){var i=t[o],r=e.input.getAttribute("data-"+o.toLowerCase());"number"==typeof i?e[o]=parseInt(r):!1===i?e[o]=null!==r:i instanceof Function?e[o]=null:e[o]=r,e[o]||0===e[o]||(e[o]=o in n?n[o]:i)}}(this,{minChars:2,maxItems:10,autoFirst:!1,filter:t.FILTER_CONTAINS,sort:t.SORT_BYLENGTH,item:t.ITEM,replace:t.REPLACE},n),this.index=-1,this.container=o.create("div",{className:"awesomplete",around:e}),this.ul=o.create("ul",{hidden:"hidden",inside:this.container}),this.status=o.create("span",{hidden:"hidden",role:"status","aria-live":"assertive","aria-relevant":"additions",inside:this.container}),o.bind(this.input,{input:this.evaluate.bind(this),blur:this.close.bind(this),keydown:function(e){var t=e.keyCode;i.opened&&(13===t&&i.selected?(e.preventDefault(),i.select()):27===t?i.close():38!==t&&40!==t||(e.preventDefault(),i[38===t?"previous":"next"]()))}}),o.bind(this.input.form,{submit:this.close.bind(this)}),o.bind(this.ul,{mousedown:function(e){var t=e.target;if(t!==this){for(;t&&!/li/i.test(t.nodeName);)t=t.parentNode;t&&0===e.button&&i.select(t,e.target)}}}),this.input.hasAttribute("list")?(this.list="#"+this.input.getAttribute("list"),this.input.removeAttribute("list")):this.list=this.input.getAttribute("data-list")||n.list||[],t.all.push(this)};t.prototype={set list(e){Array.isArray(e)?this._list=e:"string"==typeof e&&e.indexOf(",")>-1?this._list=e.split(/\s*,\s*/):(e=o(e))&&e.children&&(this._list=n.apply(e.children).map(function(e){return e.textContent.trim()})),document.activeElement===this.input&&this.evaluate()},get selected(){return this.index>-1},get opened(){return!this.ul.hasAttribute("hidden")},close:function(){this.ul.setAttribute("hidden",""),this.index=-1,o.fire(this.input,"awesomplete-close")},open:function(){this.ul.removeAttribute("hidden"),this.autoFirst&&-1===this.index&&this.goto(0),o.fire(this.input,"awesomplete-open")},next:function(){var e=this.ul.children.length;this.goto(this.index<e-1?this.index+1:-1)},previous:function(){var e=this.ul.children.length;this.goto(this.selected?this.index-1:e-1)},goto:function(e){var t=this.ul.children;this.selected&&t[this.index].setAttribute("aria-selected","false"),this.index=e,e>-1&&t.length>0&&(t[e].setAttribute("aria-selected","true"),this.status.textContent=t[e].textContent),o.fire(this.input,"awesomplete-highlight")},select:function(e,t){((e=e||this.ul.children[this.index]).parentElement.classList.contains("autocomplete-icons")&&(t=e=e.parentElement.parent("li")),e)&&(o.fire(this.input,"awesomplete-select",{text:e.textContent,data:this.suggestions[o.siblingIndex(e)],originalTarget:t||e})&&(this.replace(e.textContent),this.close(),o.fire(this.input,"awesomplete-selectcomplete")))},evaluate:function(){var e=this,t=this.input.value;t.length>=this.minChars&&this._list.length>0?(this.index=-1,this.ul.innerHTML="",this.suggestions=this._list.filter(function(n){return e.filter(n,t)}).slice(0,this.maxItems),this.suggestions.forEach(function(n){e.ul.appendChild(e.item(n,t))}),0===this.ul.children.length?this.close():this.open()):this.close()}},t.all=[],t.FILTER_CONTAINS=function(e,t){return RegExp(o.regExpEscape(t.trim()),"i").test(e)},t.FILTER_STARTSWITH=function(e,t){return RegExp("^"+o.regExpEscape(t),"i").test(e)},t.SORT_BYLENGTH=function(e,t){return e.length!==t.length?e.length-t.length:e<t?-1:1},t.ITEM=function(e,t){var n=""===t?e:e.replace(RegExp(o.regExpEscape(t.toLowerCase().trim()),"gi"),"<mark>$&</mark>");return o.create("li",{innerHTML:n,"aria-selected":"false"})},t.REPLACE=function(e){this.input.value=e.toLowerCase()};var n=Array.prototype.slice;function o(e,t){return"string"==typeof e?(t||document).querySelector(e):e||null}function i(e,t){return n.call((t||document).querySelectorAll(e))}function r(){i("input.awesomplete").forEach(function(e){new t(e)})}o.create=function(e,t){var n=document.createElement(e);for(var i in t){var r=t[i];if("inside"===i)o(r).appendChild(n);else if("around"===i){var a=o(r);a.parentNode.insertBefore(n,a),n.appendChild(a)}else i in n?n[i]=r:n.setAttribute(i,r)}return n},o.bind=function(e,t){if(e)for(var n in t){var o=t[n];n.split(/\s+/).forEach(function(t){e.addEventListener(t,o)})}},o.fire=function(e,t,n){var o=document.createEvent("HTMLEvents");for(var i in o.initEvent(t,!0,!0),n)o[i]=n[i];return e.dispatchEvent(o)},o.regExpEscape=function(e){return e.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")},o.siblingIndex=function(e){for(var t=0;e=e.previousElementSibling;t++);return t},"undefined"!=typeof Document&&("loading"!==document.readyState?r():document.addEventListener("DOMContentLoaded",r)),t.$=o,t.$$=i,"undefined"!=typeof self&&(self.Awesomplete=t),e.exports&&(e.exports=t)}()},251:function(e,t,n){"use strict";n.r(t);var o=n(1),i=(n(12),n(31)),r=n(26),a=n(0);n(252);let c;Element.prototype.hasOwnProperty("parent")||(Element.prototype.parent=function(e){var t=this.parents(e);return void 0===e&&t.reverse(),t&&t.length?t[0]:null}),$(function(){window.awesompletes=[];var e=null;[].forEach.call(document.querySelectorAll(".autocomplete"),function(e){e.classList.contains("home_search_input");var t=new Awesomplete(e,{minChars:2,item:function(e,t){var n={icons:0,items:[],tag_id:0,tag:""};for(var o in window.autocompleteTags)if(window.autocompleteTags[o].tag==e){n=window.autocompleteTags[o];break}n.hasOwnProperty("packs")&&(n.icons=n.packs);var i='<div class="text-container">\t\t\t\t<div class="text">$$</div></div>';return i=(i+="</ul>").replace("$$",e.toLowerCase().replace(new RegExp(t.toLowerCase(),"g"),"<mark>"+t.toLowerCase()+"</mark>")),Awesomplete.$.create("li",{innerHTML:i,"aria-selected":"false","data-position":n.position})},sort:function(){}});if(window.awesompletes.push(t),!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)){let e=document.querySelector(".home_search_input");if(e){e.classList.add("ios");let t=document.querySelector(".home_search_input .awesomplete");t&&t.addEventListener("click",()=>{document.querySelector(".home_search_input .autocomplete").focus()})}}$(e).on("awesomplete-selectcomplete",function(t){e.value=e.value.trim().split("(")[0].trim();const n=e.parent("form"),o=Array.from(n.querySelectorAll(".awesomplete ul li")).map(e=>e).find(t=>t.textContent.replace(/[^a-zA-ZÀ-ÿ ]/g,"")===e.value);Object(i.d)(o.dataset.position,e.value,c),"undefined"!=typeof exec_search?exec_search():n.classList.contains("author_search")?n.submit():Object(i.b)()}).on("blur",function(e){e.value=""})}),$(".autocomplete").on("keyup",function(n){var i=this.classList.contains("home_search_input");if(-1==[27,13,37,38,39,40,106,191].indexOf(n.keyCode)){"function"==typeof o.h?o.h(this.value):this.value;var r=encodeURIComponent(this.value).replace(/[']/g,escape),a=document.querySelector(".search-holder .type-selector input[name=type]:checked"),c=document.querySelector(".search-holder .type-selector input[name=search-group]:checked"),l=!1;c&&!i&&(l="packs"==c.getAttribute("data-type"));var s=l?APP_URL+"ajax/autocomplete_packs?term="+r:APP_URL+"ajax/autocomplete/"+r;if(a)s+=(l?"&":"?")+"type="+a.value;r&&r.length>1&&(e&&clearTimeout(e),function(n){e=setTimeout(()=>{$.ajax({url:encodeURI(n),type:"GET",success:function(e){t(e)}})},400)}(s))}});const t=e=>{for(var t in window.autocomplete=[],window.autocompleteTags=e,e)window.autocomplete.push(e[t].tag);window.awesompletes.forEach(function(e){e.list=window.autocomplete});const n=a.e.view.section!==r.b.home||a.e.UserSession.userInfo.logged?document.querySelector('.main_search_bar .awesomplete input[type="search"]'):document.querySelector('.home_search_input .awesomplete input[type="search"]');c=n.value}})},252:function(e,t,n){(function(e,o){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var r,a=200,c="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",s="__lodash_hash_undefined__",u=500,d="__lodash_placeholder__",m=1,f=2,p=4,h=1,g=2,v=1,y=2,_=4,w=8,b=16,k=32,S=64,E=128,L=256,I=512,q=30,x="...",C=800,A=16,T=1,O=2,$=1/0,j=9007199254740991,P=1.7976931348623157e308,R=NaN,B=4294967295,U=B-1,D=B>>>1,N=[["ary",E],["bind",v],["bindKey",y],["curry",w],["curryRight",b],["flip",I],["partial",k],["partialRight",S],["rearg",L]],F="[object Arguments]",M="[object Array]",H="[object AsyncFunction]",z="[object Boolean]",X="[object Date]",W="[object DOMException]",Y="[object Error]",G="[object Function]",V="[object GeneratorFunction]",J="[object Map]",K="[object Number]",Z="[object Null]",Q="[object Object]",ee="[object Proxy]",te="[object RegExp]",ne="[object Set]",oe="[object String]",ie="[object Symbol]",re="[object Undefined]",ae="[object WeakMap]",ce="[object WeakSet]",le="[object ArrayBuffer]",se="[object DataView]",ue="[object Float32Array]",de="[object Float64Array]",me="[object Int8Array]",fe="[object Int16Array]",pe="[object Int32Array]",he="[object Uint8Array]",ge="[object Uint8ClampedArray]",ve="[object Uint16Array]",ye="[object Uint32Array]",_e=/\b__p \+= '';/g,we=/\b(__p \+=) '' \+/g,be=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ke=/&(?:amp|lt|gt|quot|#39);/g,Se=/[&<>"']/g,Ee=RegExp(ke.source),Le=RegExp(Se.source),Ie=/<%-([\s\S]+?)%>/g,qe=/<%([\s\S]+?)%>/g,xe=/<%=([\s\S]+?)%>/g,Ce=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ae=/^\w*$/,Te=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Oe=/[\\^$.*+?()[\]{}|]/g,$e=RegExp(Oe.source),je=/^\s+|\s+$/g,Pe=/^\s+/,Re=/\s+$/,Be=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ue=/\{\n\/\* \[wrapped with (.+)\] \*/,De=/,? & /,Ne=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Fe=/\\(\\)?/g,Me=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,He=/\w*$/,ze=/^[-+]0x[0-9a-f]+$/i,Xe=/^0b[01]+$/i,We=/^\[object .+?Constructor\]$/,Ye=/^0o[0-7]+$/i,Ge=/^(?:0|[1-9]\d*)$/,Ve=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Je=/($^)/,Ke=/['\n\r\u2028\u2029\\]/g,Ze="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Qe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",et="[\\ud800-\\udfff]",tt="["+Qe+"]",nt="["+Ze+"]",ot="\\d+",it="[\\u2700-\\u27bf]",rt="[a-z\\xdf-\\xf6\\xf8-\\xff]",at="[^\\ud800-\\udfff"+Qe+ot+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ct="\\ud83c[\\udffb-\\udfff]",lt="[^\\ud800-\\udfff]",st="(?:\\ud83c[\\udde6-\\uddff]){2}",ut="[\\ud800-\\udbff][\\udc00-\\udfff]",dt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",mt="(?:"+rt+"|"+at+")",ft="(?:"+dt+"|"+at+")",pt="(?:"+nt+"|"+ct+")"+"?",ht="[\\ufe0e\\ufe0f]?"+pt+("(?:\\u200d(?:"+[lt,st,ut].join("|")+")[\\ufe0e\\ufe0f]?"+pt+")*"),gt="(?:"+[it,st,ut].join("|")+")"+ht,vt="(?:"+[lt+nt+"?",nt,st,ut,et].join("|")+")",yt=RegExp("['’]","g"),_t=RegExp(nt,"g"),wt=RegExp(ct+"(?="+ct+")|"+vt+ht,"g"),bt=RegExp([dt+"?"+rt+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[tt,dt,"$"].join("|")+")",ft+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[tt,dt+mt,"$"].join("|")+")",dt+"?"+mt+"+(?:['’](?:d|ll|m|re|s|t|ve))?",dt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ot,gt].join("|"),"g"),kt=RegExp("[\\u200d\\ud800-\\udfff"+Ze+"\\ufe0e\\ufe0f]"),St=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Et=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Lt=-1,It={};It[ue]=It[de]=It[me]=It[fe]=It[pe]=It[he]=It[ge]=It[ve]=It[ye]=!0,It[F]=It[M]=It[le]=It[z]=It[se]=It[X]=It[Y]=It[G]=It[J]=It[K]=It[Q]=It[te]=It[ne]=It[oe]=It[ae]=!1;var qt={};qt[F]=qt[M]=qt[le]=qt[se]=qt[z]=qt[X]=qt[ue]=qt[de]=qt[me]=qt[fe]=qt[pe]=qt[J]=qt[K]=qt[Q]=qt[te]=qt[ne]=qt[oe]=qt[ie]=qt[he]=qt[ge]=qt[ve]=qt[ye]=!0,qt[Y]=qt[G]=qt[ae]=!1;var xt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ct=parseFloat,At=parseInt,Tt="object"==typeof e&&e&&e.Object===Object&&e,Ot="object"==typeof self&&self&&self.Object===Object&&self,$t=Tt||Ot||Function("return this")(),jt=t&&!t.nodeType&&t,Pt=jt&&"object"==typeof o&&o&&!o.nodeType&&o,Rt=Pt&&Pt.exports===jt,Bt=Rt&&Tt.process,Ut=function(){try{var e=Pt&&Pt.require&&Pt.require("util").types;return e||Bt&&Bt.binding&&Bt.binding("util")}catch(e){}}(),Dt=Ut&&Ut.isArrayBuffer,Nt=Ut&&Ut.isDate,Ft=Ut&&Ut.isMap,Mt=Ut&&Ut.isRegExp,Ht=Ut&&Ut.isSet,zt=Ut&&Ut.isTypedArray;function Xt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Wt(e,t,n,o){for(var i=-1,r=null==e?0:e.length;++i<r;){var a=e[i];t(o,a,n(a),e)}return o}function Yt(e,t){for(var n=-1,o=null==e?0:e.length;++n<o&&!1!==t(e[n],n,e););return e}function Gt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Vt(e,t){for(var n=-1,o=null==e?0:e.length;++n<o;)if(!t(e[n],n,e))return!1;return!0}function Jt(e,t){for(var n=-1,o=null==e?0:e.length,i=0,r=[];++n<o;){var a=e[n];t(a,n,e)&&(r[i++]=a)}return r}function Kt(e,t){return!!(null==e?0:e.length)&&ln(e,t,0)>-1}function Zt(e,t,n){for(var o=-1,i=null==e?0:e.length;++o<i;)if(n(t,e[o]))return!0;return!1}function Qt(e,t){for(var n=-1,o=null==e?0:e.length,i=Array(o);++n<o;)i[n]=t(e[n],n,e);return i}function en(e,t){for(var n=-1,o=t.length,i=e.length;++n<o;)e[i+n]=t[n];return e}function tn(e,t,n,o){var i=-1,r=null==e?0:e.length;for(o&&r&&(n=e[++i]);++i<r;)n=t(n,e[i],i,e);return n}function nn(e,t,n,o){var i=null==e?0:e.length;for(o&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function on(e,t){for(var n=-1,o=null==e?0:e.length;++n<o;)if(t(e[n],n,e))return!0;return!1}var rn=mn("length");function an(e,t,n){var o;return n(e,function(e,n,i){if(t(e,n,i))return o=n,!1}),o}function cn(e,t,n,o){for(var i=e.length,r=n+(o?1:-1);o?r--:++r<i;)if(t(e[r],r,e))return r;return-1}function ln(e,t,n){return t==t?function(e,t,n){var o=n-1,i=e.length;for(;++o<i;)if(e[o]===t)return o;return-1}(e,t,n):cn(e,un,n)}function sn(e,t,n,o){for(var i=n-1,r=e.length;++i<r;)if(o(e[i],t))return i;return-1}function un(e){return e!=e}function dn(e,t){var n=null==e?0:e.length;return n?hn(e,t)/n:R}function mn(e){return function(t){return null==t?r:t[e]}}function fn(e){return function(t){return null==e?r:e[t]}}function pn(e,t,n,o,i){return i(e,function(e,i,r){n=o?(o=!1,e):t(n,e,i,r)}),n}function hn(e,t){for(var n,o=-1,i=e.length;++o<i;){var a=t(e[o]);a!==r&&(n=n===r?a:n+a)}return n}function gn(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}function vn(e){return function(t){return e(t)}}function yn(e,t){return Qt(t,function(t){return e[t]})}function _n(e,t){return e.has(t)}function wn(e,t){for(var n=-1,o=e.length;++n<o&&ln(t,e[n],0)>-1;);return n}function bn(e,t){for(var n=e.length;n--&&ln(t,e[n],0)>-1;);return n}var kn=fn({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Sn=fn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function En(e){return"\\"+xt[e]}function Ln(e){return kt.test(e)}function In(e){var t=-1,n=Array(e.size);return e.forEach(function(e,o){n[++t]=[o,e]}),n}function qn(e,t){return function(n){return e(t(n))}}function xn(e,t){for(var n=-1,o=e.length,i=0,r=[];++n<o;){var a=e[n];a!==t&&a!==d||(e[n]=d,r[i++]=n)}return r}function Cn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function An(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function Tn(e){return Ln(e)?function(e){var t=wt.lastIndex=0;for(;wt.test(e);)++t;return t}(e):rn(e)}function On(e){return Ln(e)?function(e){return e.match(wt)||[]}(e):function(e){return e.split("")}(e)}var $n=fn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var jn=function e(t){var n=(t=null==t?$t:jn.defaults($t.Object(),t,jn.pick($t,Et))).Array,o=t.Date,i=t.Error,Ze=t.Function,Qe=t.Math,et=t.Object,tt=t.RegExp,nt=t.String,ot=t.TypeError,it=n.prototype,rt=Ze.prototype,at=et.prototype,ct=t["__core-js_shared__"],lt=rt.toString,st=at.hasOwnProperty,ut=0,dt=function(){var e=/[^.]+$/.exec(ct&&ct.keys&&ct.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),mt=at.toString,ft=lt.call(et),pt=$t._,ht=tt("^"+lt.call(st).replace(Oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),gt=Rt?t.Buffer:r,vt=t.Symbol,wt=t.Uint8Array,kt=gt?gt.allocUnsafe:r,xt=qn(et.getPrototypeOf,et),Tt=et.create,Ot=at.propertyIsEnumerable,jt=it.splice,Pt=vt?vt.isConcatSpreadable:r,Bt=vt?vt.iterator:r,Ut=vt?vt.toStringTag:r,rn=function(){try{var e=Ur(et,"defineProperty");return e({},"",{}),e}catch(e){}}(),fn=t.clearTimeout!==$t.clearTimeout&&t.clearTimeout,Pn=o&&o.now!==$t.Date.now&&o.now,Rn=t.setTimeout!==$t.setTimeout&&t.setTimeout,Bn=Qe.ceil,Un=Qe.floor,Dn=et.getOwnPropertySymbols,Nn=gt?gt.isBuffer:r,Fn=t.isFinite,Mn=it.join,Hn=qn(et.keys,et),zn=Qe.max,Xn=Qe.min,Wn=o.now,Yn=t.parseInt,Gn=Qe.random,Vn=it.reverse,Jn=Ur(t,"DataView"),Kn=Ur(t,"Map"),Zn=Ur(t,"Promise"),Qn=Ur(t,"Set"),eo=Ur(t,"WeakMap"),to=Ur(et,"create"),no=eo&&new eo,oo={},io=ua(Jn),ro=ua(Kn),ao=ua(Zn),co=ua(Qn),lo=ua(eo),so=vt?vt.prototype:r,uo=so?so.valueOf:r,mo=so?so.toString:r;function fo(e){if(qc(e)&&!gc(e)&&!(e instanceof vo)){if(e instanceof go)return e;if(st.call(e,"__wrapped__"))return da(e)}return new go(e)}var po=function(){function e(){}return function(t){if(!Ic(t))return{};if(Tt)return Tt(t);e.prototype=t;var n=new e;return e.prototype=r,n}}();function ho(){}function go(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}function vo(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=B,this.__views__=[]}function yo(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function _o(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function wo(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function bo(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new wo;++t<n;)this.add(e[t])}function ko(e){var t=this.__data__=new _o(e);this.size=t.size}function So(e,t){var n=gc(e),o=!n&&hc(e),i=!n&&!o&&wc(e),r=!n&&!o&&!i&&Pc(e),a=n||o||i||r,c=a?gn(e.length,nt):[],l=c.length;for(var s in e)!t&&!st.call(e,s)||a&&("length"==s||i&&("offset"==s||"parent"==s)||r&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Xr(s,l))||c.push(s);return c}function Eo(e){var t=e.length;return t?e[bi(0,t-1)]:r}function Lo(e,t){return ca(nr(e),jo(t,0,e.length))}function Io(e){return ca(nr(e))}function qo(e,t,n){(n===r||mc(e[t],n))&&(n!==r||t in e)||Oo(e,t,n)}function xo(e,t,n){var o=e[t];st.call(e,t)&&mc(o,n)&&(n!==r||t in e)||Oo(e,t,n)}function Co(e,t){for(var n=e.length;n--;)if(mc(e[n][0],t))return n;return-1}function Ao(e,t,n,o){return Do(e,function(e,i,r){t(o,e,n(e),r)}),o}function To(e,t){return e&&or(t,ol(t),e)}function Oo(e,t,n){"__proto__"==t&&rn?rn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function $o(e,t){for(var o=-1,i=t.length,a=n(i),c=null==e;++o<i;)a[o]=c?r:Zc(e,t[o]);return a}function jo(e,t,n){return e==e&&(n!==r&&(e=e<=n?e:n),t!==r&&(e=e>=t?e:t)),e}function Po(e,t,n,o,i,a){var c,l=t&m,s=t&f,u=t&p;if(n&&(c=i?n(e,o,i,a):n(e)),c!==r)return c;if(!Ic(e))return e;var d=gc(e);if(d){if(c=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&st.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!l)return nr(e,c)}else{var h=Fr(e),g=h==G||h==V;if(wc(e))return Ji(e,l);if(h==Q||h==F||g&&!i){if(c=s||g?{}:Hr(e),!l)return s?function(e,t){return or(e,Nr(e),t)}(e,function(e,t){return e&&or(t,il(t),e)}(c,e)):function(e,t){return or(e,Dr(e),t)}(e,To(c,e))}else{if(!qt[h])return i?e:{};c=function(e,t,n){var o=e.constructor;switch(t){case le:return Ki(e);case z:case X:return new o(+e);case se:return function(e,t){var n=t?Ki(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case ue:case de:case me:case fe:case pe:case he:case ge:case ve:case ye:return Zi(e,n);case J:return new o;case K:case oe:return new o(e);case te:return function(e){var t=new e.constructor(e.source,He.exec(e));return t.lastIndex=e.lastIndex,t}(e);case ne:return new o;case ie:return function(e){return uo?et(uo.call(e)):{}}(e)}}(e,h,l)}}a||(a=new ko);var v=a.get(e);if(v)return v;a.set(e,c),Oc(e)?e.forEach(function(o){c.add(Po(o,t,n,o,e,a))}):xc(e)&&e.forEach(function(o,i){c.set(i,Po(o,t,n,i,e,a))});var y=d?r:(u?s?Tr:Ar:s?il:ol)(e);return Yt(y||e,function(o,i){y&&(o=e[i=o]),xo(c,i,Po(o,t,n,i,e,a))}),c}function Ro(e,t,n){var o=n.length;if(null==e)return!o;for(e=et(e);o--;){var i=n[o],a=t[i],c=e[i];if(c===r&&!(i in e)||!a(c))return!1}return!0}function Bo(e,t,n){if("function"!=typeof e)throw new ot(l);return oa(function(){e.apply(r,n)},t)}function Uo(e,t,n,o){var i=-1,r=Kt,c=!0,l=e.length,s=[],u=t.length;if(!l)return s;n&&(t=Qt(t,vn(n))),o?(r=Zt,c=!1):t.length>=a&&(r=_n,c=!1,t=new bo(t));e:for(;++i<l;){var d=e[i],m=null==n?d:n(d);if(d=o||0!==d?d:0,c&&m==m){for(var f=u;f--;)if(t[f]===m)continue e;s.push(d)}else r(t,m,o)||s.push(d)}return s}fo.templateSettings={escape:Ie,evaluate:qe,interpolate:xe,variable:"",imports:{_:fo}},fo.prototype=ho.prototype,fo.prototype.constructor=fo,go.prototype=po(ho.prototype),go.prototype.constructor=go,vo.prototype=po(ho.prototype),vo.prototype.constructor=vo,yo.prototype.clear=function(){this.__data__=to?to(null):{},this.size=0},yo.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},yo.prototype.get=function(e){var t=this.__data__;if(to){var n=t[e];return n===s?r:n}return st.call(t,e)?t[e]:r},yo.prototype.has=function(e){var t=this.__data__;return to?t[e]!==r:st.call(t,e)},yo.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=to&&t===r?s:t,this},_o.prototype.clear=function(){this.__data__=[],this.size=0},_o.prototype.delete=function(e){var t=this.__data__,n=Co(t,e);return!(n<0||(n==t.length-1?t.pop():jt.call(t,n,1),--this.size,0))},_o.prototype.get=function(e){var t=this.__data__,n=Co(t,e);return n<0?r:t[n][1]},_o.prototype.has=function(e){return Co(this.__data__,e)>-1},_o.prototype.set=function(e,t){var n=this.__data__,o=Co(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this},wo.prototype.clear=function(){this.size=0,this.__data__={hash:new yo,map:new(Kn||_o),string:new yo}},wo.prototype.delete=function(e){var t=Rr(this,e).delete(e);return this.size-=t?1:0,t},wo.prototype.get=function(e){return Rr(this,e).get(e)},wo.prototype.has=function(e){return Rr(this,e).has(e)},wo.prototype.set=function(e,t){var n=Rr(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this},bo.prototype.add=bo.prototype.push=function(e){return this.__data__.set(e,s),this},bo.prototype.has=function(e){return this.__data__.has(e)},ko.prototype.clear=function(){this.__data__=new _o,this.size=0},ko.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ko.prototype.get=function(e){return this.__data__.get(e)},ko.prototype.has=function(e){return this.__data__.has(e)},ko.prototype.set=function(e,t){var n=this.__data__;if(n instanceof _o){var o=n.__data__;if(!Kn||o.length<a-1)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new wo(o)}return n.set(e,t),this.size=n.size,this};var Do=ar(Yo),No=ar(Go,!0);function Fo(e,t){var n=!0;return Do(e,function(e,o,i){return n=!!t(e,o,i)}),n}function Mo(e,t,n){for(var o=-1,i=e.length;++o<i;){var a=e[o],c=t(a);if(null!=c&&(l===r?c==c&&!jc(c):n(c,l)))var l=c,s=a}return s}function Ho(e,t){var n=[];return Do(e,function(e,o,i){t(e,o,i)&&n.push(e)}),n}function zo(e,t,n,o,i){var r=-1,a=e.length;for(n||(n=zr),i||(i=[]);++r<a;){var c=e[r];t>0&&n(c)?t>1?zo(c,t-1,n,o,i):en(i,c):o||(i[i.length]=c)}return i}var Xo=cr(),Wo=cr(!0);function Yo(e,t){return e&&Xo(e,t,ol)}function Go(e,t){return e&&Wo(e,t,ol)}function Vo(e,t){return Jt(t,function(t){return Sc(e[t])})}function Jo(e,t){for(var n=0,o=(t=Wi(t,e)).length;null!=e&&n<o;)e=e[sa(t[n++])];return n&&n==o?e:r}function Ko(e,t,n){var o=t(e);return gc(e)?o:en(o,n(e))}function Zo(e){return null==e?e===r?re:Z:Ut&&Ut in et(e)?function(e){var t=st.call(e,Ut),n=e[Ut];try{e[Ut]=r;var o=!0}catch(e){}var i=mt.call(e);return o&&(t?e[Ut]=n:delete e[Ut]),i}(e):function(e){return mt.call(e)}(e)}function Qo(e,t){return e>t}function ei(e,t){return null!=e&&st.call(e,t)}function ti(e,t){return null!=e&&t in et(e)}function ni(e,t,o){for(var i=o?Zt:Kt,a=e[0].length,c=e.length,l=c,s=n(c),u=1/0,d=[];l--;){var m=e[l];l&&t&&(m=Qt(m,vn(t))),u=Xn(m.length,u),s[l]=!o&&(t||a>=120&&m.length>=120)?new bo(l&&m):r}m=e[0];var f=-1,p=s[0];e:for(;++f<a&&d.length<u;){var h=m[f],g=t?t(h):h;if(h=o||0!==h?h:0,!(p?_n(p,g):i(d,g,o))){for(l=c;--l;){var v=s[l];if(!(v?_n(v,g):i(e[l],g,o)))continue e}p&&p.push(g),d.push(h)}}return d}function oi(e,t,n){var o=null==(e=ea(e,t=Wi(t,e)))?e:e[sa(ka(t))];return null==o?r:Xt(o,e,n)}function ii(e){return qc(e)&&Zo(e)==F}function ri(e,t,n,o,i){return e===t||(null==e||null==t||!qc(e)&&!qc(t)?e!=e&&t!=t:function(e,t,n,o,i,a){var c=gc(e),l=gc(t),s=c?M:Fr(e),u=l?M:Fr(t),d=(s=s==F?Q:s)==Q,m=(u=u==F?Q:u)==Q,f=s==u;if(f&&wc(e)){if(!wc(t))return!1;c=!0,d=!1}if(f&&!d)return a||(a=new ko),c||Pc(e)?xr(e,t,n,o,i,a):function(e,t,n,o,i,r,a){switch(n){case se:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case le:return!(e.byteLength!=t.byteLength||!r(new wt(e),new wt(t)));case z:case X:case K:return mc(+e,+t);case Y:return e.name==t.name&&e.message==t.message;case te:case oe:return e==t+"";case J:var c=In;case ne:var l=o&h;if(c||(c=Cn),e.size!=t.size&&!l)return!1;var s=a.get(e);if(s)return s==t;o|=g,a.set(e,t);var u=xr(c(e),c(t),o,i,r,a);return a.delete(e),u;case ie:if(uo)return uo.call(e)==uo.call(t)}return!1}(e,t,s,n,o,i,a);if(!(n&h)){var p=d&&st.call(e,"__wrapped__"),v=m&&st.call(t,"__wrapped__");if(p||v){var y=p?e.value():e,_=v?t.value():t;return a||(a=new ko),i(y,_,n,o,a)}}return!!f&&(a||(a=new ko),function(e,t,n,o,i,a){var c=n&h,l=Ar(e),s=l.length,u=Ar(t).length;if(s!=u&&!c)return!1;for(var d=s;d--;){var m=l[d];if(!(c?m in t:st.call(t,m)))return!1}var f=a.get(e);if(f&&a.get(t))return f==t;var p=!0;a.set(e,t),a.set(t,e);for(var g=c;++d<s;){m=l[d];var v=e[m],y=t[m];if(o)var _=c?o(y,v,m,t,e,a):o(v,y,m,e,t,a);if(!(_===r?v===y||i(v,y,n,o,a):_)){p=!1;break}g||(g="constructor"==m)}if(p&&!g){var w=e.constructor,b=t.constructor;w!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof w&&w instanceof w&&"function"==typeof b&&b instanceof b)&&(p=!1)}return a.delete(e),a.delete(t),p}(e,t,n,o,i,a))}(e,t,n,o,ri,i))}function ai(e,t,n,o){var i=n.length,a=i,c=!o;if(null==e)return!a;for(e=et(e);i--;){var l=n[i];if(c&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<a;){var s=(l=n[i])[0],u=e[s],d=l[1];if(c&&l[2]){if(u===r&&!(s in e))return!1}else{var m=new ko;if(o)var f=o(u,d,s,e,t,m);if(!(f===r?ri(d,u,h|g,o,m):f))return!1}}return!0}function ci(e){return!(!Ic(e)||function(e){return!!dt&&dt in e}(e))&&(Sc(e)?ht:We).test(ua(e))}function li(e){return"function"==typeof e?e:null==e?Cl:"object"==typeof e?gc(e)?pi(e[0],e[1]):fi(e):Ul(e)}function si(e){if(!Jr(e))return Hn(e);var t=[];for(var n in et(e))st.call(e,n)&&"constructor"!=n&&t.push(n);return t}function ui(e){if(!Ic(e))return function(e){var t=[];if(null!=e)for(var n in et(e))t.push(n);return t}(e);var t=Jr(e),n=[];for(var o in e)("constructor"!=o||!t&&st.call(e,o))&&n.push(o);return n}function di(e,t){return e<t}function mi(e,t){var o=-1,i=yc(e)?n(e.length):[];return Do(e,function(e,n,r){i[++o]=t(e,n,r)}),i}function fi(e){var t=Br(e);return 1==t.length&&t[0][2]?Zr(t[0][0],t[0][1]):function(n){return n===e||ai(n,e,t)}}function pi(e,t){return Yr(e)&&Kr(t)?Zr(sa(e),t):function(n){var o=Zc(n,e);return o===r&&o===t?Qc(n,e):ri(t,o,h|g)}}function hi(e,t,n,o,i){e!==t&&Xo(t,function(a,c){if(i||(i=new ko),Ic(a))!function(e,t,n,o,i,a,c){var l=ta(e,n),s=ta(t,n),u=c.get(s);if(u)qo(e,n,u);else{var d=a?a(l,s,n+"",e,t,c):r,m=d===r;if(m){var f=gc(s),p=!f&&wc(s),h=!f&&!p&&Pc(s);d=s,f||p||h?gc(l)?d=l:_c(l)?d=nr(l):p?(m=!1,d=Ji(s,!0)):h?(m=!1,d=Zi(s,!0)):d=[]:Ac(s)||hc(s)?(d=l,hc(l)?d=Hc(l):Ic(l)&&!Sc(l)||(d=Hr(s))):m=!1}m&&(c.set(s,d),i(d,s,o,a,c),c.delete(s)),qo(e,n,d)}}(e,t,c,n,hi,o,i);else{var l=o?o(ta(e,c),a,c+"",e,t,i):r;l===r&&(l=a),qo(e,c,l)}},il)}function gi(e,t){var n=e.length;if(n)return Xr(t+=t<0?n:0,n)?e[t]:r}function vi(e,t,n){var o=-1;return t=Qt(t.length?t:[Cl],vn(Pr())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(mi(e,function(e,n,i){return{criteria:Qt(t,function(t){return t(e)}),index:++o,value:e}}),function(e,t){return function(e,t,n){for(var o=-1,i=e.criteria,r=t.criteria,a=i.length,c=n.length;++o<a;){var l=Qi(i[o],r[o]);if(l){if(o>=c)return l;var s=n[o];return l*("desc"==s?-1:1)}}return e.index-t.index}(e,t,n)})}function yi(e,t,n){for(var o=-1,i=t.length,r={};++o<i;){var a=t[o],c=Jo(e,a);n(c,a)&&Ii(r,Wi(a,e),c)}return r}function _i(e,t,n,o){var i=o?sn:ln,r=-1,a=t.length,c=e;for(e===t&&(t=nr(t)),n&&(c=Qt(e,vn(n)));++r<a;)for(var l=0,s=t[r],u=n?n(s):s;(l=i(c,u,l,o))>-1;)c!==e&&jt.call(c,l,1),jt.call(e,l,1);return e}function wi(e,t){for(var n=e?t.length:0,o=n-1;n--;){var i=t[n];if(n==o||i!==r){var r=i;Xr(i)?jt.call(e,i,1):Ui(e,i)}}return e}function bi(e,t){return e+Un(Gn()*(t-e+1))}function ki(e,t){var n="";if(!e||t<1||t>j)return n;do{t%2&&(n+=e),(t=Un(t/2))&&(e+=e)}while(t);return n}function Si(e,t){return ia(Qr(e,t,Cl),e+"")}function Ei(e){return Eo(ml(e))}function Li(e,t){var n=ml(e);return ca(n,jo(t,0,n.length))}function Ii(e,t,n,o){if(!Ic(e))return e;for(var i=-1,a=(t=Wi(t,e)).length,c=a-1,l=e;null!=l&&++i<a;){var s=sa(t[i]),u=n;if(i!=c){var d=l[s];(u=o?o(d,s,l):r)===r&&(u=Ic(d)?d:Xr(t[i+1])?[]:{})}xo(l,s,u),l=l[s]}return e}var qi=no?function(e,t){return no.set(e,t),e}:Cl,xi=rn?function(e,t){return rn(e,"toString",{configurable:!0,enumerable:!1,value:Il(t),writable:!0})}:Cl;function Ci(e){return ca(ml(e))}function Ai(e,t,o){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(o=o>r?r:o)<0&&(o+=r),r=t>o?0:o-t>>>0,t>>>=0;for(var a=n(r);++i<r;)a[i]=e[i+t];return a}function Ti(e,t){var n;return Do(e,function(e,o,i){return!(n=t(e,o,i))}),!!n}function Oi(e,t,n){var o=0,i=null==e?o:e.length;if("number"==typeof t&&t==t&&i<=D){for(;o<i;){var r=o+i>>>1,a=e[r];null!==a&&!jc(a)&&(n?a<=t:a<t)?o=r+1:i=r}return i}return $i(e,t,Cl,n)}function $i(e,t,n,o){t=n(t);for(var i=0,a=null==e?0:e.length,c=t!=t,l=null===t,s=jc(t),u=t===r;i<a;){var d=Un((i+a)/2),m=n(e[d]),f=m!==r,p=null===m,h=m==m,g=jc(m);if(c)var v=o||h;else v=u?h&&(o||f):l?h&&f&&(o||!p):s?h&&f&&!p&&(o||!g):!p&&!g&&(o?m<=t:m<t);v?i=d+1:a=d}return Xn(a,U)}function ji(e,t){for(var n=-1,o=e.length,i=0,r=[];++n<o;){var a=e[n],c=t?t(a):a;if(!n||!mc(c,l)){var l=c;r[i++]=0===a?0:a}}return r}function Pi(e){return"number"==typeof e?e:jc(e)?R:+e}function Ri(e){if("string"==typeof e)return e;if(gc(e))return Qt(e,Ri)+"";if(jc(e))return mo?mo.call(e):"";var t=e+"";return"0"==t&&1/e==-$?"-0":t}function Bi(e,t,n){var o=-1,i=Kt,r=e.length,c=!0,l=[],s=l;if(n)c=!1,i=Zt;else if(r>=a){var u=t?null:kr(e);if(u)return Cn(u);c=!1,i=_n,s=new bo}else s=t?[]:l;e:for(;++o<r;){var d=e[o],m=t?t(d):d;if(d=n||0!==d?d:0,c&&m==m){for(var f=s.length;f--;)if(s[f]===m)continue e;t&&s.push(m),l.push(d)}else i(s,m,n)||(s!==l&&s.push(m),l.push(d))}return l}function Ui(e,t){return null==(e=ea(e,t=Wi(t,e)))||delete e[sa(ka(t))]}function Di(e,t,n,o){return Ii(e,t,n(Jo(e,t)),o)}function Ni(e,t,n,o){for(var i=e.length,r=o?i:-1;(o?r--:++r<i)&&t(e[r],r,e););return n?Ai(e,o?0:r,o?r+1:i):Ai(e,o?r+1:0,o?i:r)}function Fi(e,t){var n=e;return n instanceof vo&&(n=n.value()),tn(t,function(e,t){return t.func.apply(t.thisArg,en([e],t.args))},n)}function Mi(e,t,o){var i=e.length;if(i<2)return i?Bi(e[0]):[];for(var r=-1,a=n(i);++r<i;)for(var c=e[r],l=-1;++l<i;)l!=r&&(a[r]=Uo(a[r]||c,e[l],t,o));return Bi(zo(a,1),t,o)}function Hi(e,t,n){for(var o=-1,i=e.length,a=t.length,c={};++o<i;){var l=o<a?t[o]:r;n(c,e[o],l)}return c}function zi(e){return _c(e)?e:[]}function Xi(e){return"function"==typeof e?e:Cl}function Wi(e,t){return gc(e)?e:Yr(e,t)?[e]:la(zc(e))}var Yi=Si;function Gi(e,t,n){var o=e.length;return n=n===r?o:n,!t&&n>=o?e:Ai(e,t,n)}var Vi=fn||function(e){return $t.clearTimeout(e)};function Ji(e,t){if(t)return e.slice();var n=e.length,o=kt?kt(n):new e.constructor(n);return e.copy(o),o}function Ki(e){var t=new e.constructor(e.byteLength);return new wt(t).set(new wt(e)),t}function Zi(e,t){var n=t?Ki(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Qi(e,t){if(e!==t){var n=e!==r,o=null===e,i=e==e,a=jc(e),c=t!==r,l=null===t,s=t==t,u=jc(t);if(!l&&!u&&!a&&e>t||a&&c&&s&&!l&&!u||o&&c&&s||!n&&s||!i)return 1;if(!o&&!a&&!u&&e<t||u&&n&&i&&!o&&!a||l&&n&&i||!c&&i||!s)return-1}return 0}function er(e,t,o,i){for(var r=-1,a=e.length,c=o.length,l=-1,s=t.length,u=zn(a-c,0),d=n(s+u),m=!i;++l<s;)d[l]=t[l];for(;++r<c;)(m||r<a)&&(d[o[r]]=e[r]);for(;u--;)d[l++]=e[r++];return d}function tr(e,t,o,i){for(var r=-1,a=e.length,c=-1,l=o.length,s=-1,u=t.length,d=zn(a-l,0),m=n(d+u),f=!i;++r<d;)m[r]=e[r];for(var p=r;++s<u;)m[p+s]=t[s];for(;++c<l;)(f||r<a)&&(m[p+o[c]]=e[r++]);return m}function nr(e,t){var o=-1,i=e.length;for(t||(t=n(i));++o<i;)t[o]=e[o];return t}function or(e,t,n,o){var i=!n;n||(n={});for(var a=-1,c=t.length;++a<c;){var l=t[a],s=o?o(n[l],e[l],l,n,e):r;s===r&&(s=e[l]),i?Oo(n,l,s):xo(n,l,s)}return n}function ir(e,t){return function(n,o){var i=gc(n)?Wt:Ao,r=t?t():{};return i(n,e,Pr(o,2),r)}}function rr(e){return Si(function(t,n){var o=-1,i=n.length,a=i>1?n[i-1]:r,c=i>2?n[2]:r;for(a=e.length>3&&"function"==typeof a?(i--,a):r,c&&Wr(n[0],n[1],c)&&(a=i<3?r:a,i=1),t=et(t);++o<i;){var l=n[o];l&&e(t,l,o,a)}return t})}function ar(e,t){return function(n,o){if(null==n)return n;if(!yc(n))return e(n,o);for(var i=n.length,r=t?i:-1,a=et(n);(t?r--:++r<i)&&!1!==o(a[r],r,a););return n}}function cr(e){return function(t,n,o){for(var i=-1,r=et(t),a=o(t),c=a.length;c--;){var l=a[e?c:++i];if(!1===n(r[l],l,r))break}return t}}function lr(e){return function(t){var n=Ln(t=zc(t))?On(t):r,o=n?n[0]:t.charAt(0),i=n?Gi(n,1).join(""):t.slice(1);return o[e]()+i}}function sr(e){return function(t){return tn(Sl(hl(t).replace(yt,"")),e,"")}}function ur(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=po(e.prototype),o=e.apply(n,t);return Ic(o)?o:n}}function dr(e){return function(t,n,o){var i=et(t);if(!yc(t)){var a=Pr(n,3);t=ol(t),n=function(e){return a(i[e],e,i)}}var c=e(t,n,o);return c>-1?i[a?t[c]:c]:r}}function mr(e){return Cr(function(t){var n=t.length,o=n,i=go.prototype.thru;for(e&&t.reverse();o--;){var a=t[o];if("function"!=typeof a)throw new ot(l);if(i&&!c&&"wrapper"==$r(a))var c=new go([],!0)}for(o=c?o:n;++o<n;){var s=$r(a=t[o]),u="wrapper"==s?Or(a):r;c=u&&Gr(u[0])&&u[1]==(E|w|k|L)&&!u[4].length&&1==u[9]?c[$r(u[0])].apply(c,u[3]):1==a.length&&Gr(a)?c[s]():c.thru(a)}return function(){var e=arguments,o=e[0];if(c&&1==e.length&&gc(o))return c.plant(o).value();for(var i=0,r=n?t[i].apply(this,e):o;++i<n;)r=t[i].call(this,r);return r}})}function fr(e,t,o,i,a,c,l,s,u,d){var m=t&E,f=t&v,p=t&y,h=t&(w|b),g=t&I,_=p?r:ur(e);return function v(){for(var y=arguments.length,w=n(y),b=y;b--;)w[b]=arguments[b];if(h)var k=jr(v),S=function(e,t){for(var n=e.length,o=0;n--;)e[n]===t&&++o;return o}(w,k);if(i&&(w=er(w,i,a,h)),c&&(w=tr(w,c,l,h)),y-=S,h&&y<d){var E=xn(w,k);return wr(e,t,fr,v.placeholder,o,w,E,s,u,d-y)}var L=f?o:this,I=p?L[e]:e;return y=w.length,s?w=function(e,t){for(var n=e.length,o=Xn(t.length,n),i=nr(e);o--;){var a=t[o];e[o]=Xr(a,n)?i[a]:r}return e}(w,s):g&&y>1&&w.reverse(),m&&u<y&&(w.length=u),this&&this!==$t&&this instanceof v&&(I=_||ur(I)),I.apply(L,w)}}function pr(e,t){return function(n,o){return function(e,t,n,o){return Yo(e,function(e,i,r){t(o,n(e),i,r)}),o}(n,e,t(o),{})}}function hr(e,t){return function(n,o){var i;if(n===r&&o===r)return t;if(n!==r&&(i=n),o!==r){if(i===r)return o;"string"==typeof n||"string"==typeof o?(n=Ri(n),o=Ri(o)):(n=Pi(n),o=Pi(o)),i=e(n,o)}return i}}function gr(e){return Cr(function(t){return t=Qt(t,vn(Pr())),Si(function(n){var o=this;return e(t,function(e){return Xt(e,o,n)})})})}function vr(e,t){var n=(t=t===r?" ":Ri(t)).length;if(n<2)return n?ki(t,e):t;var o=ki(t,Bn(e/Tn(t)));return Ln(t)?Gi(On(o),0,e).join(""):o.slice(0,e)}function yr(e){return function(t,o,i){return i&&"number"!=typeof i&&Wr(t,o,i)&&(o=i=r),t=Dc(t),o===r?(o=t,t=0):o=Dc(o),function(e,t,o,i){for(var r=-1,a=zn(Bn((t-e)/(o||1)),0),c=n(a);a--;)c[i?a:++r]=e,e+=o;return c}(t,o,i=i===r?t<o?1:-1:Dc(i),e)}}function _r(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Mc(t),n=Mc(n)),e(t,n)}}function wr(e,t,n,o,i,a,c,l,s,u){var d=t&w;t|=d?k:S,(t&=~(d?S:k))&_||(t&=~(v|y));var m=[e,t,i,d?a:r,d?c:r,d?r:a,d?r:c,l,s,u],f=n.apply(r,m);return Gr(e)&&na(f,m),f.placeholder=o,ra(f,e,t)}function br(e){var t=Qe[e];return function(e,n){if(e=Mc(e),(n=null==n?0:Xn(Nc(n),292))&&Fn(e)){var o=(zc(e)+"e").split("e");return+((o=(zc(t(o[0]+"e"+(+o[1]+n)))+"e").split("e"))[0]+"e"+(+o[1]-n))}return t(e)}}var kr=Qn&&1/Cn(new Qn([,-0]))[1]==$?function(e){return new Qn(e)}:jl;function Sr(e){return function(t){var n=Fr(t);return n==J?In(t):n==ne?An(t):function(e,t){return Qt(t,function(t){return[t,e[t]]})}(t,e(t))}}function Er(e,t,o,i,a,c,s,u){var m=t&y;if(!m&&"function"!=typeof e)throw new ot(l);var f=i?i.length:0;if(f||(t&=~(k|S),i=a=r),s=s===r?s:zn(Nc(s),0),u=u===r?u:Nc(u),f-=a?a.length:0,t&S){var p=i,h=a;i=a=r}var g=m?r:Or(e),I=[e,t,o,i,a,p,h,c,s,u];if(g&&function(e,t){var n=e[1],o=t[1],i=n|o,r=i<(v|y|E),a=o==E&&n==w||o==E&&n==L&&e[7].length<=t[8]||o==(E|L)&&t[7].length<=t[8]&&n==w;if(!r&&!a)return e;o&v&&(e[2]=t[2],i|=n&v?0:_);var c=t[3];if(c){var l=e[3];e[3]=l?er(l,c,t[4]):c,e[4]=l?xn(e[3],d):t[4]}(c=t[5])&&(l=e[5],e[5]=l?tr(l,c,t[6]):c,e[6]=l?xn(e[5],d):t[6]),(c=t[7])&&(e[7]=c),o&E&&(e[8]=null==e[8]?t[8]:Xn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(I,g),e=I[0],t=I[1],o=I[2],i=I[3],a=I[4],!(u=I[9]=I[9]===r?m?0:e.length:zn(I[9]-f,0))&&t&(w|b)&&(t&=~(w|b)),t&&t!=v)q=t==w||t==b?function(e,t,o){var i=ur(e);return function a(){for(var c=arguments.length,l=n(c),s=c,u=jr(a);s--;)l[s]=arguments[s];var d=c<3&&l[0]!==u&&l[c-1]!==u?[]:xn(l,u);return(c-=d.length)<o?wr(e,t,fr,a.placeholder,r,l,d,r,r,o-c):Xt(this&&this!==$t&&this instanceof a?i:e,this,l)}}(e,t,u):t!=k&&t!=(v|k)||a.length?fr.apply(r,I):function(e,t,o,i){var r=t&v,a=ur(e);return function t(){for(var c=-1,l=arguments.length,s=-1,u=i.length,d=n(u+l),m=this&&this!==$t&&this instanceof t?a:e;++s<u;)d[s]=i[s];for(;l--;)d[s++]=arguments[++c];return Xt(m,r?o:this,d)}}(e,t,o,i);else var q=function(e,t,n){var o=t&v,i=ur(e);return function t(){return(this&&this!==$t&&this instanceof t?i:e).apply(o?n:this,arguments)}}(e,t,o);return ra((g?qi:na)(q,I),e,t)}function Lr(e,t,n,o){return e===r||mc(e,at[n])&&!st.call(o,n)?t:e}function Ir(e,t,n,o,i,a){return Ic(e)&&Ic(t)&&(a.set(t,e),hi(e,t,r,Ir,a),a.delete(t)),e}function qr(e){return Ac(e)?r:e}function xr(e,t,n,o,i,a){var c=n&h,l=e.length,s=t.length;if(l!=s&&!(c&&s>l))return!1;var u=a.get(e);if(u&&a.get(t))return u==t;var d=-1,m=!0,f=n&g?new bo:r;for(a.set(e,t),a.set(t,e);++d<l;){var p=e[d],v=t[d];if(o)var y=c?o(v,p,d,t,e,a):o(p,v,d,e,t,a);if(y!==r){if(y)continue;m=!1;break}if(f){if(!on(t,function(e,t){if(!_n(f,t)&&(p===e||i(p,e,n,o,a)))return f.push(t)})){m=!1;break}}else if(p!==v&&!i(p,v,n,o,a)){m=!1;break}}return a.delete(e),a.delete(t),m}function Cr(e){return ia(Qr(e,r,va),e+"")}function Ar(e){return Ko(e,ol,Dr)}function Tr(e){return Ko(e,il,Nr)}var Or=no?function(e){return no.get(e)}:jl;function $r(e){for(var t=e.name+"",n=oo[t],o=st.call(oo,t)?n.length:0;o--;){var i=n[o],r=i.func;if(null==r||r==e)return i.name}return t}function jr(e){return(st.call(fo,"placeholder")?fo:e).placeholder}function Pr(){var e=fo.iteratee||Al;return e=e===Al?li:e,arguments.length?e(arguments[0],arguments[1]):e}function Rr(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Br(e){for(var t=ol(e),n=t.length;n--;){var o=t[n],i=e[o];t[n]=[o,i,Kr(i)]}return t}function Ur(e,t){var n=function(e,t){return null==e?r:e[t]}(e,t);return ci(n)?n:r}var Dr=Dn?function(e){return null==e?[]:(e=et(e),Jt(Dn(e),function(t){return Ot.call(e,t)}))}:Fl,Nr=Dn?function(e){for(var t=[];e;)en(t,Dr(e)),e=xt(e);return t}:Fl,Fr=Zo;function Mr(e,t,n){for(var o=-1,i=(t=Wi(t,e)).length,r=!1;++o<i;){var a=sa(t[o]);if(!(r=null!=e&&n(e,a)))break;e=e[a]}return r||++o!=i?r:!!(i=null==e?0:e.length)&&Lc(i)&&Xr(a,i)&&(gc(e)||hc(e))}function Hr(e){return"function"!=typeof e.constructor||Jr(e)?{}:po(xt(e))}function zr(e){return gc(e)||hc(e)||!!(Pt&&e&&e[Pt])}function Xr(e,t){var n=typeof e;return!!(t=null==t?j:t)&&("number"==n||"symbol"!=n&&Ge.test(e))&&e>-1&&e%1==0&&e<t}function Wr(e,t,n){if(!Ic(n))return!1;var o=typeof t;return!!("number"==o?yc(n)&&Xr(t,n.length):"string"==o&&t in n)&&mc(n[t],e)}function Yr(e,t){if(gc(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!jc(e))||Ae.test(e)||!Ce.test(e)||null!=t&&e in et(t)}function Gr(e){var t=$r(e),n=fo[t];if("function"!=typeof n||!(t in vo.prototype))return!1;if(e===n)return!0;var o=Or(n);return!!o&&e===o[0]}(Jn&&Fr(new Jn(new ArrayBuffer(1)))!=se||Kn&&Fr(new Kn)!=J||Zn&&"[object Promise]"!=Fr(Zn.resolve())||Qn&&Fr(new Qn)!=ne||eo&&Fr(new eo)!=ae)&&(Fr=function(e){var t=Zo(e),n=t==Q?e.constructor:r,o=n?ua(n):"";if(o)switch(o){case io:return se;case ro:return J;case ao:return"[object Promise]";case co:return ne;case lo:return ae}return t});var Vr=ct?Sc:Ml;function Jr(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||at)}function Kr(e){return e==e&&!Ic(e)}function Zr(e,t){return function(n){return null!=n&&n[e]===t&&(t!==r||e in et(n))}}function Qr(e,t,o){return t=zn(t===r?e.length-1:t,0),function(){for(var i=arguments,r=-1,a=zn(i.length-t,0),c=n(a);++r<a;)c[r]=i[t+r];r=-1;for(var l=n(t+1);++r<t;)l[r]=i[r];return l[t]=o(c),Xt(e,this,l)}}function ea(e,t){return t.length<2?e:Jo(e,Ai(t,0,-1))}function ta(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var na=aa(qi),oa=Rn||function(e,t){return $t.setTimeout(e,t)},ia=aa(xi);function ra(e,t,n){var o=t+"";return ia(e,function(e,t){var n=t.length;if(!n)return e;var o=n-1;return t[o]=(n>1?"& ":"")+t[o],t=t.join(n>2?", ":" "),e.replace(Be,"{\n/* [wrapped with "+t+"] */\n")}(o,function(e,t){return Yt(N,function(n){var o="_."+n[0];t&n[1]&&!Kt(e,o)&&e.push(o)}),e.sort()}(function(e){var t=e.match(Ue);return t?t[1].split(De):[]}(o),n)))}function aa(e){var t=0,n=0;return function(){var o=Wn(),i=A-(o-n);if(n=o,i>0){if(++t>=C)return arguments[0]}else t=0;return e.apply(r,arguments)}}function ca(e,t){var n=-1,o=e.length,i=o-1;for(t=t===r?o:t;++n<t;){var a=bi(n,i),c=e[a];e[a]=e[n],e[n]=c}return e.length=t,e}var la=function(e){var t=ac(e,function(e){return n.size===u&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Te,function(e,n,o,i){t.push(o?i.replace(Fe,"$1"):n||e)}),t});function sa(e){if("string"==typeof e||jc(e))return e;var t=e+"";return"0"==t&&1/e==-$?"-0":t}function ua(e){if(null!=e){try{return lt.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function da(e){if(e instanceof vo)return e.clone();var t=new go(e.__wrapped__,e.__chain__);return t.__actions__=nr(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var ma=Si(function(e,t){return _c(e)?Uo(e,zo(t,1,_c,!0)):[]}),fa=Si(function(e,t){var n=ka(t);return _c(n)&&(n=r),_c(e)?Uo(e,zo(t,1,_c,!0),Pr(n,2)):[]}),pa=Si(function(e,t){var n=ka(t);return _c(n)&&(n=r),_c(e)?Uo(e,zo(t,1,_c,!0),r,n):[]});function ha(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var i=null==n?0:Nc(n);return i<0&&(i=zn(o+i,0)),cn(e,Pr(t,3),i)}function ga(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var i=o-1;return n!==r&&(i=Nc(n),i=n<0?zn(o+i,0):Xn(i,o-1)),cn(e,Pr(t,3),i,!0)}function va(e){return null!=e&&e.length?zo(e,1):[]}function ya(e){return e&&e.length?e[0]:r}var _a=Si(function(e){var t=Qt(e,zi);return t.length&&t[0]===e[0]?ni(t):[]}),wa=Si(function(e){var t=ka(e),n=Qt(e,zi);return t===ka(n)?t=r:n.pop(),n.length&&n[0]===e[0]?ni(n,Pr(t,2)):[]}),ba=Si(function(e){var t=ka(e),n=Qt(e,zi);return(t="function"==typeof t?t:r)&&n.pop(),n.length&&n[0]===e[0]?ni(n,r,t):[]});function ka(e){var t=null==e?0:e.length;return t?e[t-1]:r}var Sa=Si(Ea);function Ea(e,t){return e&&e.length&&t&&t.length?_i(e,t):e}var La=Cr(function(e,t){var n=null==e?0:e.length,o=$o(e,t);return wi(e,Qt(t,function(e){return Xr(e,n)?+e:e}).sort(Qi)),o});function Ia(e){return null==e?e:Vn.call(e)}var qa=Si(function(e){return Bi(zo(e,1,_c,!0))}),xa=Si(function(e){var t=ka(e);return _c(t)&&(t=r),Bi(zo(e,1,_c,!0),Pr(t,2))}),Ca=Si(function(e){var t=ka(e);return t="function"==typeof t?t:r,Bi(zo(e,1,_c,!0),r,t)});function Aa(e){if(!e||!e.length)return[];var t=0;return e=Jt(e,function(e){if(_c(e))return t=zn(e.length,t),!0}),gn(t,function(t){return Qt(e,mn(t))})}function Ta(e,t){if(!e||!e.length)return[];var n=Aa(e);return null==t?n:Qt(n,function(e){return Xt(t,r,e)})}var Oa=Si(function(e,t){return _c(e)?Uo(e,t):[]}),$a=Si(function(e){return Mi(Jt(e,_c))}),ja=Si(function(e){var t=ka(e);return _c(t)&&(t=r),Mi(Jt(e,_c),Pr(t,2))}),Pa=Si(function(e){var t=ka(e);return t="function"==typeof t?t:r,Mi(Jt(e,_c),r,t)}),Ra=Si(Aa);var Ba=Si(function(e){var t=e.length,n=t>1?e[t-1]:r;return Ta(e,n="function"==typeof n?(e.pop(),n):r)});function Ua(e){var t=fo(e);return t.__chain__=!0,t}function Da(e,t){return t(e)}var Na=Cr(function(e){var t=e.length,n=t?e[0]:0,o=this.__wrapped__,i=function(t){return $o(t,e)};return!(t>1||this.__actions__.length)&&o instanceof vo&&Xr(n)?((o=o.slice(n,+n+(t?1:0))).__actions__.push({func:Da,args:[i],thisArg:r}),new go(o,this.__chain__).thru(function(e){return t&&!e.length&&e.push(r),e})):this.thru(i)});var Fa=ir(function(e,t,n){st.call(e,n)?++e[n]:Oo(e,n,1)});var Ma=dr(ha),Ha=dr(ga);function za(e,t){return(gc(e)?Yt:Do)(e,Pr(t,3))}function Xa(e,t){return(gc(e)?Gt:No)(e,Pr(t,3))}var Wa=ir(function(e,t,n){st.call(e,n)?e[n].push(t):Oo(e,n,[t])});var Ya=Si(function(e,t,o){var i=-1,r="function"==typeof t,a=yc(e)?n(e.length):[];return Do(e,function(e){a[++i]=r?Xt(t,e,o):oi(e,t,o)}),a}),Ga=ir(function(e,t,n){Oo(e,n,t)});function Va(e,t){return(gc(e)?Qt:mi)(e,Pr(t,3))}var Ja=ir(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});var Ka=Si(function(e,t){if(null==e)return[];var n=t.length;return n>1&&Wr(e,t[0],t[1])?t=[]:n>2&&Wr(t[0],t[1],t[2])&&(t=[t[0]]),vi(e,zo(t,1),[])}),Za=Pn||function(){return $t.Date.now()};function Qa(e,t,n){return t=n?r:t,t=e&&null==t?e.length:t,Er(e,E,r,r,r,r,t)}function ec(e,t){var n;if("function"!=typeof t)throw new ot(l);return e=Nc(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=r),n}}var tc=Si(function(e,t,n){var o=v;if(n.length){var i=xn(n,jr(tc));o|=k}return Er(e,o,t,n,i)}),nc=Si(function(e,t,n){var o=v|y;if(n.length){var i=xn(n,jr(nc));o|=k}return Er(t,o,e,n,i)});function oc(e,t,n){var o,i,a,c,s,u,d=0,m=!1,f=!1,p=!0;if("function"!=typeof e)throw new ot(l);function h(t){var n=o,a=i;return o=i=r,d=t,c=e.apply(a,n)}function g(e){var n=e-u;return u===r||n>=t||n<0||f&&e-d>=a}function v(){var e=Za();if(g(e))return y(e);s=oa(v,function(e){var n=t-(e-u);return f?Xn(n,a-(e-d)):n}(e))}function y(e){return s=r,p&&o?h(e):(o=i=r,c)}function _(){var e=Za(),n=g(e);if(o=arguments,i=this,u=e,n){if(s===r)return function(e){return d=e,s=oa(v,t),m?h(e):c}(u);if(f)return Vi(s),s=oa(v,t),h(u)}return s===r&&(s=oa(v,t)),c}return t=Mc(t)||0,Ic(n)&&(m=!!n.leading,a=(f="maxWait"in n)?zn(Mc(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),_.cancel=function(){s!==r&&Vi(s),d=0,o=u=i=s=r},_.flush=function(){return s===r?c:y(Za())},_}var ic=Si(function(e,t){return Bo(e,1,t)}),rc=Si(function(e,t,n){return Bo(e,Mc(t)||0,n)});function ac(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ot(l);var n=function(){var o=arguments,i=t?t.apply(this,o):o[0],r=n.cache;if(r.has(i))return r.get(i);var a=e.apply(this,o);return n.cache=r.set(i,a)||r,a};return n.cache=new(ac.Cache||wo),n}function cc(e){if("function"!=typeof e)throw new ot(l);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}ac.Cache=wo;var lc=Yi(function(e,t){var n=(t=1==t.length&&gc(t[0])?Qt(t[0],vn(Pr())):Qt(zo(t,1),vn(Pr()))).length;return Si(function(o){for(var i=-1,r=Xn(o.length,n);++i<r;)o[i]=t[i].call(this,o[i]);return Xt(e,this,o)})}),sc=Si(function(e,t){var n=xn(t,jr(sc));return Er(e,k,r,t,n)}),uc=Si(function(e,t){var n=xn(t,jr(uc));return Er(e,S,r,t,n)}),dc=Cr(function(e,t){return Er(e,L,r,r,r,t)});function mc(e,t){return e===t||e!=e&&t!=t}var fc=_r(Qo),pc=_r(function(e,t){return e>=t}),hc=ii(function(){return arguments}())?ii:function(e){return qc(e)&&st.call(e,"callee")&&!Ot.call(e,"callee")},gc=n.isArray,vc=Dt?vn(Dt):function(e){return qc(e)&&Zo(e)==le};function yc(e){return null!=e&&Lc(e.length)&&!Sc(e)}function _c(e){return qc(e)&&yc(e)}var wc=Nn||Ml,bc=Nt?vn(Nt):function(e){return qc(e)&&Zo(e)==X};function kc(e){if(!qc(e))return!1;var t=Zo(e);return t==Y||t==W||"string"==typeof e.message&&"string"==typeof e.name&&!Ac(e)}function Sc(e){if(!Ic(e))return!1;var t=Zo(e);return t==G||t==V||t==H||t==ee}function Ec(e){return"number"==typeof e&&e==Nc(e)}function Lc(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=j}function Ic(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function qc(e){return null!=e&&"object"==typeof e}var xc=Ft?vn(Ft):function(e){return qc(e)&&Fr(e)==J};function Cc(e){return"number"==typeof e||qc(e)&&Zo(e)==K}function Ac(e){if(!qc(e)||Zo(e)!=Q)return!1;var t=xt(e);if(null===t)return!0;var n=st.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&lt.call(n)==ft}var Tc=Mt?vn(Mt):function(e){return qc(e)&&Zo(e)==te};var Oc=Ht?vn(Ht):function(e){return qc(e)&&Fr(e)==ne};function $c(e){return"string"==typeof e||!gc(e)&&qc(e)&&Zo(e)==oe}function jc(e){return"symbol"==typeof e||qc(e)&&Zo(e)==ie}var Pc=zt?vn(zt):function(e){return qc(e)&&Lc(e.length)&&!!It[Zo(e)]};var Rc=_r(di),Bc=_r(function(e,t){return e<=t});function Uc(e){if(!e)return[];if(yc(e))return $c(e)?On(e):nr(e);if(Bt&&e[Bt])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Bt]());var t=Fr(e);return(t==J?In:t==ne?Cn:ml)(e)}function Dc(e){return e?(e=Mc(e))===$||e===-$?(e<0?-1:1)*P:e==e?e:0:0===e?e:0}function Nc(e){var t=Dc(e),n=t%1;return t==t?n?t-n:t:0}function Fc(e){return e?jo(Nc(e),0,B):0}function Mc(e){if("number"==typeof e)return e;if(jc(e))return R;if(Ic(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ic(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(je,"");var n=Xe.test(e);return n||Ye.test(e)?At(e.slice(2),n?2:8):ze.test(e)?R:+e}function Hc(e){return or(e,il(e))}function zc(e){return null==e?"":Ri(e)}var Xc=rr(function(e,t){if(Jr(t)||yc(t))or(t,ol(t),e);else for(var n in t)st.call(t,n)&&xo(e,n,t[n])}),Wc=rr(function(e,t){or(t,il(t),e)}),Yc=rr(function(e,t,n,o){or(t,il(t),e,o)}),Gc=rr(function(e,t,n,o){or(t,ol(t),e,o)}),Vc=Cr($o);var Jc=Si(function(e,t){e=et(e);var n=-1,o=t.length,i=o>2?t[2]:r;for(i&&Wr(t[0],t[1],i)&&(o=1);++n<o;)for(var a=t[n],c=il(a),l=-1,s=c.length;++l<s;){var u=c[l],d=e[u];(d===r||mc(d,at[u])&&!st.call(e,u))&&(e[u]=a[u])}return e}),Kc=Si(function(e){return e.push(r,Ir),Xt(al,r,e)});function Zc(e,t,n){var o=null==e?r:Jo(e,t);return o===r?n:o}function Qc(e,t){return null!=e&&Mr(e,t,ti)}var el=pr(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=mt.call(t)),e[t]=n},Il(Cl)),tl=pr(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=mt.call(t)),st.call(e,t)?e[t].push(n):e[t]=[n]},Pr),nl=Si(oi);function ol(e){return yc(e)?So(e):si(e)}function il(e){return yc(e)?So(e,!0):ui(e)}var rl=rr(function(e,t,n){hi(e,t,n)}),al=rr(function(e,t,n,o){hi(e,t,n,o)}),cl=Cr(function(e,t){var n={};if(null==e)return n;var o=!1;t=Qt(t,function(t){return t=Wi(t,e),o||(o=t.length>1),t}),or(e,Tr(e),n),o&&(n=Po(n,m|f|p,qr));for(var i=t.length;i--;)Ui(n,t[i]);return n});var ll=Cr(function(e,t){return null==e?{}:function(e,t){return yi(e,t,function(t,n){return Qc(e,n)})}(e,t)});function sl(e,t){if(null==e)return{};var n=Qt(Tr(e),function(e){return[e]});return t=Pr(t),yi(e,n,function(e,n){return t(e,n[0])})}var ul=Sr(ol),dl=Sr(il);function ml(e){return null==e?[]:yn(e,ol(e))}var fl=sr(function(e,t,n){return t=t.toLowerCase(),e+(n?pl(t):t)});function pl(e){return kl(zc(e).toLowerCase())}function hl(e){return(e=zc(e))&&e.replace(Ve,kn).replace(_t,"")}var gl=sr(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),vl=sr(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),yl=lr("toLowerCase");var _l=sr(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});var wl=sr(function(e,t,n){return e+(n?" ":"")+kl(t)});var bl=sr(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),kl=lr("toUpperCase");function Sl(e,t,n){return e=zc(e),(t=n?r:t)===r?function(e){return St.test(e)}(e)?function(e){return e.match(bt)||[]}(e):function(e){return e.match(Ne)||[]}(e):e.match(t)||[]}var El=Si(function(e,t){try{return Xt(e,r,t)}catch(e){return kc(e)?e:new i(e)}}),Ll=Cr(function(e,t){return Yt(t,function(t){t=sa(t),Oo(e,t,tc(e[t],e))}),e});function Il(e){return function(){return e}}var ql=mr(),xl=mr(!0);function Cl(e){return e}function Al(e){return li("function"==typeof e?e:Po(e,m))}var Tl=Si(function(e,t){return function(n){return oi(n,e,t)}}),Ol=Si(function(e,t){return function(n){return oi(e,n,t)}});function $l(e,t,n){var o=ol(t),i=Vo(t,o);null!=n||Ic(t)&&(i.length||!o.length)||(n=t,t=e,e=this,i=Vo(t,ol(t)));var r=!(Ic(n)&&"chain"in n&&!n.chain),a=Sc(e);return Yt(i,function(n){var o=t[n];e[n]=o,a&&(e.prototype[n]=function(){var t=this.__chain__;if(r||t){var n=e(this.__wrapped__);return(n.__actions__=nr(this.__actions__)).push({func:o,args:arguments,thisArg:e}),n.__chain__=t,n}return o.apply(e,en([this.value()],arguments))})}),e}function jl(){}var Pl=gr(Qt),Rl=gr(Vt),Bl=gr(on);function Ul(e){return Yr(e)?mn(sa(e)):function(e){return function(t){return Jo(t,e)}}(e)}var Dl=yr(),Nl=yr(!0);function Fl(){return[]}function Ml(){return!1}var Hl=hr(function(e,t){return e+t},0),zl=br("ceil"),Xl=hr(function(e,t){return e/t},1),Wl=br("floor");var Yl=hr(function(e,t){return e*t},1),Gl=br("round"),Vl=hr(function(e,t){return e-t},0);return fo.after=function(e,t){if("function"!=typeof t)throw new ot(l);return e=Nc(e),function(){if(--e<1)return t.apply(this,arguments)}},fo.ary=Qa,fo.assign=Xc,fo.assignIn=Wc,fo.assignInWith=Yc,fo.assignWith=Gc,fo.at=Vc,fo.before=ec,fo.bind=tc,fo.bindAll=Ll,fo.bindKey=nc,fo.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return gc(e)?e:[e]},fo.chain=Ua,fo.chunk=function(e,t,o){t=(o?Wr(e,t,o):t===r)?1:zn(Nc(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,c=0,l=n(Bn(i/t));a<i;)l[c++]=Ai(e,a,a+=t);return l},fo.compact=function(e){for(var t=-1,n=null==e?0:e.length,o=0,i=[];++t<n;){var r=e[t];r&&(i[o++]=r)}return i},fo.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),o=arguments[0],i=e;i--;)t[i-1]=arguments[i];return en(gc(o)?nr(o):[o],zo(t,1))},fo.cond=function(e){var t=null==e?0:e.length,n=Pr();return e=t?Qt(e,function(e){if("function"!=typeof e[1])throw new ot(l);return[n(e[0]),e[1]]}):[],Si(function(n){for(var o=-1;++o<t;){var i=e[o];if(Xt(i[0],this,n))return Xt(i[1],this,n)}})},fo.conforms=function(e){return function(e){var t=ol(e);return function(n){return Ro(n,e,t)}}(Po(e,m))},fo.constant=Il,fo.countBy=Fa,fo.create=function(e,t){var n=po(e);return null==t?n:To(n,t)},fo.curry=function e(t,n,o){var i=Er(t,w,r,r,r,r,r,n=o?r:n);return i.placeholder=e.placeholder,i},fo.curryRight=function e(t,n,o){var i=Er(t,b,r,r,r,r,r,n=o?r:n);return i.placeholder=e.placeholder,i},fo.debounce=oc,fo.defaults=Jc,fo.defaultsDeep=Kc,fo.defer=ic,fo.delay=rc,fo.difference=ma,fo.differenceBy=fa,fo.differenceWith=pa,fo.drop=function(e,t,n){var o=null==e?0:e.length;return o?Ai(e,(t=n||t===r?1:Nc(t))<0?0:t,o):[]},fo.dropRight=function(e,t,n){var o=null==e?0:e.length;return o?Ai(e,0,(t=o-(t=n||t===r?1:Nc(t)))<0?0:t):[]},fo.dropRightWhile=function(e,t){return e&&e.length?Ni(e,Pr(t,3),!0,!0):[]},fo.dropWhile=function(e,t){return e&&e.length?Ni(e,Pr(t,3),!0):[]},fo.fill=function(e,t,n,o){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&Wr(e,t,n)&&(n=0,o=i),function(e,t,n,o){var i=e.length;for((n=Nc(n))<0&&(n=-n>i?0:i+n),(o=o===r||o>i?i:Nc(o))<0&&(o+=i),o=n>o?0:Fc(o);n<o;)e[n++]=t;return e}(e,t,n,o)):[]},fo.filter=function(e,t){return(gc(e)?Jt:Ho)(e,Pr(t,3))},fo.flatMap=function(e,t){return zo(Va(e,t),1)},fo.flatMapDeep=function(e,t){return zo(Va(e,t),$)},fo.flatMapDepth=function(e,t,n){return n=n===r?1:Nc(n),zo(Va(e,t),n)},fo.flatten=va,fo.flattenDeep=function(e){return null!=e&&e.length?zo(e,$):[]},fo.flattenDepth=function(e,t){return null!=e&&e.length?zo(e,t=t===r?1:Nc(t)):[]},fo.flip=function(e){return Er(e,I)},fo.flow=ql,fo.flowRight=xl,fo.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,o={};++t<n;){var i=e[t];o[i[0]]=i[1]}return o},fo.functions=function(e){return null==e?[]:Vo(e,ol(e))},fo.functionsIn=function(e){return null==e?[]:Vo(e,il(e))},fo.groupBy=Wa,fo.initial=function(e){return null!=e&&e.length?Ai(e,0,-1):[]},fo.intersection=_a,fo.intersectionBy=wa,fo.intersectionWith=ba,fo.invert=el,fo.invertBy=tl,fo.invokeMap=Ya,fo.iteratee=Al,fo.keyBy=Ga,fo.keys=ol,fo.keysIn=il,fo.map=Va,fo.mapKeys=function(e,t){var n={};return t=Pr(t,3),Yo(e,function(e,o,i){Oo(n,t(e,o,i),e)}),n},fo.mapValues=function(e,t){var n={};return t=Pr(t,3),Yo(e,function(e,o,i){Oo(n,o,t(e,o,i))}),n},fo.matches=function(e){return fi(Po(e,m))},fo.matchesProperty=function(e,t){return pi(e,Po(t,m))},fo.memoize=ac,fo.merge=rl,fo.mergeWith=al,fo.method=Tl,fo.methodOf=Ol,fo.mixin=$l,fo.negate=cc,fo.nthArg=function(e){return e=Nc(e),Si(function(t){return gi(t,e)})},fo.omit=cl,fo.omitBy=function(e,t){return sl(e,cc(Pr(t)))},fo.once=function(e){return ec(2,e)},fo.orderBy=function(e,t,n,o){return null==e?[]:(gc(t)||(t=null==t?[]:[t]),gc(n=o?r:n)||(n=null==n?[]:[n]),vi(e,t,n))},fo.over=Pl,fo.overArgs=lc,fo.overEvery=Rl,fo.overSome=Bl,fo.partial=sc,fo.partialRight=uc,fo.partition=Ja,fo.pick=ll,fo.pickBy=sl,fo.property=Ul,fo.propertyOf=function(e){return function(t){return null==e?r:Jo(e,t)}},fo.pull=Sa,fo.pullAll=Ea,fo.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?_i(e,t,Pr(n,2)):e},fo.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?_i(e,t,r,n):e},fo.pullAt=La,fo.range=Dl,fo.rangeRight=Nl,fo.rearg=dc,fo.reject=function(e,t){return(gc(e)?Jt:Ho)(e,cc(Pr(t,3)))},fo.remove=function(e,t){var n=[];if(!e||!e.length)return n;var o=-1,i=[],r=e.length;for(t=Pr(t,3);++o<r;){var a=e[o];t(a,o,e)&&(n.push(a),i.push(o))}return wi(e,i),n},fo.rest=function(e,t){if("function"!=typeof e)throw new ot(l);return Si(e,t=t===r?t:Nc(t))},fo.reverse=Ia,fo.sampleSize=function(e,t,n){return t=(n?Wr(e,t,n):t===r)?1:Nc(t),(gc(e)?Lo:Li)(e,t)},fo.set=function(e,t,n){return null==e?e:Ii(e,t,n)},fo.setWith=function(e,t,n,o){return o="function"==typeof o?o:r,null==e?e:Ii(e,t,n,o)},fo.shuffle=function(e){return(gc(e)?Io:Ci)(e)},fo.slice=function(e,t,n){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&Wr(e,t,n)?(t=0,n=o):(t=null==t?0:Nc(t),n=n===r?o:Nc(n)),Ai(e,t,n)):[]},fo.sortBy=Ka,fo.sortedUniq=function(e){return e&&e.length?ji(e):[]},fo.sortedUniqBy=function(e,t){return e&&e.length?ji(e,Pr(t,2)):[]},fo.split=function(e,t,n){return n&&"number"!=typeof n&&Wr(e,t,n)&&(t=n=r),(n=n===r?B:n>>>0)?(e=zc(e))&&("string"==typeof t||null!=t&&!Tc(t))&&!(t=Ri(t))&&Ln(e)?Gi(On(e),0,n):e.split(t,n):[]},fo.spread=function(e,t){if("function"!=typeof e)throw new ot(l);return t=null==t?0:zn(Nc(t),0),Si(function(n){var o=n[t],i=Gi(n,0,t);return o&&en(i,o),Xt(e,this,i)})},fo.tail=function(e){var t=null==e?0:e.length;return t?Ai(e,1,t):[]},fo.take=function(e,t,n){return e&&e.length?Ai(e,0,(t=n||t===r?1:Nc(t))<0?0:t):[]},fo.takeRight=function(e,t,n){var o=null==e?0:e.length;return o?Ai(e,(t=o-(t=n||t===r?1:Nc(t)))<0?0:t,o):[]},fo.takeRightWhile=function(e,t){return e&&e.length?Ni(e,Pr(t,3),!1,!0):[]},fo.takeWhile=function(e,t){return e&&e.length?Ni(e,Pr(t,3)):[]},fo.tap=function(e,t){return t(e),e},fo.throttle=function(e,t,n){var o=!0,i=!0;if("function"!=typeof e)throw new ot(l);return Ic(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),oc(e,t,{leading:o,maxWait:t,trailing:i})},fo.thru=Da,fo.toArray=Uc,fo.toPairs=ul,fo.toPairsIn=dl,fo.toPath=function(e){return gc(e)?Qt(e,sa):jc(e)?[e]:nr(la(zc(e)))},fo.toPlainObject=Hc,fo.transform=function(e,t,n){var o=gc(e),i=o||wc(e)||Pc(e);if(t=Pr(t,4),null==n){var r=e&&e.constructor;n=i?o?new r:[]:Ic(e)&&Sc(r)?po(xt(e)):{}}return(i?Yt:Yo)(e,function(e,o,i){return t(n,e,o,i)}),n},fo.unary=function(e){return Qa(e,1)},fo.union=qa,fo.unionBy=xa,fo.unionWith=Ca,fo.uniq=function(e){return e&&e.length?Bi(e):[]},fo.uniqBy=function(e,t){return e&&e.length?Bi(e,Pr(t,2)):[]},fo.uniqWith=function(e,t){return t="function"==typeof t?t:r,e&&e.length?Bi(e,r,t):[]},fo.unset=function(e,t){return null==e||Ui(e,t)},fo.unzip=Aa,fo.unzipWith=Ta,fo.update=function(e,t,n){return null==e?e:Di(e,t,Xi(n))},fo.updateWith=function(e,t,n,o){return o="function"==typeof o?o:r,null==e?e:Di(e,t,Xi(n),o)},fo.values=ml,fo.valuesIn=function(e){return null==e?[]:yn(e,il(e))},fo.without=Oa,fo.words=Sl,fo.wrap=function(e,t){return sc(Xi(t),e)},fo.xor=$a,fo.xorBy=ja,fo.xorWith=Pa,fo.zip=Ra,fo.zipObject=function(e,t){return Hi(e||[],t||[],xo)},fo.zipObjectDeep=function(e,t){return Hi(e||[],t||[],Ii)},fo.zipWith=Ba,fo.entries=ul,fo.entriesIn=dl,fo.extend=Wc,fo.extendWith=Yc,$l(fo,fo),fo.add=Hl,fo.attempt=El,fo.camelCase=fl,fo.capitalize=pl,fo.ceil=zl,fo.clamp=function(e,t,n){return n===r&&(n=t,t=r),n!==r&&(n=(n=Mc(n))==n?n:0),t!==r&&(t=(t=Mc(t))==t?t:0),jo(Mc(e),t,n)},fo.clone=function(e){return Po(e,p)},fo.cloneDeep=function(e){return Po(e,m|p)},fo.cloneDeepWith=function(e,t){return Po(e,m|p,t="function"==typeof t?t:r)},fo.cloneWith=function(e,t){return Po(e,p,t="function"==typeof t?t:r)},fo.conformsTo=function(e,t){return null==t||Ro(e,t,ol(t))},fo.deburr=hl,fo.defaultTo=function(e,t){return null==e||e!=e?t:e},fo.divide=Xl,fo.endsWith=function(e,t,n){e=zc(e),t=Ri(t);var o=e.length,i=n=n===r?o:jo(Nc(n),0,o);return(n-=t.length)>=0&&e.slice(n,i)==t},fo.eq=mc,fo.escape=function(e){return(e=zc(e))&&Le.test(e)?e.replace(Se,Sn):e},fo.escapeRegExp=function(e){return(e=zc(e))&&$e.test(e)?e.replace(Oe,"\\$&"):e},fo.every=function(e,t,n){var o=gc(e)?Vt:Fo;return n&&Wr(e,t,n)&&(t=r),o(e,Pr(t,3))},fo.find=Ma,fo.findIndex=ha,fo.findKey=function(e,t){return an(e,Pr(t,3),Yo)},fo.findLast=Ha,fo.findLastIndex=ga,fo.findLastKey=function(e,t){return an(e,Pr(t,3),Go)},fo.floor=Wl,fo.forEach=za,fo.forEachRight=Xa,fo.forIn=function(e,t){return null==e?e:Xo(e,Pr(t,3),il)},fo.forInRight=function(e,t){return null==e?e:Wo(e,Pr(t,3),il)},fo.forOwn=function(e,t){return e&&Yo(e,Pr(t,3))},fo.forOwnRight=function(e,t){return e&&Go(e,Pr(t,3))},fo.get=Zc,fo.gt=fc,fo.gte=pc,fo.has=function(e,t){return null!=e&&Mr(e,t,ei)},fo.hasIn=Qc,fo.head=ya,fo.identity=Cl,fo.includes=function(e,t,n,o){e=yc(e)?e:ml(e),n=n&&!o?Nc(n):0;var i=e.length;return n<0&&(n=zn(i+n,0)),$c(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&ln(e,t,n)>-1},fo.indexOf=function(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var i=null==n?0:Nc(n);return i<0&&(i=zn(o+i,0)),ln(e,t,i)},fo.inRange=function(e,t,n){return t=Dc(t),n===r?(n=t,t=0):n=Dc(n),function(e,t,n){return e>=Xn(t,n)&&e<zn(t,n)}(e=Mc(e),t,n)},fo.invoke=nl,fo.isArguments=hc,fo.isArray=gc,fo.isArrayBuffer=vc,fo.isArrayLike=yc,fo.isArrayLikeObject=_c,fo.isBoolean=function(e){return!0===e||!1===e||qc(e)&&Zo(e)==z},fo.isBuffer=wc,fo.isDate=bc,fo.isElement=function(e){return qc(e)&&1===e.nodeType&&!Ac(e)},fo.isEmpty=function(e){if(null==e)return!0;if(yc(e)&&(gc(e)||"string"==typeof e||"function"==typeof e.splice||wc(e)||Pc(e)||hc(e)))return!e.length;var t=Fr(e);if(t==J||t==ne)return!e.size;if(Jr(e))return!si(e).length;for(var n in e)if(st.call(e,n))return!1;return!0},fo.isEqual=function(e,t){return ri(e,t)},fo.isEqualWith=function(e,t,n){var o=(n="function"==typeof n?n:r)?n(e,t):r;return o===r?ri(e,t,r,n):!!o},fo.isError=kc,fo.isFinite=function(e){return"number"==typeof e&&Fn(e)},fo.isFunction=Sc,fo.isInteger=Ec,fo.isLength=Lc,fo.isMap=xc,fo.isMatch=function(e,t){return e===t||ai(e,t,Br(t))},fo.isMatchWith=function(e,t,n){return n="function"==typeof n?n:r,ai(e,t,Br(t),n)},fo.isNaN=function(e){return Cc(e)&&e!=+e},fo.isNative=function(e){if(Vr(e))throw new i(c);return ci(e)},fo.isNil=function(e){return null==e},fo.isNull=function(e){return null===e},fo.isNumber=Cc,fo.isObject=Ic,fo.isObjectLike=qc,fo.isPlainObject=Ac,fo.isRegExp=Tc,fo.isSafeInteger=function(e){return Ec(e)&&e>=-j&&e<=j},fo.isSet=Oc,fo.isString=$c,fo.isSymbol=jc,fo.isTypedArray=Pc,fo.isUndefined=function(e){return e===r},fo.isWeakMap=function(e){return qc(e)&&Fr(e)==ae},fo.isWeakSet=function(e){return qc(e)&&Zo(e)==ce},fo.join=function(e,t){return null==e?"":Mn.call(e,t)},fo.kebabCase=gl,fo.last=ka,fo.lastIndexOf=function(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var i=o;return n!==r&&(i=(i=Nc(n))<0?zn(o+i,0):Xn(i,o-1)),t==t?function(e,t,n){for(var o=n+1;o--;)if(e[o]===t)return o;return o}(e,t,i):cn(e,un,i,!0)},fo.lowerCase=vl,fo.lowerFirst=yl,fo.lt=Rc,fo.lte=Bc,fo.max=function(e){return e&&e.length?Mo(e,Cl,Qo):r},fo.maxBy=function(e,t){return e&&e.length?Mo(e,Pr(t,2),Qo):r},fo.mean=function(e){return dn(e,Cl)},fo.meanBy=function(e,t){return dn(e,Pr(t,2))},fo.min=function(e){return e&&e.length?Mo(e,Cl,di):r},fo.minBy=function(e,t){return e&&e.length?Mo(e,Pr(t,2),di):r},fo.stubArray=Fl,fo.stubFalse=Ml,fo.stubObject=function(){return{}},fo.stubString=function(){return""},fo.stubTrue=function(){return!0},fo.multiply=Yl,fo.nth=function(e,t){return e&&e.length?gi(e,Nc(t)):r},fo.noConflict=function(){return $t._===this&&($t._=pt),this},fo.noop=jl,fo.now=Za,fo.pad=function(e,t,n){e=zc(e);var o=(t=Nc(t))?Tn(e):0;if(!t||o>=t)return e;var i=(t-o)/2;return vr(Un(i),n)+e+vr(Bn(i),n)},fo.padEnd=function(e,t,n){e=zc(e);var o=(t=Nc(t))?Tn(e):0;return t&&o<t?e+vr(t-o,n):e},fo.padStart=function(e,t,n){e=zc(e);var o=(t=Nc(t))?Tn(e):0;return t&&o<t?vr(t-o,n)+e:e},fo.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Yn(zc(e).replace(Pe,""),t||0)},fo.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Wr(e,t,n)&&(t=n=r),n===r&&("boolean"==typeof t?(n=t,t=r):"boolean"==typeof e&&(n=e,e=r)),e===r&&t===r?(e=0,t=1):(e=Dc(e),t===r?(t=e,e=0):t=Dc(t)),e>t){var o=e;e=t,t=o}if(n||e%1||t%1){var i=Gn();return Xn(e+i*(t-e+Ct("1e-"+((i+"").length-1))),t)}return bi(e,t)},fo.reduce=function(e,t,n){var o=gc(e)?tn:pn,i=arguments.length<3;return o(e,Pr(t,4),n,i,Do)},fo.reduceRight=function(e,t,n){var o=gc(e)?nn:pn,i=arguments.length<3;return o(e,Pr(t,4),n,i,No)},fo.repeat=function(e,t,n){return t=(n?Wr(e,t,n):t===r)?1:Nc(t),ki(zc(e),t)},fo.replace=function(){var e=arguments,t=zc(e[0]);return e.length<3?t:t.replace(e[1],e[2])},fo.result=function(e,t,n){var o=-1,i=(t=Wi(t,e)).length;for(i||(i=1,e=r);++o<i;){var a=null==e?r:e[sa(t[o])];a===r&&(o=i,a=n),e=Sc(a)?a.call(e):a}return e},fo.round=Gl,fo.runInContext=e,fo.sample=function(e){return(gc(e)?Eo:Ei)(e)},fo.size=function(e){if(null==e)return 0;if(yc(e))return $c(e)?Tn(e):e.length;var t=Fr(e);return t==J||t==ne?e.size:si(e).length},fo.snakeCase=_l,fo.some=function(e,t,n){var o=gc(e)?on:Ti;return n&&Wr(e,t,n)&&(t=r),o(e,Pr(t,3))},fo.sortedIndex=function(e,t){return Oi(e,t)},fo.sortedIndexBy=function(e,t,n){return $i(e,t,Pr(n,2))},fo.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var o=Oi(e,t);if(o<n&&mc(e[o],t))return o}return-1},fo.sortedLastIndex=function(e,t){return Oi(e,t,!0)},fo.sortedLastIndexBy=function(e,t,n){return $i(e,t,Pr(n,2),!0)},fo.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=Oi(e,t,!0)-1;if(mc(e[n],t))return n}return-1},fo.startCase=wl,fo.startsWith=function(e,t,n){return e=zc(e),n=null==n?0:jo(Nc(n),0,e.length),t=Ri(t),e.slice(n,n+t.length)==t},fo.subtract=Vl,fo.sum=function(e){return e&&e.length?hn(e,Cl):0},fo.sumBy=function(e,t){return e&&e.length?hn(e,Pr(t,2)):0},fo.template=function(e,t,n){var o=fo.templateSettings;n&&Wr(e,t,n)&&(t=r),e=zc(e),t=Yc({},t,o,Lr);var i,a,c=Yc({},t.imports,o.imports,Lr),l=ol(c),s=yn(c,l),u=0,d=t.interpolate||Je,m="__p += '",f=tt((t.escape||Je).source+"|"+d.source+"|"+(d===xe?Me:Je).source+"|"+(t.evaluate||Je).source+"|$","g"),p="//# sourceURL="+(st.call(t,"sourceURL")?(t.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Lt+"]")+"\n";e.replace(f,function(t,n,o,r,c,l){return o||(o=r),m+=e.slice(u,l).replace(Ke,En),n&&(i=!0,m+="' +\n__e("+n+") +\n'"),c&&(a=!0,m+="';\n"+c+";\n__p += '"),o&&(m+="' +\n((__t = ("+o+")) == null ? '' : __t) +\n'"),u=l+t.length,t}),m+="';\n";var h=st.call(t,"variable")&&t.variable;h||(m="with (obj) {\n"+m+"\n}\n"),m=(a?m.replace(_e,""):m).replace(we,"$1").replace(be,"$1;"),m="function("+(h||"obj")+") {\n"+(h?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+m+"return __p\n}";var g=El(function(){return Ze(l,p+"return "+m).apply(r,s)});if(g.source=m,kc(g))throw g;return g},fo.times=function(e,t){if((e=Nc(e))<1||e>j)return[];var n=B,o=Xn(e,B);t=Pr(t),e-=B;for(var i=gn(o,t);++n<e;)t(n);return i},fo.toFinite=Dc,fo.toInteger=Nc,fo.toLength=Fc,fo.toLower=function(e){return zc(e).toLowerCase()},fo.toNumber=Mc,fo.toSafeInteger=function(e){return e?jo(Nc(e),-j,j):0===e?e:0},fo.toString=zc,fo.toUpper=function(e){return zc(e).toUpperCase()},fo.trim=function(e,t,n){if((e=zc(e))&&(n||t===r))return e.replace(je,"");if(!e||!(t=Ri(t)))return e;var o=On(e),i=On(t);return Gi(o,wn(o,i),bn(o,i)+1).join("")},fo.trimEnd=function(e,t,n){if((e=zc(e))&&(n||t===r))return e.replace(Re,"");if(!e||!(t=Ri(t)))return e;var o=On(e);return Gi(o,0,bn(o,On(t))+1).join("")},fo.trimStart=function(e,t,n){if((e=zc(e))&&(n||t===r))return e.replace(Pe,"");if(!e||!(t=Ri(t)))return e;var o=On(e);return Gi(o,wn(o,On(t))).join("")},fo.truncate=function(e,t){var n=q,o=x;if(Ic(t)){var i="separator"in t?t.separator:i;n="length"in t?Nc(t.length):n,o="omission"in t?Ri(t.omission):o}var a=(e=zc(e)).length;if(Ln(e)){var c=On(e);a=c.length}if(n>=a)return e;var l=n-Tn(o);if(l<1)return o;var s=c?Gi(c,0,l).join(""):e.slice(0,l);if(i===r)return s+o;if(c&&(l+=s.length-l),Tc(i)){if(e.slice(l).search(i)){var u,d=s;for(i.global||(i=tt(i.source,zc(He.exec(i))+"g")),i.lastIndex=0;u=i.exec(d);)var m=u.index;s=s.slice(0,m===r?l:m)}}else if(e.indexOf(Ri(i),l)!=l){var f=s.lastIndexOf(i);f>-1&&(s=s.slice(0,f))}return s+o},fo.unescape=function(e){return(e=zc(e))&&Ee.test(e)?e.replace(ke,$n):e},fo.uniqueId=function(e){var t=++ut;return zc(e)+t},fo.upperCase=bl,fo.upperFirst=kl,fo.each=za,fo.eachRight=Xa,fo.first=ya,$l(fo,function(){var e={};return Yo(fo,function(t,n){st.call(fo.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),fo.VERSION="4.17.15",Yt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){fo[e].placeholder=fo}),Yt(["drop","take"],function(e,t){vo.prototype[e]=function(n){n=n===r?1:zn(Nc(n),0);var o=this.__filtered__&&!t?new vo(this):this.clone();return o.__filtered__?o.__takeCount__=Xn(n,o.__takeCount__):o.__views__.push({size:Xn(n,B),type:e+(o.__dir__<0?"Right":"")}),o},vo.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),Yt(["filter","map","takeWhile"],function(e,t){var n=t+1,o=n==T||3==n;vo.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Pr(e,3),type:n}),t.__filtered__=t.__filtered__||o,t}}),Yt(["head","last"],function(e,t){var n="take"+(t?"Right":"");vo.prototype[e]=function(){return this[n](1).value()[0]}}),Yt(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");vo.prototype[e]=function(){return this.__filtered__?new vo(this):this[n](1)}}),vo.prototype.compact=function(){return this.filter(Cl)},vo.prototype.find=function(e){return this.filter(e).head()},vo.prototype.findLast=function(e){return this.reverse().find(e)},vo.prototype.invokeMap=Si(function(e,t){return"function"==typeof e?new vo(this):this.map(function(n){return oi(n,e,t)})}),vo.prototype.reject=function(e){return this.filter(cc(Pr(e)))},vo.prototype.slice=function(e,t){e=Nc(e);var n=this;return n.__filtered__&&(e>0||t<0)?new vo(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==r&&(n=(t=Nc(t))<0?n.dropRight(-t):n.take(t-e)),n)},vo.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},vo.prototype.toArray=function(){return this.take(B)},Yo(vo.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),o=/^(?:head|last)$/.test(t),i=fo[o?"take"+("last"==t?"Right":""):t],a=o||/^find/.test(t);i&&(fo.prototype[t]=function(){var t=this.__wrapped__,c=o?[1]:arguments,l=t instanceof vo,s=c[0],u=l||gc(t),d=function(e){var t=i.apply(fo,en([e],c));return o&&m?t[0]:t};u&&n&&"function"==typeof s&&1!=s.length&&(l=u=!1);var m=this.__chain__,f=!!this.__actions__.length,p=a&&!m,h=l&&!f;if(!a&&u){t=h?t:new vo(this);var g=e.apply(t,c);return g.__actions__.push({func:Da,args:[d],thisArg:r}),new go(g,m)}return p&&h?e.apply(this,c):(g=this.thru(d),p?o?g.value()[0]:g.value():g)})}),Yt(["pop","push","shift","sort","splice","unshift"],function(e){var t=it[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",o=/^(?:pop|shift)$/.test(e);fo.prototype[e]=function(){var e=arguments;if(o&&!this.__chain__){var i=this.value();return t.apply(gc(i)?i:[],e)}return this[n](function(n){return t.apply(gc(n)?n:[],e)})}}),Yo(vo.prototype,function(e,t){var n=fo[t];if(n){var o=n.name+"";st.call(oo,o)||(oo[o]=[]),oo[o].push({name:t,func:n})}}),oo[fr(r,y).name]=[{name:"wrapper",func:r}],vo.prototype.clone=function(){var e=new vo(this.__wrapped__);return e.__actions__=nr(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=nr(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=nr(this.__views__),e},vo.prototype.reverse=function(){if(this.__filtered__){var e=new vo(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},vo.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=gc(e),o=t<0,i=n?e.length:0,r=function(e,t,n){for(var o=-1,i=n.length;++o<i;){var r=n[o],a=r.size;switch(r.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Xn(t,e+a);break;case"takeRight":e=zn(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=r.start,c=r.end,l=c-a,s=o?c:a-1,u=this.__iteratees__,d=u.length,m=0,f=Xn(l,this.__takeCount__);if(!n||!o&&i==l&&f==l)return Fi(e,this.__actions__);var p=[];e:for(;l--&&m<f;){for(var h=-1,g=e[s+=t];++h<d;){var v=u[h],y=v.iteratee,_=v.type,w=y(g);if(_==O)g=w;else if(!w){if(_==T)continue e;break e}}p[m++]=g}return p},fo.prototype.at=Na,fo.prototype.chain=function(){return Ua(this)},fo.prototype.commit=function(){return new go(this.value(),this.__chain__)},fo.prototype.next=function(){this.__values__===r&&(this.__values__=Uc(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?r:this.__values__[this.__index__++]}},fo.prototype.plant=function(e){for(var t,n=this;n instanceof ho;){var o=da(n);o.__index__=0,o.__values__=r,t?i.__wrapped__=o:t=o;var i=o;n=n.__wrapped__}return i.__wrapped__=e,t},fo.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof vo){var t=e;return this.__actions__.length&&(t=new vo(this)),(t=t.reverse()).__actions__.push({func:Da,args:[Ia],thisArg:r}),new go(t,this.__chain__)}return this.thru(Ia)},fo.prototype.toJSON=fo.prototype.valueOf=fo.prototype.value=function(){return Fi(this.__wrapped__,this.__actions__)},fo.prototype.first=fo.prototype.head,Bt&&(fo.prototype[Bt]=function(){return this}),fo}();$t._=jn,(i=function(){return jn}.call(t,n,t,o))===r||(o.exports=i)}).call(this)}).call(this,n(51),n(75)(e))},253:function(e,t,n){"use strict";n.r(t);var o=n(8),i=n(13);function r(){window.pu=function(e){const t=$(window).width()-200,n=$(window).height()-50;let o="toolbar=0,statusbar=1,resizable=1,scrollbars=0,menubar=0,location=1,directories=0";-1!=navigator.userAgent.indexOf("Chrome")&&(o="scrollbar=yes");let i=window.open("about:blank","",o+",height="+n+",width="+t);return-1!=navigator.userAgent.indexOf("rv:2.")?(i.puPop=function(e){-1!=navigator.userAgent.indexOf("rv:2.")&&this.window.open("about:blank").close(),this.document.location.href=e},i.puPop(e)):i.document.location.href=e,setTimeout(window.focus,200),window.focus(),i?(i.moveTo(window.screenX+2,window.screenY+2),i.blur(),self.focus()):(done_pu=null,ifSP2=!1,"undefined"==typeof pu_window&&(pu_window=!1),window.SymRealWinOpen&&(open=SymRealWinOpen),window.NS_ActualOpen&&(open=NS_ActualOpen),ifSP2=-1!=navigator.userAgent.indexOf("SV1"),ifSP2?(window.Event&&document.captureEvents(Event.CLICK),document.onclick=do_clicked_pu):do_pu(),self.focus(),do_clicked_pu()),this},gr.sponsor={base_url:SPONSOR_BASE_URL,popup:{cookie_name:"launcher_popup",url:"undefined"!=typeof pu_url?pu_url:"",launch:function(){if(!isMobile&&"standard"==RESOURCE_TYPE&&!Object(i.l)()){let e="",t="shutter-popup";const n=function(e){return o.a.getItem(`test_ab-${e}`)};if("a"===n(t)?e="search_fl2_test_a":"b"===n(t)&&(e="search_fl2_test_b"),"b"!==n(t)){const t=USER_COUNTRY_CODE;if("1"==gr.auth.me.premium)return!1;if(""===gr.sponsor.popup.url)return!1;if((window.FeatureFlag.isEnabled("user_oauth")?!o.a.getItem(gr.sponsor.popup.cookie_name):!gr.cookie(gr.sponsor.popup.cookie_name))&&!t.match(/MX|FR|TH|AU|IL/gi)){let t=gr.sponsor.popup.url;"undefined"!=typeof clientId&&clientId&&(t+=`&track_sub_id4=${clientId}`),""!==e&&(t+=`&track_sub_id2=${e}`);let n=document.querySelector('.main_search_bar input[name="word"]').value,o={type:"popup",searchTerm:n};EventTracker.printGA(o);let i=t.replace("[SEARCH]",n);pu(i),"undefined"!=typeof appf&&(language=""===appf?"_english":appf),"undefined"!=typeof ga&&ga("send","event","busquedas","show-popup",language,{dimension15:"true"});let r=new Date;r.setHours(r.getHours()+12),document.cookie=`${gr.sponsor.popup.cookie_name}=1;expires=${r.toUTCString()};domain=${document.domain};path=/`}}}}},coupon:{cookie_name:"sponsor_coupon",coupon_url:"undefined"!=typeof SPONSOR_BASE_URL&&"undefined"!=typeof LANGUAGE?SPONSOR_BASE_URL+"coupons/popup?lang="+LANGUAGE+"&k="+(new Date).toISOString().substr(0,10):"http://ads.freepik.com/coupons/popup?lang=&k="+(new Date).toISOString().substr(0,10),launch:function(e){if("undefined"!=typeof disallow_coupon)return!1;$.get(gr.sponsor.coupon.coupon_url,function(t){$("#footer").after(t),EventTracker.printGA({type:"imp",section:"stockbanner"}),"function"==typeof e&&e()})}},get:function(e){if(void 0===e&&(e={}),void 0===e.container)return!1;gr.request.get(gr.sponsor.base_url+"banner/ajax_search",e)}}}window.FeatureFlag.isEnabled("grsession2_ls")?(window.addEventListener("userSessionLoaded",()=>{r()}),window.gr&&r()):r()},254:function(e,t){function n(e){!function(e){var t=e.dataset.section,n="_id";"main_search_current_section"===t&&(n="");t=t.replace(/main_search_/,"main-search-")+n,document.getElementById(t).value=""}(e.parentNode),e.parentNode.remove(e)}$(document).on("click",".tag-field__items .remove",function(e){this.parent("form"),n(this)}),$(document).on("click",".filters_delete_tag",function(e){let t=document.querySelector('form[name="search-form"]');t&&(t.querySelector('input[name="style_id"]').value="")})},255:function(e,t,n){"use strict";n.r(t);var o=n(30),i=n(35);$(document).on("mousedown","section.related-styles *:not(ul.icons):not(header.related-header)",function(e){e.stopPropagation(),3!==e.wich&&EventTracker.send("all","event","detail-view","click","related-styles")}),$(document).on("mousedown","section.related-packs *:not(ul.icons):not(header.related-header)",function(e){e.stopPropagation(),3!==e.wich&&EventTracker.send("all","event","detail-view","click","related-packs")}),$(document).on("mousedown","section.related-tags *:not(ul.icons):not(header.related-header)",function(e){e.stopPropagation(),3!==e.wich&&EventTracker.send("all","event","detail-view","click","related-tags")}),$(document).on("click",".detail_equivalent_icons .link-icon-detail",function(e){if("viewport"==document.querySelector("section[id=detail]").parentNode.id)return window.location.href=`${this.href}${this.dataset.src}`,!1;ga("send","event","Detail-modal","Toggle-icon-style"),e.preventDefault();var t=~~this.dataset.id,n=Math.floor(t/1e3),r=~~this.dataset.premium,a=~~this.dataset.selection,c=~~this.dataset.color,l=document.querySelector(".detail_equivalent_icons .link-icon-detail.active");l&&l.classList.remove("active"),this.classList.add("active");var s=document.querySelectorAll(".gallery .main-icon");[].forEach.call(s,function(e){var o=r?APP_URL+"premium-icon/":STATIC_URL;if(1==c){var i="{0}icons/svg/{1}/{2}.svg".format(o,n,t);e.innerHTML='<img src="{0}">'.format(i),(!r||(window.FeatureFlag.isEnabled("user_oauth")?UserSession.userInfo.session.premium:gr.auth.me.premium)&&r)&&(getSVG($(e),i),document.querySelector(".svg-version").classList.remove("active"))}else e.innerHTML='<img src="{0}icons/png/512/{1}/{2}.png">'.format(o,n,t)}),document.querySelector(".customize.active")&&1==this.dataset.color&&document.querySelector(".gallery .svg-version").classList.add("active"),document.querySelector("section.customize ul.color-selector")&&(document.querySelector("section.customize ul.color-selector").classList.toggle("hidden",2==c),document.querySelector("section.customize ul.color-selector").previousElementSibling&&document.querySelector("section.customize ul.color-selector").previousElementSibling.classList.toggle("hidden",2==c));var u=document.getElementById("download-form");u.querySelector("#icon_id").value=t,u.querySelector("#colored").value=c,u.querySelector("#premium").value=r,u.querySelector("#selection").value=a,Object(o.e)();var d=document.querySelector("h1").querySelector("span:not(.title)");d&&d.parentNode.removeChild(d),i.Premium.init();var m=APP_URL+this.dataset.pack_slug;[].forEach.call(document.querySelectorAll(".related-packs .related-header a:not(:first-child), #detail-header-more .group-pack a"),function(e){e.href=m})})},256:function(e,t){!function(e){var t=function(){var t={showEvent:"click",onShow:function(){},onBeforeShow:function(){},onHide:function(){},onChange:function(){},onSubmit:function(){},colorScheme:"light",color:"3289c7",livePreview:!0,flat:!1,layout:"full",submit:1,submitText:"OK",height:156},n=function(t,n){var o=r(t);e(n).data("colpick").fields.eq(1).val(o.r).end().eq(2).val(o.g).end().eq(3).val(o.b).end()},a=function(t,n){e(n).data("colpick").fields.eq(4).val(Math.round(t.h)).end().eq(5).val(Math.round(t.s)).end().eq(6).val(Math.round(t.b)).end()},l=function(t,n){e(n).data("colpick").fields.eq(0).val(c(t).toUpperCase())},s=function(t,n){e(n).data("colpick").selector.css("backgroundColor","#"+c({h:t.h,s:100,b:100})),e(n).data("colpick").selectorIndic.css({left:parseInt(e(n).data("colpick").height*t.s/100,10),top:parseInt(e(n).data("colpick").height*(100-t.b)/100,10)})},u=function(t,n){e(n).data("colpick").hue.css("top",parseInt(e(n).data("colpick").height-e(n).data("colpick").height*t.h/360,10))},d=function(t,n){e(n).data("colpick").currentColor.css("backgroundColor","#"+c(t))},m=function(t,n){e(n).data("colpick").newColor.css("backgroundColor","#"+c(t))},f=function(t){var d,f=e(this).parent().parent();this.parentNode.className.indexOf("_hex")>0?(f.data("colpick").color=d=o(T(this.value)),n(d,f.get(0)),a(d,f.get(0))):this.parentNode.className.indexOf("_hsb")>0?(f.data("colpick").color=d=C({h:parseInt(f.data("colpick").fields.eq(4).val(),10),s:parseInt(f.data("colpick").fields.eq(5).val(),10),b:parseInt(f.data("colpick").fields.eq(6).val(),10)}),n(d,f.get(0)),l(d,f.get(0))):(f.data("colpick").color=d=i(A({r:parseInt(f.data("colpick").fields.eq(1).val(),10),g:parseInt(f.data("colpick").fields.eq(2).val(),10),b:parseInt(f.data("colpick").fields.eq(3).val(),10)})),l(d,f.get(0)),a(d,f.get(0))),s(d,f.get(0)),u(d,f.get(0)),m(d,f.get(0)),f.data("colpick").onChange.apply(f.parent(),[d,c(d),r(d),f.data("colpick").el,0])},p=function(t){e(this).parent().removeClass("colpick_focus")},h=function(){e(this).parent().parent().data("colpick").fields.parent().removeClass("colpick_focus"),e(this).parent().addClass("colpick_focus")},g=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1;var n=e(this).parent().find("input").focus(),o={el:e(this).parent().addClass("colpick_slider"),max:this.parentNode.className.indexOf("_hsb_h")>0?360:this.parentNode.className.indexOf("_hsb")>0?100:255,y:t.pageY,field:n,val:parseInt(n.val(),10),preview:e(this).parent().parent().data("colpick").livePreview};e(document).mouseup(o,y),e(document).mousemove(o,v)},v=function(e){return e.data.field.val(Math.max(0,Math.min(e.data.max,parseInt(e.data.val-e.pageY+e.data.y,10)))),e.data.preview&&f.apply(e.data.field.get(0),[!0]),!1},y=function(t){return f.apply(t.data.field.get(0),[!0]),t.data.el.removeClass("colpick_slider").find("input").focus(),e(document).off("mouseup",y),e(document).off("mousemove",v),!1},_=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1;var n={cal:e(this).parent(),y:e(this).offset().top};e(document).on("mouseup touchend",n,b),e(document).on("mousemove touchmove",n,w);var o="touchstart"==t.type?t.originalEvent.changedTouches[0].pageY:t.pageY;return f.apply(n.cal.data("colpick").fields.eq(4).val(parseInt(360*(n.cal.data("colpick").height-(o-n.y))/n.cal.data("colpick").height,10)).get(0),[n.cal.data("colpick").livePreview]),!1},w=function(e){var t="touchmove"==e.type?e.originalEvent.changedTouches[0].pageY:e.pageY;return f.apply(e.data.cal.data("colpick").fields.eq(4).val(parseInt(360*(e.data.cal.data("colpick").height-Math.max(0,Math.min(e.data.cal.data("colpick").height,t-e.data.y)))/e.data.cal.data("colpick").height,10)).get(0),[e.data.preview]),!1},b=function(t){return n(t.data.cal.data("colpick").color,t.data.cal.get(0)),l(t.data.cal.data("colpick").color,t.data.cal.get(0)),e(document).off("mouseup touchend",b),e(document).off("mousemove touchmove",w),!1},k=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1;var n,o={cal:e(this).parent(),pos:e(this).offset()};return o.preview=o.cal.data("colpick").livePreview,e(document).on("mouseup touchend",o,E),e(document).on("mousemove touchmove",o,S),"touchstart"==t.type?(pageX=t.originalEvent.changedTouches[0].pageX,n=t.originalEvent.changedTouches[0].pageY):(pageX=t.pageX,n=t.pageY),f.apply(o.cal.data("colpick").fields.eq(6).val(parseInt(100*(o.cal.data("colpick").height-(n-o.pos.top))/o.cal.data("colpick").height,10)).end().eq(5).val(parseInt(100*(pageX-o.pos.left)/o.cal.data("colpick").height,10)).get(0),[o.preview]),!1},S=function(e){var t;return"touchmove"==e.type?(pageX=e.originalEvent.changedTouches[0].pageX,t=e.originalEvent.changedTouches[0].pageY):(pageX=e.pageX,t=e.pageY),f.apply(e.data.cal.data("colpick").fields.eq(6).val(parseInt(100*(e.data.cal.data("colpick").height-Math.max(0,Math.min(e.data.cal.data("colpick").height,t-e.data.pos.top)))/e.data.cal.data("colpick").height,10)).end().eq(5).val(parseInt(100*Math.max(0,Math.min(e.data.cal.data("colpick").height,pageX-e.data.pos.left))/e.data.cal.data("colpick").height,10)).get(0),[e.data.preview]),!1},E=function(t){return n(t.data.cal.data("colpick").color,t.data.cal.get(0)),l(t.data.cal.data("colpick").color,t.data.cal.get(0)),e(document).off("mouseup touchend",E),e(document).off("mousemove touchmove",S),!1},L=function(t){var n=e(this).parent(),o=n.data("colpick").color;n.data("colpick").origColor=o,d(o,n.get(0)),n.data("colpick").onSubmit(o,c(o),r(o),n.data("colpick").el)},I=function(t){t.stopPropagation();var n=e("#"+e(this).data("colpickId"));n.data("colpick").onBeforeShow.apply(this,[n.get(0)]);var o=e(this).offset(),i=o.top+this.offsetHeight,r=o.left,a=x(),c=n.width();r+c>a.l+a.w&&(r-=c),n.css({left:r+"px",top:i+"px"}),0!=n.data("colpick").onShow.apply(this,[n.get(0)])&&n.show(),e("html").mousedown({cal:n},q),n.mousedown(function(e){e.stopPropagation()})},q=function(t){0!=t.data.cal.data("colpick").onHide.apply(this,[t.data.cal.get(0)])&&t.data.cal.hide(),e("html").off("mousedown",q)},x=function(){var e="CSS1Compat"==document.compatMode;return{l:window.pageXOffset||(e?document.documentElement.scrollLeft:document.body.scrollLeft),w:window.innerWidth||(e?document.documentElement.clientWidth:document.body.clientWidth)}},C=function(e){return{h:Math.min(360,Math.max(0,e.h)),s:Math.min(100,Math.max(0,e.s)),b:Math.min(100,Math.max(0,e.b))}},A=function(e){return{r:Math.min(255,Math.max(0,e.r)),g:Math.min(255,Math.max(0,e.g)),b:Math.min(255,Math.max(0,e.b))}},T=function(e){var t=6-e.length;if(t>0){for(var n=[],o=0;t>o;o++)n.push("0");n.push(e),e=n.join("")}return e.toUpperCase()},O=function(){var t=e(this).parent(),o=t.data("colpick").origColor;t.data("colpick").color=o,n(o,t.get(0)),l(o,t.get(0)),a(o,t.get(0)),s(o,t.get(0)),u(o,t.get(0)),m(o,t.get(0))};return{init:function(r){if("string"==typeof(r=e.extend({},t,r||{})).color)r.color=o(r.color);else if(void 0!=r.color.r&&void 0!=r.color.g&&void 0!=r.color.b)r.color=i(r.color);else{if(void 0==r.color.h||void 0==r.color.s||void 0==r.color.b)return this;r.color=C(r.color)}return this.each(function(){if(!e(this).data("colpickId")){var t=e.extend({},r);t.origColor=r.color;var o="collorpicker_"+parseInt(1e3*Math.random());e(this).data("colpickId",o);var i=e('<div class="colpick"><div class="colpick_color"><div class="colpick_color_overlay1"><div class="colpick_color_overlay2"><div class="colpick_selector_outer"><div class="colpick_selector_inner"></div></div></div></div></div><div class="colpick_hue"><div class="colpick_hue_arrs"><div class="colpick_hue_larr"></div><div class="colpick_hue_rarr"></div></div></div><div class="colpick_new_color"></div><div class="colpick_current_color"></div><div class="colpick_hex_field"><div class="colpick_field_letter">#</div><input type="text" maxlength="6" size="6" /></div><div class="colpick_rgb_r colpick_field"><div class="colpick_field_letter">R</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_rgb_g colpick_field"><div class="colpick_field_letter">G</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_rgb_b colpick_field"><div class="colpick_field_letter">B</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_hsb_h colpick_field"><div class="colpick_field_letter">H</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_hsb_s colpick_field"><div class="colpick_field_letter">S</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_hsb_b colpick_field"><div class="colpick_field_letter">B</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_submit"></div></div>').attr("id",o);i.addClass("colpick_"+t.layout+(t.submit?"":" colpick_"+t.layout+"_ns")),"light"!=t.colorScheme&&i.addClass("colpick_"+t.colorScheme),i.find("div.colpick_submit").html(t.submitText).click(L),t.fields=i.find("input").change(f).blur(p).focus(h),i.find("div.colpick_field_arrs").mousedown(g).end().find("div.colpick_current_color").click(O),t.selector=i.find("div.colpick_color").on("mousedown touchstart",k),t.selectorIndic=t.selector.find("div.colpick_selector_outer"),t.el=this,t.hue=i.find("div.colpick_hue_arrs"),huebar=t.hue.parent();var c,v,y=navigator.userAgent.toLowerCase(),w="Microsoft Internet Explorer"===navigator.appName,b=w?parseFloat(y.match(/msie ([0-9]{1,}[\.0-9]{0,})/)[1]):0,S=["#ff0000","#ff0080","#ff00ff","#8000ff","#0000ff","#0080ff","#00ffff","#00ff80","#00ff00","#80ff00","#ffff00","#ff8000","#ff0000"];if(w&&10>b)for(c=0;11>=c;c++)v=e("<div></div>").attr("style","height:8.333333%; filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr="+S[c]+", endColorstr="+S[c+1]+'); -ms-filter: "progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr='+S[c]+", endColorstr="+S[c+1]+')";'),huebar.append(v);else stopList=S.join(","),huebar.attr("style","background:-webkit-linear-gradient(top,"+stopList+"); background: -o-linear-gradient(top,"+stopList+"); background: -ms-linear-gradient(top,"+stopList+"); background:-moz-linear-gradient(top,"+stopList+"); -webkit-linear-gradient(top,"+stopList+"); background:linear-gradient(to bottom,"+stopList+"); ");i.find("div.colpick_hue").on("mousedown touchstart",_),t.newColor=i.find("div.colpick_new_color"),t.currentColor=i.find("div.colpick_current_color"),i.data("colpick",t),n(t.color,i.get(0)),a(t.color,i.get(0)),l(t.color,i.get(0)),u(t.color,i.get(0)),s(t.color,i.get(0)),d(t.color,i.get(0)),m(t.color,i.get(0)),t.flat?(i.appendTo(this).show(),i.css({position:"relative",display:"block"})):(i.appendTo(document.body),e(this).on(t.showEvent,I),i.css({position:"absolute"}))}})},showPicker:function(){return this.each(function(){e(this).data("colpickId")&&I.apply(this)})},hidePicker:function(){return this.each(function(){e(this).data("colpickId")&&e("#"+e(this).data("colpickId")).hide()})},setColor:function(t,f){if(f=void 0===f?1:f,"string"==typeof t)t=o(t);else if(void 0!=t.r&&void 0!=t.g&&void 0!=t.b)t=i(t);else{if(void 0==t.h||void 0==t.s||void 0==t.b)return this;t=C(t)}return this.each(function(){if(e(this).data("colpickId")){var o=e("#"+e(this).data("colpickId"));o.data("colpick").color=t,o.data("colpick").origColor=t,n(t,o.get(0)),a(t,o.get(0)),l(t,o.get(0)),u(t,o.get(0)),s(t,o.get(0)),m(t,o.get(0)),o.data("colpick").onChange.apply(o.parent(),[t,c(t),r(t),o.data("colpick").el,1]),f&&d(t,o.get(0))}})}}}(),n=function(e){return{r:(e=parseInt(e.indexOf("#")>-1?e.substring(1):e,16))>>16,g:(65280&e)>>8,b:255&e}},o=function(e){return i(n(e))},i=function(e){var t={h:0,s:0,b:0},n=Math.min(e.r,e.g,e.b),o=Math.max(e.r,e.g,e.b),i=o-n;return t.b=o,t.s=0!=o?255*i/o:0,0!=t.s?e.r==o?t.h=(e.g-e.b)/i:e.g==o?t.h=2+(e.b-e.r)/i:t.h=4+(e.r-e.g)/i:t.h=-1,t.h*=60,t.h<0&&(t.h+=360),t.s*=100/255,t.b*=100/255,t},r=function(e){var t={},n=e.h,o=255*e.s/100,i=255*e.b/100;if(0==o)t.r=t.g=t.b=i;else{var r=i,a=(255-o)*i/255,c=n%60*(r-a)/60;360==n&&(n=0),60>n?(t.r=r,t.b=a,t.g=a+c):120>n?(t.g=r,t.b=a,t.r=r-c):180>n?(t.g=r,t.r=a,t.b=a+c):240>n?(t.b=r,t.r=a,t.g=r-c):300>n?(t.b=r,t.g=a,t.r=a+c):360>n?(t.r=r,t.g=a,t.b=r-c):(t.r=0,t.g=0,t.b=0)}return{r:Math.round(t.r),g:Math.round(t.g),b:Math.round(t.b)}},a=function(t){var n=[t.r.toString(16),t.g.toString(16),t.b.toString(16)];return e.each(n,function(e,t){1==t.length&&(n[e]="0"+t)}),n.join("")},c=function(e){return a(r(e))};e.fn.extend({colpick:t.init,colpickHide:t.hidePicker,colpickShow:t.showPicker,colpickSetColor:t.setColor}),e.extend({colpick:{rgbToHex:a,rgbToHsb:i,hsbToHex:c,hsbToRgb:r,hexToHsb:o,hexToRgb:n}})}(jQuery)},30:function(e,t,o){"use strict";var i=o(1),r=o(53),a=o(12),c=o(9),l=o(15),s=o(32),u=(o(101),o(35));o(194);$(document).ready(function(){if(null!==document.querySelector("#detail")){if(parseFloat(total_pack.replace(",","."),10)>0&&null!=pack_items){current<total_pack&&current,current>0?current:total_pack;var e=!0;"IE"==i.g()&&($("a.next").attr("href",$(".next-icon-1").attr("data-slug")),$("a.prev").attr("href",$(".prev-icon-1").attr("data-slug")),e=!1),e&&function(e,t){if("undefined"!=typeof ie&&ie)return void $("#detail").addClass("loaded ie9");if(!(pack_items instanceof Array&&pack_items.length))return;var n=new d(500);d.icon_equivalent_wrapper=document.querySelector(".detail-styles .detail_equivalent_icons"),d.icon_equivalent_wrapper&&(d.icon_equivalent_tpl=Handlebars.tag("detail-icon-equivalent"),d.icon_equivalent_wrapper=document.querySelector(".detail-styles .detail_equivalent_icons")),$("#detail a.prev, #detail a.next").fadeIn(250),$("#detail a.next").on("click",function(e){e.preventDefault(),n.navigation("next")}),$("#detail a.prev").on("click",function(e){e.preventDefault(),n.navigation("prev")}),$(document).on("keydown",function(e){if(!document.querySelector(".fi-modal input[type=checkbox]:checked")){var t=document.querySelectorAll(".collection .collection-content.edit-mode .icons .collectionIcon .edit .collection-icon-rename, .collection .collection-header .edit-name.active .collection-name-input"),o=[].some.call(t,function(e){return e==document.activeElement});o||(39==e.keyCode&&n.navigation("next"),37==e.keyCode&&n.navigation("prev"))}})}(pack,icon_id)}else $(".next").html(""),$(".prev").html(""),$(".prev-icon").hide(),$(".next-icon").hide();$("#detail").addClass("loaded"),C()}});var d=function(e){var t,n,o,r,a=this,c=!1,l=!1,s=pack_items.length-1,m=$(".prev-icon-2"),f=$(".prev-icon-1"),p=$(".main-icon"),h=$(".next-icon-1"),g=$(".next-icon-2"),v=$(".detail-header h1");function y(){t=current-1<0?s:current-1,n=t-1<0?s:t-1,o=current+1>s?0:current+1,r=o+1>s?0:o+1,[pack_items[n].src,pack_items[t].src,pack_items[current].src,pack_items[o].src,pack_items[r].src]}y(),this.setImages=function(e){"next"===e&&(m.removeAttr("class").addClass("next-icon next-icon-2").not('[data-type="svg"]').find("img").attr("src",pack_items[r].src),f.removeAttr("class").addClass("prev-icon prev-icon-2"),p.removeAttr("class").addClass("prev-icon prev-icon-1"),h.removeAttr("class").addClass("main-icon"),g.removeAttr("class").addClass("next-icon next-icon-1")),"prev"===e&&(m.removeAttr("class").addClass("prev-icon prev-icon-1"),f.removeAttr("class").addClass("main-icon"),p.removeAttr("class").addClass("next-icon next-icon-1"),h.removeAttr("class").addClass("next-icon next-icon-2"),g.removeAttr("class").addClass("prev-icon prev-icon-2").not('[data-type="svg"]').find("img").attr("src",pack_items[n].src)),m=$(".prev-icon-2"),f=$(".prev-icon-1"),p=$(".main-icon"),h=$(".next-icon-1"),g=$(".next-icon-2"),l&&("next"===e&&(1==pack_items[r].color&&0==pack_items[r].premium||1==pack_items[r].premium&&gr.auth.me.premium?getSVG(g.not('[data-type="img"]'),pack_items[r].src):g.not('[data-type="img"]').html('<img src="'+pack_items[r].src+'" />')),"prev"===e&&(1==pack_items[r].color&&0==pack_items[r].premium||1==pack_items[r].premium&&gr.auth.me.premium?getSVG(m.not('[data-type="img"]'),pack_items[n].src):m.not('[data-type="img"]').html('<img src="'+pack_items[n].src+'" />')))},this.navigation=function(t){var n=document.querySelectorAll(".gallery div.main-icon img");[].forEach.call(n,function(e){var t=e.src.slice(-3);e.src="png"==t?pack_items[current].png:pack_items[current].src}),c||(c=!0,l=$("#detail .svg-version").hasClass("active"),v.addClass("out"),"next"===t&&(current++,m.addClass("nextPos"),f.addClass("prevOut"),p.addClass("mainPrev"),h.addClass("nextMain"),g.addClass("nextIn"),ga("send","event","Detail View","Move","Next")),"prev"===t&&(current--,m.addClass("prevIn"),f.addClass("prevMain"),p.addClass("mainNext"),h.addClass("nextOut"),g.addClass("prevPos"),ga("send","event","Detail View","Move","Previous")),current>s&&(current=0),current<0&&(current=s),y(),function(){if($(".main-icon-without-slide").find("img").attr("src",pack_items[current].src),function(e){!!e&&(!!d.icon_equivalent_wrapper&&$.ajax({url:"/ajax/get_equivalents/"+e,type:"GET",async:!0,dataType:"json",success:function(t){for(var n in d.icon_equivalent_wrapper.innerHTML="",t)t[n].active=e==n?" active":"",t[n].id=n,d.icon_equivalent_wrapper.insertAdjacentHTML("beforeend",d.icon_equivalent_tpl(t[n]))},error:function(e,t,n){d.icon_equivalent_wrapper.innerHTML="",console.error("AX ERROR["+n+"]: "+t)}}))}(pack_items[current].id),pack_items[current].tags.length){var e=document.querySelector("ul.tags");e.innerHTML="";for(var t=0;t<pack_items[current].tags.length;t++){var n=document.createElement("li"),o=document.createElement("a");o.innerHTML=pack_items[current].tags[t].tag,o.href=pack_items[current].tags[t].slug,n.appendChild(o),e.appendChild(n)}}var r=1==pack_items[current].selection?"flaticon-selection":"hidden";r=1==pack_items[current].premium?"icon icon--premium":r;var a=document.querySelector("#detail h1 span i");null!==a&&(a.className="",a.classList.add(r));document.querySelector("#detail h1 span").classList.toggle("premium",1==pack_items[current].premium);var c=pack_items[current].premium?messages.common.free:"premium",l=pack_items[current].premium?"premium":messages.common.free;$("h1 span.title").html(pack_items[current].description);var s=document.querySelector("h1"),m=s.lastChild.nodeValue;s.lastChild.nodeValue=m.replace(c,l),Object(i.a)(".modal-download p.filename .description").innerHTML=pack_items[current].description,Object(i.a)("meta[property='og:title']").content=pack_items[current].metaTwitterTitle,Object(i.a)("meta[name='twitter:title']").content=pack_items[current].metaTwitterTitle;var f=pack_items[current].src.replace("www.flaticon","imageog.flaticon").replace("svg/","png/512/").replace(".svg",".png")+"?size=1200x630f&pad=10,10,10,10&ext=png&bg=FFFFFFFF";Object(i.a)(".modal-download p.filename img").src=pack_items[current].src,Object(i.a)("meta[property='og:image']").content=f,Object(i.a)("meta[name='twitter:image']").content=f;var p=Object(i.a)("meta[name='twitter:description']").content.split(".");p[0]=p[0].replace(c,l),Object(i.a)("meta[name='twitter:description']").content=p.join("."),Object(i.a)("meta[property='og:url']").content=pack_items[current].slug,Object(i.a)("meta[property='og:description']").content=p.join("."),Object(i.a)(".modal-download .modal-body").classList.toggle("nopremium",!pack_items[current].selection),Object(i.a)("#detail .publish_date").textContent=pack_items[current].published;var h=pack_items[current].slug,g=document.querySelector(".category-icon");document.title=pack_items[current].description+" -"+document.title.split("-")[1].replace(i.e(g.innerHTML),i.e(pack_items[current].category)).replace(new RegExp("("+c+")","gi"),i.e(l)),pack_items[current].category?document.querySelector(".category-in-icon").classList.remove("hidden"):document.querySelector(".category-in-icon").classList.add("hidden");g.href=pack_items[current].category_url,g.innerHTML=pack_items[current].category;var v=Object(i.a)("#fi-premium-upgrade-button .btn-upgrade");v&&(v.href=ACCOUNTS_BASE_URL+"premium/"+pack_items[current].pack_id);"history"in window&&window.history.pushState({flaticon:"icon"},pack_items[current].description,h);var y=h.replace(APP_URL,"");ga("send","pageview","/"+y),Object(i.a)("#download-form #icon_id").value=pack_items[current].id,Object(i.a)("#download-form #author").value=pack_items[current].team_id,Object(i.a)("#download-form #selection").value=pack_items[current].selection,Object(i.a)("#download-form #colored").value=pack_items[current].color,Object(i.a)("#download-form #premium").value=pack_items[current].premium,Object(i.a)("#download-form #keyword").value=pack_items[current].description,function(){var e=pack_items[current].tags.map(function(e){return e.tag_id}).join();$.ajax({url:"/ajax/search/tags",data:{tags:e,pack:pack},type:"POST",async:!0,dataType:"json",success:function(e){var t=e.items,n=e.total,o=e.tag;if($(INFINITY.css_selector).html(""),$("section .tags a span").html(n),parseInt(n)>0){var r=$("section.related-tags a.badge:last-child");r.attr({href:"/"+o.slug,title:o.name}),r.html(messages.common.view_all+" - <span>"+i.e(o.name)+"</span> "+messages.common.icons),document.querySelector(".related-header p").innerHTML=`${messages.common.more}\n                <a class="text-link" href="/${o.slug}" title="${messages.common.more} ${i.e(o.name)} ${messages.common.icons}">\n                ${i.e(o.name)} </a> ${messages.common.icons}`,$(".related-header a.badge span").html(o.total),INFINITY.setUrl=!1,INFINITY.css_selector="section.related-tags ul.icons",INFINITY.tplLoadItem(t,!1);var a=document.getElementById("fi-premium-sponsor-freepik");a.querySelector("iframe")&&(a.querySelector("iframe").remove(),a.insertAdjacentHTML("beforeend",SponsorBanner.getFreepikSponsor(o.name)))}},error:function(e,t,n){console.error("AX ERROR["+n+"]: "+t)}})}(),C();u.Premium.check(),window.innerWidth>480&&$("html,body").animate({scrollTop:0},"slow");let _=document.getElementById("s-p");if(null!==_){_.dataset.term=pack_items[current].keyword;const e={premium:!0,element:_,term:_.dataset.term};SponsorBanner.insert(e)}}(),setTimeout(function(){v.removeClass("out")},300),setTimeout(function(){a.setImages(t),c=!1},e))}};function m(){if(null!==document.querySelector("#detail")){if(window.toggleDetailBtnInterval&&clearInterval(window.toggleDetailBtnInterval),"undefined"!=typeof pack_items&&null!==pack_items&&pack_items instanceof Array&&(current==parseInt(current,10)||0==current))var e=parseInt(pack_items[current].id,10),t=pack_items[current].keyword,n=parseInt(pack_items[current].team_id,10),o=parseInt(pack_items[current].color,10),i=parseInt(pack_items[current].premium,10);else e=parseInt(document.getElementById("icon_id").value,10),t=document.querySelector("#download-form #keyword").value,n=parseInt(document.getElementById("team").value,10),o=parseInt(document.getElementById("colored").value,10),i=parseInt(document.getElementById("premium").value,10);if(window.db instanceof Object){var r="addIcon",a=Collection.getActive();window.db.queryAll(a.bookmark_id,{query:{id:e}}).length&&(r="delIcon");var l,s=document.getElementById("detail-icon-button");if(s)"delIcon"===r?(s.classList.add("btn-danger"),l=messages.collection.delete_icon):(s.classList.remove("btn-danger"),l=messages.collection.add_icon),void 0!==s.querySelector("span")&&(s.querySelector("span").innerHTML=l),s.setAttribute("onclick","Widget."+r+"("+e+",'"+Object(c.a)(t)+"',"+n+", "+o+", "+i+")"),s.get("i").classList.toggle("icon--removecollection","delIcon"==r)}else window.toggleDetailBtnInterval=setInterval(C,1e3)}}var f=o(0),p=o(7),h=o(3);class g{constructor(){this.userId=gr.auth.me.id||0,this.collection={},this.actions=[],this.pointer=0,this.keyActions="",this.keyPointer="",this.executing=!1}init(){window.addEventListener("userSessionLoaded",()=>{this.setCollection(),this.toogleHistoryCursors(),document.querySelector(".collection-content button.flaticon-redo").addEventListener("click",()=>{"undefined"!=typeof HistoryCollection&&HistoryCollection.next()}),document.querySelector(".collection-content button.flaticon-undo").addEventListener("click",()=>{"undefined"!=typeof HistoryCollection&&HistoryCollection.prev()})})}setCollection(){if("undefined"==typeof Collection)return!1;this.collection=Collection.getActive(),this.actions=[],this.pointer=0,void 0!==this.collection&&Object.keys(this.collection).length&&(this.keyActions=`History_Collection_Actions_${this.collection.bookmark_id}`,this.keyPointer=`History_Collection_Pointer_${this.collection.bookmark_id}`,this.actions=JSON.parse(sessionStorage.getItem(this.keyActions))||[],this.pointer=JSON.parse(sessionStorage.getItem(this.keyPointer))||0),this.collection&&this.toogleHistoryCursors(),this.purgueHistory()}middleware(){return!this.executing&&(this.setCollection(),void 0!==this.collection.bookmark_id)}collectionHistoryDelete(e){if(this.middleware()){Collection.getActive().bookmark_id==e&&(sessionStorage.removeItem(this.keyActions),sessionStorage.removeItem(this.keyPointer),this.pointer=0,this.actions=[],this.toogleHistoryCursors())}}iconAdd(e,t){if(this.middleware()){const n={id:e,next:"add",nextValue:t,prev:"del",prevValue:e};this.saveHistory(n)}}iconDel(e,t){if(!this.middleware())return;const n={id:e,next:"del",nextValue:e,prev:"add",prevValue:t};this.saveHistory(n)}saveHistory(e){this.actions=JSON.parse(sessionStorage.getItem(this.keyActions))||[],this.actions.length&&(this.actions=this.actions.slice(0,this.pointer)),this.actions.push(e),this.pointer++,sessionStorage.setItem(this.keyActions,JSON.stringify(this.actions)),this.saveHistoryPointer()}saveHistoryPointer(){sessionStorage.setItem(this.keyPointer,JSON.stringify(this.pointer))}toogleHistoryCursors(){const e=document.querySelector(".collection.expanded .collection-content .collection-options");e||(e.querySelector("button.flaticon-redo").classList.toggle("disabled",this.pointer>=this.actions.length),e.querySelector("button.flaticon-undo").classList.toggle("disabled",this.pointer<=0))}getHistory(e){e>this.pointer&&(e=this.pointer);let t=e||this.pointer;return this.actions.slice(t-1,t)[0]}prev(){if(this.middleware()){if(!(this.pointer>0))return!1;{const e=this.getHistory();this.pointer--,this.executeHystory(e,"prev"),this.toogleHistoryCursors()}}}next(){if(this.middleware()){if(!(this.pointer<this.actions.length))return!1;{this.pointer++;const e=this.getHistory();this.executeHystory(e,"next"),this.toogleHistoryCursors()}}}executeHystory(e,t){if(void 0===t&&(t="prev"),void 0===e[t])return!1;const n=e[t],o=e[`${t}Value`];switch(this.executing=!0,this.saveHistoryPointer(),n){case"add":if(o.icon.id>999999999){const e={iconDataColor:o.color?o.color:o.icon.color,iconName:o.name?o.name:o.icon.name,iconAuthor:gr.auth.me.id,iconPersonal:"4",iconColor:"XXXXXX"==o.icon.color?"2":"1"};e.iconColor="2"==e.iconDataColor?e.iconDataColor:e.iconColor,Widget.addIcon(o.icon.id,iconName,iconuthor,iconColor,iconPersonal)}else Widget.addIcon(o.icon.id,o.name,o.author,o.color,o.premium,o.custom_color);break;case"del":Widget.delIcon(e.id)}this.executing=!1}purgueHistory(){let e=this.actions.length;if(e){for(var t=0;t<n&&void 0!==this.actions[t];t++);e>20&&this.actions.splice(0,e-20),sessionStorage.setItem(this.keyActions,JSON.stringify(this.actions)),this.pointer>e&&(this.pointer=e,this.saveHistoryPointer())}}}o.d(t,"d",function(){return _}),o.d(t,"a",function(){return k}),o.d(t,"c",function(){return E}),o.d(t,"b",function(){return q}),o.d(t,"f",function(){return C}),o.d(t,"e",function(){return A});const v=`${BASE_URL}ajax/download/validate`;window.addEventListener("userSessionLoaded",()=>{const e=new g;if(e.init(),document.getElementById("collections-toggle")){$(".edit-icon-content").on("click",function(e){e.stopPropagation()}),$(".edit-icon-wrapper .close-button").on("click",function(e){e.stopPropagation(),q._openEditModal(!1,!1)}),$(document).on("click",".btn-edit-icon",function(){let e=document.querySelector("#download-form");if("icon-detail"==window.view.section&&(e=document.querySelector("#detail #download-form")),e){var t={id:e.querySelector("#icon_id").value,name:e.querySelector("#keyword").value,color:e.querySelector("#colored").value,premium:e.querySelector("#premium").value};q._openEditModal(!0,t,!0)}}),$(document).on("click",".context_btn-edit-icon",function(e){e.preventDefault();var t=e.currentTarget.closest("ul").querySelector("li .link-icon-detail");t&&(t.dataset.edit=!0,t.click())}),$(document).on("click",".only_registered .close-alert",function(){window.Editor.close(),q.reset_widget()}),$(".edit-icon-content .right > header button").on("click",q._toggleEditPanel),$(".edit-icon-content .left #download_button").on("click",function(){q._toggleEditPanel(!0)}),$(".collection").on("change",".collection_icons_list li .edit input",function(e){var t=$('.collection[data-order="0"] .collection-content.color-mode .icons li .edit label input:checked');$("#edit-color").toggleClass("show",t.length>0)}),$(".collections").on("change",".collection_icons_list li .edit input",function(e){var t=$('.collection[data-order="0"] .collection-content.edit-mode:not(.color-mode) .icons li .edit label input:checked'),n=this.parent(".icon--item"),o=k.getActive().bookmark_id,i=window.db.queryAll(o,{query:{id:n.dataset.id}});q._openEditModal(t.length>0,i[0]),$(document).on("click",".collection_color_button",q.createCollectionCPicker)}),$(document).on("click",".edit-icon-content .right header button",function(){q._openEditModal(!1,!1),$("#edit-color").removeClass("show"),$('.collection[data-order="0"] .collection_icons_list .icon--item .edit input[type=checkbox]:checked').prop("checked",!1)}),window.addEventListener("dragstart",function(e){e=e||event},!1),window.addEventListener("dragenter",function(e){(e=e||event).preventDefault()},!1),window.addEventListener("dragleave",function(e){(e=e||event).preventDefault()},!1),window.addEventListener("dragover",function(e){(e=e||event).preventDefault()},!1),window.addEventListener("dragend",function(e){(e=e||event).preventDefault()},!1),window.addEventListener("drop",function(e){(e=e||event).preventDefault()},!1),$(document).on("dragstart",".collection-content.sort-mode .collectionIcon",function(e){e.originalEvent.dataTransfer.setData("text/plain","icon"),b.moveDragStart(e)}),$(document).on("dragleave",".collection-content.sort-mode .collectionIcon",function(e){b.moveDragLeave(e)}),$(document).on("drop",".collection-content.sort-mode .collectionIcon",function(e){b.moveDrop(e)}),$(document).on("dragend",".collection-content.sort-mode .collectionIcon",function(e){b.moveDragEnd(e)}),$(document).on("dragenter",".collection-content.sort-mode .collectionIcon",function(e){b.moveDragEnter(e)}),$("#btn-fetch-collection").on("click",k.fetch),$(document).on("click",".overlay-drop .register button",function(e){e.preventDefault(),this.closest(".overlay-drop").style.display="none",this.closest(".overlay-drop").classList.remove("register")}),$(document).on("click",".overlay-drop .upgrade button",function(e){e.preventDefault(),this.parentNode.parentNode.style.display="none",this.parentNode.parentNode.classList.remove("upgrade")}),$(document).on("click",".overlay-drop .close-button",function(){this.closest(".overlay-drop").style.display="none",this.closest(".overlay-drop").classList.remove("upgrade")}),$(document).on("click",".collection-content:not(.sort-mode) .icon-upload",function(e){e.preventDefault(),this.parentNode.parentNode.parentNode.parentNode.parentNode.querySelector("input.fileCollection").click()}),$(document).on("change",".fileCollection",function(e){if(e.preventDefault(),!k.checkUploadLimits(e))return!1;if(e.target.files.length){for(var t=0;t<e.target.files.length;t++)e.target.files[t].id=Date.now().toString()+t,b.checkUploadSvg(e.target.files[t]);document.getElementById("fileCollection-"+k.getActive().bookmark_id).value=""}}),$(".collections").on("click",".help_link",function(e){e.preventDefault(),window.open(this.href,"_blank").focus()}),$(".modal-download.modal-collection #download-free").on("click",function(e){e.stopPropagation(),$('[name="download-collection-form"].active-form').trigger("submit"),Object(i.a)("#modal-download").checked=!1,Object(i.a)("#modal-credit").checked=r.open_attribution_modal()}),$("#modal-download").on("change",function(e){if(!this.checked){let e=document.querySelector(".collection.expanded .download-holder button");null!==e&&(e.classList.remove("disabled"),document.getElementById("collections").classList.remove("loading"))}}),$(".modal-download .modal-fade-screen").on("click",function(e){document.querySelector(".collection.expanded .download-holder button").classList.remove("disabled"),document.getElementById("collections").classList.remove("loading")}),$("#max-collections").on("click",".max-collections__item",function(e){e.stopPropagation();var t=document.get("#max-collections #button-confirm");t&&(document.querySelectorAll("input[name=choice]:checked").length==k.limit.collections?t.disabled=!1:t.disabled=!0)}),$("#max-collections").on("click","#button-confirm",function(){var e=[];document.querySelectorAll("input[name=choice]:checked").forEach(function(t){let n=t.closest("li");e.push(parseInt(n.getAttribute("data-bookmark"),10))}),window.db.update("list",function(t){return!~e.indexOf(parseInt(t.bookmark_id,10))},function(e){var t=Object(i.a)(".collection[data-bookmark='"+e.bookmark_id+"']");let n=Object(i.a)(".collection[data-bookmark='"+e.bookmark_id+"'] .collection-header"),o=Object(i.a)(".collection[data-bookmark='"+e.bookmark_id+"'] .collection-header .header-options .popover-content").querySelectorAll("p, hr, div");for(var r=0;r<o.length;r++)"option-buttons"!=o[r].className&&o[r].remove();t.classList.add("locked"),n.insertAdjacentHTML("beforeend",'<div class="locked-options"><i class="icon icon--lock"></i></div>');var a=t.get(".popover .menu-options");a&&([].forEach.call(a.querySelectorAll("li button.collection-option"),function(e){e.classList.contains("delete-collection")||e.classList.add("hidden")}),null!=a.querySelector(".locked-collection")&&a.querySelector(".locked-collection").classList.remove("hidden"));var c=t.get(".download-wrapper");c&&c.parentNode.removeChild(c);var l=t.get(".upgrade_btn");return l&&l.classList.remove("hidden"),e.status=0,k.emit("set",{bookmark_id:e.bookmark_id,status:0}),e}),window.db.commit(),Object(i.a)("#max-collections").classList.remove("visible")}),$("#collections").on("click",".collection_share_button",function(e){var t;Array.from(e.target.parentNode.offsetParent.children).filter(e=>{e.classList.contains("selectInput")&&(t=e.value)}),k.share(this.dataset.type,t)}),$(document).on("click",".collection-icon-delete, .collectionIcon .icon--removecollection",function(e){e.stopPropagation(),e.preventDefault(),q.delIcon(parseInt(this.parent(".icon--item").dataset.id,10))}),$(document).on("click",".icon--item .overlay button.add-remove",function(e){e.stopPropagation(),e.preventDefault();var t=this.parent(".icon--item"),n=t.get(".tooltip .content span");q[t.classList.contains("selected")?"delIcon":"addIcon"](t.dataset.id,t.dataset.name,t.dataset.team,t.dataset.color,t.dataset.premium,t.dataset.custom_color,t.dataset.icon_src),n&&(t.classList.contains("selected")?n.innerHTML="Remove from Collection":n.innerHTML="Add to collection")}),$(document).on("click",".collection .collection-header",function(t){t.stopPropagation(),window.launching=!0;var n=this.parent(".collection");n.classList.contains("expanded")?n.classList.contains("locked")||e.setCollection():(window.firstColorChange=!0,k.setActive(n.dataset.bookmark))}),$(document).on("click",".collection-header .edit-collection",function(t){t.stopPropagation(),window.launching=!0;var n=this.parent(".collection");if(n.classList.contains("expanded")){if(!n.classList.contains("locked")){var o=n.get(".edit-name");o.classList.add("active"),o.get("input").select(),e.setCollection()}}else window.firstColorChange=!0,k.setActive(n.dataset.bookmark)}),$(document).on("click",".collectionIcon .edit .popover-button",function(){q.createIconsCPicker(this)}),$(document).on("click",".collection .edit-name:not(.active), .edit-name.active .flaticon-disk",function(e){e.stopPropagation(),k.rename(this)}),$(document).on("click",".download-holder button",function(e){e.stopPropagation(),this.parent(".collection").get(".collection-download").classList.add("active");let t=document.querySelectorAll('[name="download-collection-form"]');for(const e of t)e.classList.remove("active-form");this.parent(".collection").querySelector('[name="download-collection-form"]').classList.add("active-form")}),$(document).on("click","#collections ul.download li button",function(e){e.stopPropagation(),e.preventDefault(),this.parent(".download-files").get(".customize").classList.add("active")}),$(document).on("click",".collection-download.active .download-button",function(e){e.stopPropagation();var t=this.parent(".collection");t.get(".collection-download .customize").classList.remove("active"),t.get(".collection-download").classList.remove("active"),"png"==this.dataset.format||h.a.isPremium()?k.download(t.dataset.bookmark,this.dataset.format,this.dataset.size):l.a.callModalDownloadOnlyForPremium()}),$(document).on("click",".collection-download.active .header-download button",function(e){e.stopPropagation();var t=this.parent(".collection");t.get(".collection-download .customize").classList.remove("active"),t.get(".collection-download").classList.remove("active")}),$(window).on("resize",function(){clearTimeout(window.resizeWindowInterval),window.resizeWindowInterval=setTimeout(function(){Object(i.a)(".collection.expanded .collection-content");delete window.resizeWindowInterval},500)}),$(document).on("keyup",".collection-name-input",function(e){e.preventDefault(),13==e.which&&k.rename(this),27==e.which&&(this.value=this.dataset.original,this.parentElement.classList.remove("active"),this.blur())}),$(document).on("click",".collection-icon-rename",function(e){e.stopPropagation(),this.select()}),$(document).on("keyup",".collection-icon-rename",function(e){e.preventDefault(),13==e.which&&b.rename(this),27==e.which&&(this.value=this.dataset.original)}),$(document).on("blur",".collection-icon-rename",b.rename),$(document).on("click","#collections-toggle",function(e){e.stopPropagation(),q.toggle()}),$(document).on("click",".collection-header button.edit-collection",function(e){e.stopPropagation();var t=this.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.querySelector(".edit-name");S(),[].forEach.call(document.find(".collection .collection-header .edit-name"),function(e){e.classList.remove("active")}),t.classList.add("active"),t.get("input").select()}),$(document).on("click",".collection-options .toggle-edit",k.openEditMode),$(document).on("click",".collection .collection-content .header-edit .btn-back",k.closeEditMode),$(document).on("click",".collection-options .toggle-sort",k.openSortMode),$(document).on("click",".collection .collection-content .header-sort .btn-back",k.closeSortMode),$(document).on("click",".collection-options .toggle-share",k.toggleShareLayer),$(document).on("click",".collection-share .close",k.toggleShareLayer),$(document).on("click",".collection-options .toggle-backup",k.toggleBackupLayer),$(document).on("click",".collection-backup .close",k.toggleBackupLayer),$(document).on("click",".collection-header button.flaticon-bin, .collection.locked .locked-options button",function(e){e.stopPropagation();var t=Object(i.a)("#modal-delete-collection");t.parentNode.get(".modal-inner button.modal_delete_collection_btn").dataset.bookmark=this.dataset.bookmark,t.checked=!0}),$(".modal_delete_collection .modal_delete_collection_btn").on("click",function(e){e.stopPropagation();var t=this.getAttribute("data-bookmark");t&&k.del(t),i.f(this)}),$(document).on("click",".collection .color-selector li button",function(e){$(this.parent(".color-selector").nextElementSibling).colpickSetColor(this.dataset.color)}),$(document).on("click",".collection_color_button",q.createCollectionCPicker),$(document).on("change",".upload-file-input",function(e){var t=this.files[0];if(t.type.match(/text.*/)){var n=new FileReader;n.onload=function(e){$.ajax({url:APP_URL+"Collections/restore_backup",type:"POST",data:JSON.stringify(n.result),success:function(e){k.restore_backup(e)}})},n.readAsText(t),this.value=""}}),$(document).on("click","#paint_collection",function(){document.getElementById("collections").classList.contains("expanded")?(document.querySelector(".paint-popover").classList.remove("popover-left"),document.querySelector(".paint-popover").classList.add("popover-right")):(document.querySelector(".paint-popover").classList.remove("popover-right"),document.querySelector(".paint-popover").classList.add("popover-left")),q.createCollectionCPicker(),document.querySelector('section[data-bookmark="'+k.getActive().bookmark_id+'"] .trigger_popover').click()}),document.getElementById("new_collection_btn").addEventListener("click",e=>{EventTracker.send("all","event","collection","create"),k.new()}),$(document).on("click",".empty-collection-register .close",function(){document.querySelector(".icons-collection-noregister").style.display="none",document.querySelector(".collection-content").classList.remove("nologged-limit-reached")}),$(document).on("click",".collection-locked-inside .close",function(){this.closest(".collection-locked-inside").style.display="none"});const t=document.querySelector(".add-collections-holder");h.a.isLogged()||h.a.isPremium()?t.children[2]&&t.children[2].remove():t.children[1]&&t.children[1].remove()}k.init()}),$(document).on("click","#collections-holder .download-holder button",function(){var e=window.db.queryAll(k.getActive().bookmark_id).map(e=>e.id);$.ajax({url:APP_URL+"ajax/collections/license",type:"POST",data:{bookmarkIconIds:e},success:function(e){var t=document.querySelector("div.modal-download"),n="";e.forEach(function(e){var t="freepik"===e.slug?messages.attribution.freepik_url:`${APP_URL}${messages.url.authors}/${e.slug}`;n+=`<div>${messages.attribution.icons_made_by} <a href="${t}" title="${e.name}">${e.name}</a> from <a href="${APP_URL}" title="Flaticon">${window.location.host}</a></div>`}),t.querySelector(".copy-wrapper").classList.remove("hidden"),t.querySelector(".copy-holder span").textContent=n,t.querySelector(".input_atributtion_text").setAttribute("value",n)}})});const y=()=>{$('[name="download-collection-form"].active-form').trigger("submit"),Object(i.a)("#modal-download").checked=!1,r.open_attribution_modal();var e=document.querySelector('.active-form [name="downC_bookmark_id"]').value,t=k.getCollectionData(e),n=[];t&&t.icons.length>0&&(n=t.icons.map(e=>e.id)),Logs.pushLog(`download|type,collection|url,${window.location.href}|items,${n.join(";")}`,!0),document.querySelector(".fi-modal #download-free").removeEventListener("click",_)};async function _(e){e.preventDefault(),e.stopPropagation();try{await Object(p.a)(`${v}?resourceType=icon`,{withCredentials:!0,headers:{"X-Requested-With":"XMLHttpRequest"}}),y()}catch(e){if(429===e.status){let e=document.getElementById("modal-download");e&&(e.checked=!1,document.querySelector("body").classList.remove("modal-open")),window.location.href=`${APP_URL}${messages.common.url_downloads_limit}`}else console.error("Error validate download ",e)}}function w(e){return/((^[0-9A-F]{6}$|XXXXXX))/i.test(e)}function b(e,t,n,o,r,a,c){if("number"!=typeof e)throw"Invalid icon id";if(!r)throw"Invalid bookmark_id";if("number"!=typeof n)throw"Invalid author";if(this.premium=parseInt(a)||0,this.id=parseInt(e,10),this.author=parseInt(n,10),this.bookmark_id=r,this.color=w(o)?o:"XXXXXX",this.sort=parseInt(c,10),this.name=void 0!==t&&t.toString().length?i.p(t.toString()):"icon-"+this.id,!window.db.queryAll(this.bookmark_id,{query:{id:this.id}}).length){var l={},s=this;b.properties.forEach(function(e){l[e]=s[e]}),window.db.insertOrUpdate(this.bookmark_id,{id:l.id},l),window.db.commit(),q.updateToggle()}}function k(e,t,n,o=!1){i.j();this.bookmark_id=e.bookmark_id||(Math.random().toString(36)+"00000000000000000").slice(2,18),this.name=e.name||messages.collection.default_name,this.status=0!=e.status?1:0,this.color=e.color||"000000",this.created=e.created,this.updated=e.updated,this.source=e.source||"local",this.icons=e.icons||[],this.active=parseInt(e.active,10)||1,this.order=parseInt(e.order,10)||0,window.db.update("list",function(){return!0},function(e){return e.active=0,e.order++,e}),window.db.commit();var r=this;e={duplicate:!1},["bookmark_id","name","color","created","updated","active","order","source","status"].forEach(function(t){void 0!==r[t]&&(e[t]=r[t])});var a=window.db.queryAll("list").filter(function(t){return t.bookmark_id==e.bookmark_id});a.length&&(e.active=a[0].active,e.order=a[0].order),window.db.insertOrUpdate("list",{bookmark_id:this.bookmark_id},e),window.db.tableExists(this.bookmark_id)&&window.db.dropTable(this.bookmark_id),this.icons.length?(this.icons.forEach(function(e){for(var t in e)~b.properties.indexOf(t)||(e[t]=null);e.bookmark_id=r.bookmark_id}),window.db.createTableWithData(this.bookmark_id,this.icons)):window.db.createTable(this.bookmark_id,b.properties),window.db.commit(),n&&(e.duplicate=!0,e.icons=this.icons),t||"tour_demo_collection"==e.bookmark_id||(o?k.emit("create",e,k.setActive):k.emit("create",e)),t||q.update(t);var c=document.querySelector("#collections-holder");c&&c.classList.add("overflow"),c&&c.classList.remove("scrollable"),document.querySelector("button.flaticon-share")&&(document.querySelector("button.flaticon-share").disabled=window.FeatureFlag.isEnabled("user_oauth")?!window.UserSession.userInfo.session.status:!gr.auth.me.status)}function S(){var e=document.querySelector(".popover-button.active"),t=document.querySelector(".popover-content.show-menu");e&&e.classList.remove("active"),t&&t.classList.remove("show-menu")}function E(e){if(e.namespace&&"Auth.error"!=e.namespace){var t=e.namespace.split(".");"function"==typeof window[t[0]][t[1]]&&(delete e.namespace,window[t[0]][t[1]](e))}window.loading=!1}var L,I;function q(){}function x(){for(var e=document.cookie.split(";"),t=0;t<e.length;t++){for(var n=e[t];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf("download_collection="))return}document.querySelector(".collection.expanded .download-holder button").classList.remove("disabled"),document.getElementById("collections").classList.remove("loading"),clearTimeout(I)}function C(){s.a.id?A():m()}function A(){window.toggleDetailBtnInterval&&clearInterval(window.toggleDetailBtnInterval);var e=document.querySelector("#download-form #icon_id").value,t=document.querySelector("#download-form #keyword").value,n=document.querySelector("#download-form #team").value,o=document.querySelector("#download-form #colored").value,i=document.querySelector("#download-form #premium").value;if(window.db instanceof Object){var r="addIcon",a=k.getActive();window.db.queryAll(a.bookmark_id,{query:{id:e}}).length&&(r="delIcon");var l,s=document.getElementById("detail-icon-button");if(s)"delIcon"===r?(s.classList.add("btn-danger"),l=messages.collection.delete_icon):(s.classList.remove("btn-danger"),l=messages.collection.add_icon),void 0!==s.querySelector("span")&&(s.querySelector("span").innerHTML=l),s.setAttribute("onclick","Widget."+r+"("+e+",'"+Object(c.a)(t)+"',"+n+", "+o+", "+i+")"),s.get("i").classList.toggle("icon--removecollection","delIcon"==r)}else window.toggleDetailBtnInterval=setInterval(C,1e3)}b.properties=["id","name","author","color","premium","sort","imageUrl"],b.set=function(e,t,n,o){if(!e)return!1;if(!e)throw"Invalid icon id (Icon.set)";if(!n)throw"Invalid bookmark_id (Icon.set)";var r=["color","name","sort","id","premium","imageUrl"];for(var a in t)-1==r.indexOf(a)&&delete t[a];if(!window.db.tableExists(n))throw"Table "+n+" doesn't exists (Icon.set)";if(!Object.keys(t).length)throw t;var c=i.j();window.db.update("list",{bookmark_id:n},function(e){return e.updated=c,e}),window.db.update(n,{id:e},function(e){for(var i in t)e[i]=t[i];return t={},b.properties.forEach(function(n){t[n]=e[n]}),t.bookmark_id=n,t.updated=c,o||k.emit("put_icon",t),e}),window.db.commit()},b.refreshSVG=function(e){var t=Object(i.a)(".collection[data-bookmark='"+e.bookmark_id+"'] .icon--item[data-id='"+e.original+"']");t.dataset.color=e.color;var n=L.imageUrl;t.get("svg,img").outerHTML='<img src="{0}" data-premium="4"></img>'.format(n),"XXXXXX"!=t.dataset.color?(q.getSVGCode({id:e.original,bookmark:e.bookmark_id,src:n,premium:4,color:e.color}),b.set(e.original,{id:e.original,color:e.color},e.bookmark_id,!0),t.dataset.id=e.original):(q.getSVGCode({id:e.id,bookmark:e.bookmark_id,src:n,premium:4,color:e.color}),b.set(e.original,{id:e.id,premium:4,color:e.color},e.bookmark_id,!0),t.dataset.id=e.id),C()},b.toggle=function(e){C();var t,n,o,i=document.querySelectorAll(".icons .icon--item[data-id='"+e+"']:not(.collectionIcon)");i.length&&[].forEach.call(i,function(e){e.classList.toggle("selected"),t=e.get(".overlay .add-remove"),n=["add","remove"],o=e.get(".tooltip .content span"),e.classList.contains("selected")&&n.reverse(),t.classList[n[0]]("icon--addcollection"),t.classList[n[1]]("icon--removecollection"),"remove"===n[0]&&(o.textContent="Remove from collection"),"add"===n[0]&&(o.textContent="Add to collection")})},b.rename=function(e){var t=(e=e instanceof Element?e:e.currentTarget).value.length?i.p(e.value):e.dataset.original;if(t!=e.dataset.original){var n=parseInt(e.parent(".icon--item").dataset.id,10),o=Object(i.a)(".collection[data-order='0']").dataset.bookmark;b.set(n,{name:t},o),e.dataset.original=t,e.value=t,ga("send","event","Collection","Rename Icon")}},b.cleanSvgIcon=function(e){var t=document.createElement("div");t.innerHTML=e;for(var n=t.getElementsByTagName("*"),o=-1,i=n.length;++o<i;)void 0===n[o]&&n[o].hasAttribute("fill")&&"none"==n[o].getAttribute("fill")&&(!n[o].hasAttribute("stroke")||n[o].hasAttribute("stroke")&&"none"==n[o].getAttribute("stroke"))&&n[o].parentNode.removeChild(n[o]);return t.innerHTML},b.equal_colors=function(e){if(!Array.isArray(e)||1==e.length||0==e.length)return null;for(var t=0;t<e.length;t++)if(t>0&&e[t]!=e[t-1])return e;return null},b.checkSvgColor=function(e){var t=e.match(/#(?:[a-f\d]{3}){1,2}\b|rgb\((?:(?:\s*0*(?:25[0-5]|2[0-4]\d|1?\d?\d)\s*,){2}\s*0*(?:25[0-5]|2[0-4]\d|1?\d?\d)|\s*0*(?:100(?:\.0+)?|\d?\d(?:\.\d+)?)%(?:\s*,\s*0*(?:100(?:\.0+)?|\d?\d(?:\.\d+)?)%){2})\s*\)|hsl\(\s*0*(?:360|3[0-5]\d|[12]?\d?\d)\s*(?:,\s*0*(?:100(?:\.0+)?|\d?\d(?:\.\d+)?)%\s*){2}\)|(?:rgba\((?:(?:\s*0*(?:25[0-5]|2[0-4]\d|1?\d?\d)\s*,){3}|(?:\s*0*(?:100(?:\.0+)?|\d?\d(?:\.\d+)?)%\s*,){3})|hsla\(\s*0*(?:360|3[0-5]\d|[12]?\d?\d)\s*(?:,\s*0*(?:100(?:\.0+)?|\d?\d(?:\.\d+)?)%\s*){2},)\s*0*(?:1|0(?:\.\d+)?)\s*\)/gi);return null!=(t=b.equal_colors(t))?1:0},b.checkXmlFormat=function(e){var t=new DOMParser;try{var n=t.parseFromString(e,"text/xml")}catch(e){return!1}return"svg"==(/script/i.test(e)?"ERROR while parsing":"parsererror"==n.documentElement.nodeName?"error while parsing":n.documentElement.nodeName)},b.checkUploadSvg=function(e){var t=new FileReader,n=sanitize_filename(e.name),o=new File([e],n,{type:e.type});if(e.size>15e4)return ga("send","event","Collection","Upload Icon","Error: Exceeded size."),i.d.danger("ERROR",messages.limit.max_size+" (Max. 150Kb.)",!1),!1;t.filename=n,t.filetype=e.type,t.file=o,t.onloadend=function(e){var t=0;window.webkitURL||window.URL||window;if("image/svg+xml"!=e.target.filetype)return ga("send","event","Collection","Upload Icon","Error: File not SVG"),void i.d.danger("ERROR",messages.collection.only_svg,!1);if(!b.checkXmlFormat(e.target.result))return ga("send","event","Collection","Upload Icon","Error: Malformed SVG"),i.d.danger("ERROR",messages.collection.svg_incorrect,!1),!1;t=b.checkSvgColor(e.target.result),e.target.filetype;var n=k.getActive(),o=window.db.query(n.bookmark_id).length+1;k.upload_icon(this.file,t,o)},t.readAsText(e),delete window.reader},b.moveDragStart=function(e){var t=e.originalEvent.dataTransfer;t.effectAllowed="move",t.dropEffect="move",q.dragged_icon="LI"==e.target.nodeName?e.target:e.target.closest("li.icon--item"),q.dragged_icon.classList.add("dragHover"),q.dragged_position=parseInt(q.dragged_icon.dataset.sort,10)},b.moveDragEnter=function(e){var t,n="LI"==e.target.nodeName?e.target:e.target.parentNode.parentNode;if(n.dataset.id==q.dragged_icon.dataset.id)return!1;t=q.dragged_icon.dataset.sort==n.dataset.sort+1?e.currentTarget:q.dragged_icon.dataset.sort<=n.dataset.sort?e.currentTarget:e.currentTarget.nextElementSibling,q.moveIcon(q.dragged_icon,t),q.scroll(e.clientX,e.clientY)},b.moveDragLeave=function(e){},b.moveDragEnd=function(e){e.preventDefault(),e.stopPropagation(),b.moveDrop(e)},b.moveDrop=function(e){e.preventDefault();var t=k.getActive(),n=document.querySelector('.collection[data-bookmark="'+t.bookmark_id+'"]');if(q.reorderIcons(n,!1),q.dragged_icon.classList.contains("dragHover")){q.dragged_icon.classList.remove("dragHover");var o=parseInt(q.dragged_icon.dataset.id,10),i=parseInt(n.querySelector('li[data-id="'+o+'"]').dataset.sort,10);b.updateReorder(t.bookmark_id,o,q.dragged_position,i)}},b.updateReorder=function(e,t,n,o){k.emit("reorder_item",{bookmark_id:e,icon_id:t,old_order:n,new_order:o})},k.fetch=function(e){if(!0===e){var t=!1,n=document.getElementById("btn-fetch-collection");return!!n&&(Array.isArray(collection_icons)&&(collection_icons.every(function(e){return 0!=e.premium})&&(t=!0),k.limit.collections&&window.db.rowCount("list")>=k.limit.collections&&(t=!0)),void(n.disabled=t))}if("undefined"==typeof collection_icons)return!1;if(!Array.isArray(collection_icons)||(window.FeatureFlag.isEnabled("user_oauth")?!window.UserSession.userInfo.logged:!gr.auth.logged)||k.limit.collections&&window.db.rowCount("list")>=k.limit.collections)return console.warn("No se puede realizar fetch",!Array.isArray(collection_icons),window.FeatureFlag.isEnabled("user_oauth")?!window.UserSession.userInfo.logged:!gr.auth.logged,k.limit.collections&&window.db.rowCount("list")>=k.limit.collections),!1;var o={personal:!1,premium:!1},r={color:"000000"};r.name=document.getElementsByTagName("h1")[0].textContent,r.source="fetch",r.icons=collection_icons.filter(function(e){return 4==e.premium&&e.author!=(window.FeatureFlag.isEnabled("user_oauth")?window.UserSession.userInfo.session.id:gr.auth.me.id)?(o.personal=!0,!1):!(1==e.premium&&(window.FeatureFlag.isEnabled("user_oauth")?!window.UserSession.userInfo.session.premium:!gr.auth.me.premium))||(o.premium=!0,!1)}),o.premium&&i.d.warning("Ooops!",messages.collection.fetch_premium),o.personal&&i.d.warning("Ooops!",messages.collection.fetch_personal),new k(r,!1,!0)},k.init=function(){if(window.db)return;k.limit={};var e={icons:{value:10},collections:{value:1}};if(window.FeatureFlag.isEnabled("user_oauth")?window.UserSession.userInfo.logged:gr.auth.logged){var t=Object(i.a)(".dropdown-upgrade.register");document.querySelector(".collections-holder")&&(document.querySelector(".collections-holder").classList.add("logged"),e={icons:{value:256},collections:{value:3}})}else t=Object(i.a)(".dropdown-upgrade.upgrade");t&&t.parentNode.removeChild(t),(window.FeatureFlag.isEnabled("user_oauth")?window.UserSession.userInfo.session.premium:gr.auth.me.premium)&&(e.collections.value=0),Object.defineProperties(k.limit,e),Object.freeze(k);var n=(window.FeatureFlag.isEnabled("user_oauth")?window.UserSession.userInfo.session.id:gr.auth.me.id)||0;window.db=new localStorageDB(n);if(window.db.tableExists("list")?window.db.columnExists("list","status")||window.db.alterTable("list","status",1):(window.db.createTable("list",["name","bookmark_id","created","updated","active","source","order","color","status"]),!0),window.db.queryAll("list").forEach(function(e){window.db.columnExists(e.bookmark_id,"premium")||window.db.alterTable(e.bookmark_id,"premium",0),window.db.columnExists(e.bookmark_id,"sort")||window.db.alterTable(e.bookmark_id,"sort",0)}),window.db.tableExists("tour_demo_collection")&&(window.db.dropTable("tour_demo_collection"),window.db.deleteRows("list",{bookmark_id:"tour_demo_collection"})),window.db.commit(),localStorage.getItem("widget_state_user")!=(window.FeatureFlag.isEnabled("user_oauth")?window.UserSession.userInfo.session.id:gr.auth.me.id)&&null!==Object(i.a)("#collections-holder")&&(Object(i.a)("#collections-holder").innerHTML=""),null!==document.getElementById("collections-holder")&&document.getElementById("collections-holder").childElementCount){q.update(!0)}k.push(),k.fetch(!0)},k.pull=function(){k.emit("pull")},k.openEditMode=function(){k._toggleEditMode("add")},k.closeEditMode=function(){k._toggleEditMode("remove")},k._toggleEditMode=function(e){var t=Object(i.a)('.collection[data-order="0"]');t.get(".collection-content").classList[e]("edit-mode"),t.get(".header-sort").classList[e]("hidden"),t.get(".header-edit").classList[e]("visible"),t.get(".download-wrapper").classList[e]("hidden"),S()},k.openSortMode=function(){ga("send","event","Collection","Sort"),k._toggleSortMode("add"),k.FirstIconOrder("add"),document.querySelectorAll("li.icon-upload").forEach(function(e){e.dataset.tooltip=messages.collection.upload_disabled})},k.closeSortMode=function(){k._toggleSortMode("remove"),k.FirstIconOrder("remove"),document.querySelectorAll("li.icon-upload").forEach(function(e){e.dataset.tooltip=messages.collection.upload_enabled})},k._toggleSortMode=function(e){var t=Object(i.a)('.collection[data-order="0"]');t.get(".collection-content").classList[e]("sort-mode"),t.get(".header-sort").classList[e]("visible"),S()},k.toggleShareLayer=function(e){Object(i.a)('.collection[data-order="0"]').get(".collection-share").classList.toggle("visible"),S()},k.toggleBackupLayer=function(e){Object(i.a)('.collection[data-order="0"]').get(".collection-backup").classList.toggle("visible"),S()},k.merge=function(){var e=new localStorageDB(0);e.queryAll("list").forEach(function(t){if(t.icons=e.queryAll(t.bookmark_id),t.icons.length){var n=i.j();t.created||(t.created=n),t.updated||(t.updated=n),new k(t,!1,!0,!0)}}),e.drop()},k.set_id=function(e){window.db.renameTable(e.old_id,e.bookmark_id),window.db.update("list",{bookmark_id:e.old_id},function(t){return t.bookmark_id=e.bookmark_id,t.source="local",t}),window.db.commit(),window.db.rowCount(e.bookmark_id)&&(window.db.update(e.bookmark_id,function(e){return!0},function(t){return t.bookmark_id=e.bookmark_id,t}),window.db.commit()),q.limitsCollection(e.bookmark_id);var t=Object(i.a)(".collection[data-bookmark='"+e.old_id+"']");t&&(t.dataset.bookmark=e.bookmark_id);var n=t.querySelector(".header-options button.flaticon-bin");n&&(n.dataset.bookmark=e.bookmark_id);var o=t.querySelector(".collection-share input");if(o){var r=o.value.split("/");r.pop(),r.push(e.bookmark_id),o.value=r.join("/")}var a=Object(i.a)(".box[data-bookmark='"+e.old_id+"']");a&&(a.dataset.bookmark=e.bookmark_id);var c=Object(i.a)(".max-collections__item[data-bookmark='"+e.old_id+"']");c&&c.setAttribute("data-bookmark",e.bookmark_id)},k.emit=function(e,t,n=null){if("tour_demo_collection"!=(t=t instanceof Object?t:{}).bookmark_id)if("put_icon"===e){var o=BASE_URL+"collections/"+e,i=(new Date).getTime();if(t.o=ACCOUNTS_API_KEY,t.kfc=i,void 0===o)return gr.log("[ERROR] REQUEST URL no definida");"/"!=o.substr(0,1)&&"http"!=o.substr(0,4)&&(o=ACCOUNTS_URL+"request/"+o),o+="?o="+ACCOUNTS_API_KEY,o+="&kfc="+i,t=JSON.stringify(t),Object(p.a)(o,{method:"POST",headers:{"Content-Type":"application/json"},data:t}).then(e=>{L=e.data,n&&n()})}else if("push"===e){o=BASE_URL+"collections/"+e,i=(new Date).getTime();if(t.o=ACCOUNTS_API_KEY,t.kfc=i,void 0===o)return gr.log("[ERROR] REQUEST URL no definida");"/"!=o.substr(0,1)&&"http"!=o.substr(0,4)&&(o=ACCOUNTS_URL+"request/"+o),o+="?o="+ACCOUNTS_API_KEY,o+="&kfc="+i,t=JSON.stringify(t),Object(p.a)(o,{method:"POST",headers:{"Content-Type":"application/json"},data:t}).then(e=>{n&&n(e.data.bookmarks),E(e.data),q.update()})}else{if(window.FeatureFlag.isEnabled("user_oauth")){o=BASE_URL+"collections/"+e,i=(new Date).getTime();if(t.o=ACCOUNTS_API_KEY,t.kfc=i,void 0===o)return gr.log("[ERROR] REQUEST URL no definida");"/"!=o.substr(0,1)&&"http"!=o.substr(0,4)&&(o=ACCOUNTS_URL+"request/"+o),o+="?o="+ACCOUNTS_API_KEY,o+="&kfc="+i,t=JSON.stringify(t),Object(p.a)(o,{method:"POST",headers:{"Content-Type":"application/json"},data:t}).then(e=>{e.data&&E(e.data),q.update()})}else gr.request.post("/collections/"+e,t);n&&"create"==e&&n(t.bookmark_id)}},k.limitReached=function(){var e=Object(i.a)(".max-collections__holder"),t=Handlebars.tag("collection-limit-box"),n=window.db.queryAll("list",{query:{status:1}});(k.limit.collections?n.length-k.limit.collections:0)<1||(Object(i.a)("#max-collections").classList.add("visible"),e.innerHTML="",n.forEach(function(n){n.icons=window.db.queryAll(n.bookmark_id,{limit:10,sort:[["created","DESC"]]}),n.count=window.db.rowCount(n.bookmark_id),e.insertAdjacentHTML("beforeend",t(n))}),document.querySelector(".max-collections__second-step p strong").innerHTML="<strong>"+n.length+"</strong>")},k.set=function(e,t){var n=Object(i.a)(".collection[data-bookmark='"+e+"']"),o=t.force,r=t.old_color;for(var a in t)-1==["name","bookmark_id","source","color"].indexOf(a)&&delete t[a];Object.keys(t).length&&(t.updated=i.j(),window.db.update("list",{bookmark_id:e},function(i){"name"in t&&(n.get(".collection-name").innerHTML=t.name),"bookmark_id"in t&&(n.dataset.bookmark=t.bookmark_id);var a={bookmark_id:e,force:o,old_color:r};for(var c in t)i[c]=t[c],a[c]=t[c];return k.emit("set",a),i}),window.db.commit())},k.editName=function(){var e=Object(i.a)(".collections [data-order='0'] .collection-header .edit-name");e.classList.add("active"),e.get("input").select()},k.list=function(){var e=Object(i.a)("#collections-holder");if([].forEach.call(document.find("#collections .collection"),function(e){0==e.getAttribute("data-order")&&e.classList.contains("expanded")?(e.classList.remove("expanded"),ga("send","event","Collection","List","Hide")):(0==e.getAttribute("data-order")&&e.classList.add("expanded"),ga("send","event","Collection","List","Show"))}),e.classList.toggle("overflow"),e.classList.toggle("scrollable"),e.matches(".scrollable"))for(const t of e.children)if(t.matches(".locked")){const t=document.createElement("div");t.innerHTML=`\n                    <div class="collection-locked">\n                        <div class="collection-locked-box">\n                            <i class="icon icon--exclamation"></i>\n                        </div>\n                        <div class="collection-locked-box">\n                            <p class="collection-locked-box--title mg-none">${messages.collection.locked_title}</p>\n                            <p class="collection-locked-box--text mg-none">${messages.collection.locked_text}</p>\n                            <a href="${messages.collection.locked_url}" class="bj-button bj-button--sm bj-button--yellow track" data-track-arguments="all, event, collection, go-to-premium, collection-locked">${messages.collection.locked_button}</a>\n                        </div>\n                    </div>\n                `,t.classList.add("collection-locked-outside"),e.insertAdjacentElement("afterbegin",t);break}e.matches(".overflow")&&document.querySelector(".collection-locked-outside")&&document.querySelector(".collection-locked-outside").remove()},k.expandCollapse=function(){var e=Object(i.a)("#collections"),t=Object(i.a)("#viewport");e.classList.toggle("expanded"),t.classList.toggle("collections-expanded")},k.setActive=function(e,t){e||(e=k.getActive().bookmark_id);var n=window.db.queryAll("list",{sort:[["order","ASC"]]}),o=[e];if(!t){var r=Object(i.a)("#collections-holder");r&&(r.scrollTop=0,r.classList.add("overflow"),r.classList.remove("scrollable")),r&&r.matches(".overflow")&&document.querySelector(".collection-locked-outside")&&document.querySelector(".collection-locked-outside").remove()}var a=n.length>1?n.length>2?"collection-height-2":"collection-height-1":"";n.forEach(function(n){n.bookmark_id!=e&&o.push(n.bookmark_id);var r=Object(i.a)('.collection[data-bookmark="'+n.bookmark_id+'"]');if(r){if(r.length>1)for(var c=1,l=r.length;c<l.length;c++)r[c].parentNode.removeChild(c);n.order=o.indexOf(n.bookmark_id),r.dataset.order=n.order,n.bookmark_id==e&&(n.active=1,r.classList.remove("collection-height-1","collection-height-2"),t||r.classList.add("expanded"),a.length&&r.classList.add(a)),window.db.update("list",{bookmark_id:n.bookmark_id},function(e){return e.order=n.order,e.active=n.active,e}),window.db.commit()}}),"undefined"!=typeof HistoryCollection&&HistoryCollection.setCollection(),q.limitsCollection(e),q.update(null,t)},q.limitsCollection=function(e){if(!e)return!1;var t=Object(i.a)("#collections-toggle"),n=window.db.rowCount(e),o=Object(i.a)(".collection[data-bookmark='"+e+"']");if(o){var r=o.querySelector(".max-icons-collection");if(n>=k.limit.icons)(window.FeatureFlag.isEnabled("user_oauth")?window.UserSession.userInfo.session.id:gr.auth.me.id)?r&&(r.style.display="block",i.d.danger("Ooop!",messages.limit.collection)):i.d.danger("Ooop!",messages.limit.guest),t.classList.add("limit-reached"),o.classList.add("limit-reached");else{r&&(r.style.display="none");var a=o.querySelector(".icons-collection-noregister");a&&(o.classList.remove("nologged-limit-reached"),o.querySelector(".collection-content").classList.remove("nologged-limit-reached"),a.style.display="none"),t.classList.remove("limit-reached"),o.classList.remove("limit-reached")}}},k.getActive=function(){if(window.db){if(!window.db.rowCount("list"))throw"No collections stored";var e=window.db.queryAll("list",{query:{active:1}});return e=e.length?e[0]:window.db.queryAll("list")[0]}},k.clear=function(e){window.db.truncate(e),q.clear(),k.emit("clear",{bookmark_id:e}),"undefined"!=typeof HistoryCollection&&HistoryCollection.collectionHistoryDelete(e);var t=document.get(".collection[data-order='0'] .collection-header .edit-name input");t&&(t.value=messages.collection.default_name,t.classList.remove("limit-reached"),k.rename()),q.updateToggle(),q.markSelectedIcons(),ga("send","event","Collection","Clear")},k.duplicate=function(){ga("send","event","Collection","Duplicate");var e=k.getActive(),t={},n=i.j(),o=!1;t.name=e.name+" 2",t.status=1,t.color=e.color,t.created=n,t.updated=n,t.source="local",t.icons=window.db.queryAll(e.bookmark_id),t.icons.length&&t.icons.forEach(function(e){4==e.premium&&(o=!0)}),o?this.duplicate_files(t):new k(t,!1,!0)},k.duplicate_files=function(e){var t=new FormData;t.append("collection",JSON.stringify(e)),$.ajax({url:APP_URL+"Collections/duplicate",type:"POST",data:t,cache:!1,processData:!1,contentType:!1,success:function(e){new k(e.data.data,!1,!0)}})},k.del=function(e,t){e instanceof Object&&(t=!0,e=e.id),e||(e=Object(i.a)(".collection[data-order='0']").dataset.bookmark);var n=window.db.queryAll("list",{query:{bookmark_id:e}});if(!n.length)return window.db.tableExists(e)&&window.db.dropTable(e),window.db.commit(),!1;if(n=n[0],1==window.db.rowCount("list")&&"tour_demo_collection"!=n.bookmark_id)return void k.clear(n.bookmark_id);window.db.deleteRows("list",{bookmark_id:n.bookmark_id}),window.db.commit(),window.db.tableExists(n.bookmark_id)&&window.db.dropTable(n.bookmark_id),"undefined"!=typeof HistoryCollection&&HistoryCollection.collectionHistoryDelete(n.bookmark_id),window.db.update("list",function(e){return e.order>n.order},function(e){e.order=parseInt(e.order,10)-1}),window.db.commit();var o=Object(i.a)(".collection[data-bookmark='"+n.bookmark_id+"']");if(!o)return!1;o.parentElement.removeChild(o);let r=k.limit.collections&&window.db.rowCount("list")>=k.limit.collections;document.querySelector("#new_collection_btn").disabled=r,window.db.rowCount("list")||k.new(),t||(k.emit("del",{bookmark_id:n.bookmark_id}),ga("send","event","Collection","Delete")),k.setActive(null,window.db.rowCount("list")>1)},k.new=function(e){if(!(k.limit.collections&&window.db.rowCount("list")>=k.limit.collections)&&(void 0!==e&&e instanceof Object||(e={}),e.name=void 0!==e.name&&e.name.length?e.name:messages.collection.default_name,new k(e),"undefined"!=typeof HistoryCollection&&(HistoryCollection.setCollection(),HistoryCollection.toogleHistoryCursors()),k.getActive())){var t=document.querySelector('section.collection[data-bookmark="'+k.getActive().bookmark_id+'"]');t.querySelector("div.edit-name").classList.add("active"),t.querySelector("div.edit-name input.collection-name-input").select()}},k.push=function(e){var t=e&&"number"==typeof e?{query:{bookmark_id:e}}:{sort:[["order","DESC"]]},n=window.db.queryAll("list",t);n.forEach(function(e){["ID"].forEach(function(t){delete e[t]}),e.icons=window.db.queryAll(e.bookmark_id,{sort:[["sort","DESC"]]})});k.emit("push",{data:n},function(e){let t=null;void 0!==e&&(window.db.showTables().length>0&&(window.db.showTables().forEach(e=>{window.db.dropTable(e)}),window.db.createTable("list",["name","bookmark_id","created","updated","active","source","order","color","status"]),window.db.commit()),e.forEach(function(e){let n=e.data.icons;n&&n.length>0?window.db.tableExists(e.data.bookmark_id)||(window.db.createTableWithData(e.data.bookmark_id,n),window.db.insertOrUpdate("list",{bookmark_id:e.data.bookmark_id},e.data),window.db.commit()):(window.db.tableExists(e.data.bookmark_id)||(null===t&&window.db.rowCount("list")&&(t=k.getActive().bookmark_id),window.db.createTable(e.data.bookmark_id,b.properties)),window.db.insertOrUpdate("list",{bookmark_id:e.data.bookmark_id},e.data),window.db.columnExists(e.data.bookmark_id,"imageUrl")||window.db.alterTable(e.data.bookmark_id,"imageUrl",""),window.db.commit())})),t&&k.setActive(t)})},k.enqueue=function(e){var t=Object.keys(e);if(t.length>1){!0;var n=0;for(var o in e)if(++n,"function"==typeof window[e[o].namespace][e[o].callback]){if(e[o].data)try{e[o].data.prevent=n!=t.length}catch(i){e[o].prevent=n!=t.length}window[e[o].namespace][e[o].callback](e[o].data)}}localStorage.getItem("fi_0")&&(!0,k.merge())},k.load=function(e){if(!Array.isArray(e)&&"object"==typeof e)e=Object.keys(e).map(function(t){return e[t]});e.forEach(function(e){if(Object(i.a)(".collection[data-bookmark='"+e.bookmark_id+"']"))return!1;e.source="remote",window.db.tableExists(e.bookmark_id)&&window.db.dropTable(e.bookmark_id),e.icons.length?window.db.createTableWithData(e.bookmark_id,e.icons):window.db.createTable(e.bookmark_id,b.properties),window.db.insertOrUpdate("list",{bookmark_id:e.bookmark_id},e)}),window.firstColorChange=!0},k.rename=function(e){e||(e=Object(i.a)(".collection[data-order='0'] .collection-header .edit-name input"));var t=e.parent(".collection"),n=t.get(".collection-header .edit-name"),o=(o=n.get("input").value).length?o:messages.collection.default_name;n.classList.remove("active"),e.dataset.original!=o&&(t.get(".collection-name").innerHTML=o,e.dataset.original=o,k.set(t.dataset.bookmark,{name:o}),ga("send","event","Collection","Rename"))},k.getCollectionData=function(e){var t=window.db.queryAll("list",{query:{bookmark_id:e}});if(t.length&&((t=t[0]).icons=window.db.queryAll(e).map(function(e){return{id:e.id,team:e.author,name:e.name,color:"#"+e.color,premium:e.premium,sort:e.sort}}),t.icons.length))return t},k.download=function(e,t,n){var o=document.querySelector('.collection[data-bookmark="'+e+'"]');q.reorderIcons(o,!1);var c=k.getCollectionData(e);"iconfont"==t&&window.db.queryAll(e,{query:{color:"XXXXXX"}}).length&&i.d.warning(messages.collection.aware,messages.collection.iconfont_colors),window.db.queryAll(e,{query:{premium:4}}).length&&i.d.warning(messages.collection.aware,messages.collection.download_personal),n=n||512;let l=`${FLATICON_DOWNLOAD_URL}download-collection`;$('[name="download-collection-form"].active-form').attr("action",l),document.querySelector('.active-form [name="downC_format"]').value=t||"font",document.querySelector('.active-form [name="downC_size"]').value=n||512,document.querySelector('.active-form [name="downC_user_id"]').value=(window.FeatureFlag.isEnabled("user_oauth")?window.UserSession.userInfo.session.id:gr.auth.me.id)||0,document.querySelector('.active-form [name="downC_bookmark_id"]').value=c.bookmark_id,document.querySelector('.active-form [name="downC_bookmark_name"]').value=c.name,document.querySelector('.active-form [name="downC_icons"]').value=JSON.stringify(c.icons),document.querySelector('.active-form [name="downC_backup"]').value=JSON.stringify(c),Object(i.a)(".modal-collection .collection_name").innerHTML=c.name,a.update_download_counter(3e3),q.downloading(),(window.FeatureFlag.isEnabled("user_oauth")?window.UserSession.userInfo.session.premium:gr.auth.me.premium)?f.e.Essentials&&f.e.Essentials.prechurnInfo.unpaid?(document.querySelector("#collections").classList.remove("loading"),f.e.Essentials.handleDownloadClick()):$('[name="download-collection-form"].active-form').trigger("submit"):r.check_modal_download("collection",null),EventTracker.send("all","event","download","collection",t.toUpperCase(),{metric2:c.icons.length})},k.downloadBackup=function(e){e.preventDefault();var t=k.getCollectionData(k.getActive().bookmark_id),n={ID:t.ID,active:t.active,bookmark_id:t.bookmark_id,color:t.color,created:t.created,name:t.name,order:t.order,source:t.source,status:t.status,updated:t.updated},o=(t.ID,t.bookmark_id,{colId:n,colBookmarkId:t.icons}),i=encodeURIComponent(btoa(JSON.stringify(o))),r=t.name.split(" ").join("_")+"_backup.txt";if(window.navigator.msSaveOrOpenBlob&&window.Blob){var a=new Blob([i],{type:"text/plain"});navigator.msSaveOrOpenBlob(a,r)}else{var c=document.createElement("a");c.setAttribute("download",r),c.setAttribute("href","data:text/plain;charset=utf-8,"+i),c.style.display="none",document.body.appendChild(c),c.click(),document.body.removeChild(c),document.querySelector("div.collection-backup.visible").classList.remove("visible")}},k.ninja=function(e){q.delIcon(e.icon),i.d.danger("Ninja!",e.message)},k.share=function(e,t){share.popup({network:e,url:t})},k.upload_icon=function(e,t,n,o,i,r,a){if(!e)return!1;var c=e.id;null==e.id&&(c=Date.now().toString());var l=new FormData;l.append("iconCollection",e),l.append("isColor",t),l.append("sort",n),l.append("bookmark_id",k.getActive().bookmark_id),l.append("iconId",c),l.append("update",!0===a),void 0!==r&&l.append("name",r),void 0!==i&&l.append("color",i),void 0!==o&&l.append("id",o),$.ajax({url:FLATICON_UPLOAD_ICONS_URL+"Collections/upload_icon",type:"POST",data:l,cache:!1,processData:!1,contentType:!1,xhrFields:{withCredentials:!0},success:function(e){ga("send","event","Collection","Upload Icon","No Error"),E(e.data)}})},k.delete_files=function(e){if(window.FeatureFlag.isEnabled("user_oauth")?!window.UserSession.userInfo.session.id:!gr.auth.me.id)return!1;var t=new FormData;t.append("icons",JSON.stringify(e)),$.ajax({url:APP_URL+"Collections/delete_files",type:"POST",data:t,cache:!1,processData:!1,contentType:!1,success:function(e){}})},k.dragOver=function(e){if(e.preventDefault(),"IE"==i.g())return!1;if(document.querySelectorAll(".collection .sort-mode, .collections .edit-mode").length)return!1;var t=k.getActive();document.querySelector('.collection[data-bookmark="'+t.bookmark_id+'"] .overlay-drop').style.display="block"},k.dragEnd=function(e){if(e.preventDefault(),"IE"==i.g())return!1;if(document.querySelectorAll(".collection .sort-mode, .collections .edit-mode").length)return!1;var t=k.getActive();document.querySelector('.collection[data-bookmark="'+t.bookmark_id+'"] .overlay-drop').style.display="none"},k.drop=function(e){if(e.stopPropagation(),e.preventDefault(),"IE"==i.g())return!1;if(document.querySelectorAll(".collection .sort-mode, .collections .edit-mode").length)return!1;var t=k.getActive();if(document.querySelector('.collection[data-bookmark="'+t.bookmark_id+'"] .overlay-drop').style.display="none",document.querySelector(".overlay-drop").classList.remove("show"),!this.checkUploadLimits(e))return!1;e.dataTransfer.dropEffect="copy";var n=e.dataTransfer.files;if(n.length){for(var o=0;o<n.length;o++)n[o].id=Date.now().toString()+o,b.checkUploadSvg(n[o]);document.getElementById("fileCollection-"+t.bookmark_id).value=""}return!1},k.checkUploadLimits=function(e){var t=(window.FeatureFlag.isEnabled("user_oauth")?window.UserSession.userInfo.session.premium:gr.auth.me.premium)?256:3,n=k.getActive(),o=window.db.queryAll(n.bookmark_id,{query:{premium:4}}).length,i=t-((void 0!==e.dataTransfer?e.dataTransfer.files.length:e.target.files.length)+o),r=document.querySelector('.collection[data-bookmark="'+n.bookmark_id+'"]');return(window.FeatureFlag.isEnabled("user_oauth")?window.UserSession.userInfo.session.id:gr.auth.me.id)?!(i<0)||(r.querySelector(".overlay-drop").style.display="block",r.querySelector(".overlay-drop").classList.add("upgrade"),!1):(r.querySelector(".overlay-drop").style.display="block",r.querySelector(".overlay-drop").classList.add("register"),!1)},k.updateReorder=function(e,t){k.emit("reorder",{bookmark_id:e,icons:t})},k.FirstIconOrder=function(e){var t=k.getActive();if("add"==e)document.querySelector('.collection[data-bookmark="'+t.bookmark_id+'"] ul.collection_icons_list .icon-fill').insertAdjacentHTML("beforebegin",'<li class="collectionIcon first-icon" data-id="0" data-sort="0"></li>');else{var n=document.querySelector('.collection[data-bookmark="'+t.bookmark_id+'"] ul.collection_icons_list .first-icon');n&&n.parentNode.removeChild(n)}},k.restore_backup=function(e){q.restoring=!0;for(var t=0,n=0,o=[],r=[],a=window.db.query(k.getActive().bookmark_id),c=a.length-1;c>=0;c--)r.push(a[c].id);for(var l in e)Array.isArray(e[l])&&(o=e[l]);if(window.db.rowCount(k.getActive().bookmark_id)>=k.limit.icons)i.d.danger("Ooops!",messages.limit.collection);else{if(window.db.rowCount(k.getActive().bookmark_id)+o.length>k.limit.icons){var s=k.limit.icons-window.db.rowCount(k.getActive().bookmark_id),u=!0;e:for(l=o.length-1;l>=0;l--){if(!(t<=s)){u=!1;break e}if(!(-1===r.indexOf(o[l].id)&&t<s)){u=!1;break e}t++}u?o.forEach(function(e){e.id<999999999?q.addIcon(e.id,i.p(e.name),null,e.color.replace("#",""),e.premium,e.color.replace("#","")):i.d.warning("Ooops!",messages.collection.fetch_personal)}):i.d.warning("Ooops!",messages.limit.backup_max_size)}else o.forEach(function(e){e.id<999999999?-1===r.indexOf(e.id)?(t++,q.addIcon(e.id,i.p(e.name),null,e.color.replace("#",""),e.premium,e.color.replace("#",""))):n++:i.d.warning("Ooops!",messages.collection.fetch_personal)});if(n!=o.length){var d=messages.collection.success_restore.replace("{0}",t).replace("{1}",o.length);i.d.success("Great!",d)}if(n>0){d=messages.collection.icons_skiped.replace("{0}",n).replace("{1}",o.length);i.d.success("Ooops!",d)}}q.restoring=!1,q.updateButtons(),document.querySelector("div.collection-backup.visible").classList.remove("visible")},q._toggleEditPanel=function(e){return!0===e?($(".edit-icon-content .right .active").removeClass("active"),$(".edit-icon-content .right .download-settings").addClass("active"),void $(".edit-icon-content").removeClass("edit-color").removeClass("edit-settings").addClass("download-settings")):$(".edit-icon-content").hasClass("download-settings")?($(".edit-icon-content").removeClass("download-settings"),$(".edit-icon-content .right .download-settings").removeClass("active"),this.classList.add("active"),$(".edit-icon-content .right ."+this.dataset.panel).addClass("active"),void $(".edit-icon-content").addClass(this.dataset.panel)):void(this.classList.contains("active")?$(".edit-icon-content .right .download-settings").removeClass("active"):($(".edit-icon-content .right .customize").removeClass("active"),$(".edit-icon-content").toggleClass("edit-color").toggleClass("edit-settings"),$(".edit-icon-content .right header button").toggleClass("active"),$(".edit-icon-content .right div:not(.download-settings)").toggleClass("active"),$(".edit-icon-content .right .download-settings").removeClass("active")))},q._openEditModal=function(e,t,n,o){document.querySelector('[data-id="'+t.id+'"]');e?document.querySelector(".only_registered .alert_no_user")&&(document.querySelector(".only_registered .alert_no_user").classList.remove("zoomOut"),(window.FeatureFlag.isEnabled("user_oauth")?window.UserSession.userInfo.session.status:gr.auth.me.status)?document.querySelector(".only_registered").classList.add("hidden"):(document.querySelector(".only_registered").classList.remove("hidden"),document.querySelector(".only_registered .alert_no_user").style="")):(q.reset_widget(),document.body.classList.remove("overflow"),document.querySelectorAll(".icon--item.collectionIcon .edit input[type=radio]:checked").forEach(function(e){e.checked=!1}),window.Editor.close())},q.restoring=!1,q.changeIconColor=function(e,t,n,o,i,r){var a=$(t).parents(".icon--item")[0],c=$(t).parents(".collection")[0];if(a&&([].forEach.call(a.querySelectorAll("path, circle, ellipse, polygon, line, rect, polyline"),function(t){if(t.removeAttribute("style"),t.hasAttribute("fill")&&"none"==t.getAttribute("fill")&&(!t.hasAttribute("stroke")||t.hasAttribute("stroke")&&"none"==t.getAttribute("stroke")))return t.parentNode.removeChild(t),!0;t.hasAttribute("stroke")&&"none"!=t.getAttribute("stroke")?t.setAttribute("stroke","#"+e):t.hasAttribute("fill")&&-1==e.indexOf("#")?t.hasAttribute("fill")&&a.dataset.color&&6==a.dataset.color.length&&"XXXXXX"!=a.dataset.color&&t.setAttribute("fill","#"+e.replace("#","")):t.setAttribute("fill","#"+e.replace("#",""))}),i?a.classList.add("whitebg"):a.classList.remove("whitebg"),q.markSelectedColor(e,a),a.dataset.color!=e&&"XXXXXX"!=a.dataset.color&&"2"!=a.dataset.color&&(a.dataset.color=e,!n))){var l=["icoChangeColor",a.dataset.id,c.dataset.bookmark].join("_");if("tour_demo_collection"==c.dataset.bookmark)return;clearTimeout(window[l]),window[l]=setTimeout(function(){b.set(a.dataset.id,{color:e},c.dataset.bookmark,o),ga("send","event","Collection","Change Icon Color",e,{dimension11:e}),delete window[l]},500)}},q.isLight=function(e){return 299*parseInt(e.substr(0,2),16)+587*parseInt(e.substr(2,2),16)+114*parseInt(e.substr(4,2),16)>=225e3},q.changeCollectionColor=function(e,t){var n,o=Object(i.a)(".collection[data-order='0']"),r=o.dataset.color!=e,a=o.dataset.color;if(r){if(o.dataset.color=e,q.markSelectedColor(e,o),n=o.querySelectorAll('.icon--item:not([data-color="XXXXXX"]) svg')){var c=q.isLight(e);[].forEach.call(n,function(t){q.changeIconColor(e,t,!1,!0,c,!0)})}"tour_demo_collection"!=o.dataset.bookmark&&(clearTimeout(window.changeCollectionColorInterval),window.changeCollectionColorInterval=setTimeout(function(){window.firstColorChange||(k.set(o.dataset.bookmark,{color:e,force:!0,old_color:a}),ga("send","event","Collection","Change Color",e,{dimension11:e})),window.firstColorChange&&delete window.firstColorChange},500))}},q.updateButtons=function(){var e=window.db.queryAll("list",{query:{status:1}}).length;window.db.tableExists("tour_demo_collection")&&e--,e>k.limit.collections&&k.limitReached();var t=k.getActive(),n=window.db.rowCount(t.bookmark_id),o=Object(i.a)(".collection[data-bookmark='"+t.bookmark_id+"']"),r=o.querySelector(".menu-options ul.collection-options");if(r&&(n>0?(r.querySelector(".flaticon-collection_sort").removeAttribute("disabled"),r.querySelector(".flaticon-edit_collection_icons").removeAttribute("disabled"),o.querySelector(".collection-backup-download").classList.remove("disabled")):(r.querySelector(".flaticon-collection_sort").setAttribute("disabled","disabled"),r.querySelector(".flaticon-edit_collection_icons").setAttribute("disabled","disabled"),o.querySelector(".collection-backup-download").classList.add("disabled"))),window.FeatureFlag.isEnabled("user_oauth")?!window.UserSession.userInfo.session.premium:!gr.auth.me.premium){var a=e>=k.limit.collections,c=document.querySelectorAll(".collection-options .flaticon-duplicate");c&&[].forEach.call(c,function(e){e.disabled=a})}(window.FeatureFlag.isEnabled("user_oauth")?window.UserSession.userInfo.logged:gr.auth.logged)||[].forEach.call(document.querySelectorAll(".collection .flaticon-share"),function(e){e.parentNode.dataset.tooltip=messages.collection.share_disabled,e.disabled=!0}),e>1?Object(i.a)("#list_collections_btn").removeAttribute("disabled"):Object(i.a)("#list_collections_btn").setAttribute("disabled","disabled");let l=k.limit.collections&&window.db.queryAll("list").length>=k.limit.collections;document.querySelector("#new_collection_btn").disabled=l,k.fetch(!0)},q.updateToggle=function(){var e=Object(i.a)("#collections-toggle"),t=k.getActive();if(t){var n=window.db.rowCount(t.bookmark_id),o=Object(i.a)(".collection[data-bookmark='"+t.bookmark_id+"']");if(o){(window.FeatureFlag.isEnabled("user_oauth")?window.UserSession.userInfo.logged:gr.auth.logged)||(0==n?o.querySelector(".collection-content .collection-options").classList.add("no-icons"):o.querySelector(".collection-content .collection-options").classList.remove("no-icons")),o.querySelector(".badge.badge-gray").innerHTML=n;var r=window.db.queryAll(t.bookmark_id,{query:{color:"XXXXXX"}}).length==n,a=window.db.queryAll(t.bookmark_id,{query:{premium:4}}).length==n;if(t.status){o.querySelector(".collection-content .download-holder button").disabled=!n;var c=o.querySelector(".collection-options .color_btn_holder");c&&(c.dataset.tooltip=!n||r?messages.collection.color_disabled:messages.filters.color),(s=o.querySelector(".collection-download .download-files .download button[data-format='iconfont']")).disabled=r,s.parentNode.dataset.tooltip=r?messages.collection.iconfont_disabled:messages.collection.iconfont_tooltip;var l=o.querySelector(".collection-download .download-files .download button[data-format='psd']"),s=(o.querySelector(".collection-download .download-files .download button[data-format='eps']"),o.querySelector('.collection-download .download-files .download a[data-format="png"]'),o.querySelector('.collection-download .download-files .download button[data-format="iconfont"]'));l.disabled=a,a?s.classList.add("disabled"):s.classList.remove("disabled")}if(null!==e){var u=e.querySelector(".badge");n?(u.classList.remove("hidden"),document.getElementById("collections-toggle").classList.remove("hide"),u.innerHTML=n):("home"==window.view.section&&document.querySelector("#collections-toggle span.badge").classList.contains("hidden")&&document.querySelector("section#hero")&&!document.querySelector("#header").classList.contains("fixed")?document.getElementById("collections-toggle").classList.add("hide"):"home"==window.view.section&&document.querySelector("#collections-toggle span.badge").classList.contains("hidden")&&!document.querySelector("section#hero")&&document.getElementById("collections-toggle").classList.remove("hide"),u.innerHTML=0),u.classList.add("animate");var d=setTimeout(function(){clearTimeout(d),u.classList.remove("animate"),q.updateIconsColorSvg(),e.classList.remove("loading"),Object(i.a)("#collections").classList.remove("loading")},500)}var m=document.querySelector(".empty-collection-gtm");null!==m&&m.remove(),window.db.rowCount(t.bookmark_id)||q.clear()}q.updateColoringCollectionButton(r,t.bookmark_id)}},q.updateColoringCollectionButton=function(e,t){if(!document.querySelector('section[data-bookmark="'+t+'"] .toggle-paint'))return!1;e?document.querySelector('section[data-bookmark="'+t+'"] .toggle-paint').setAttribute("disabled",!0):document.querySelector('section[data-bookmark="'+t+'"] .toggle-paint').removeAttribute("disabled")},q.renderIcons=function(e,t){if(window.loading_svg){if(window.loading_svg.hasOwnProperty(t.dataset.bookmark))return!1}else window.loading_svg={},window.loading_svg[t.dataset.bookmark]=!0;Object(i.a)("#collections-toggle")&&Object(i.a)("#collections-toggle").classList.add("loading");var n=t.get(".icons");if(!(n.childElementCount>1)){var o=!1,r=!1,a=[],c=!1;if(e.forEach(function(i){var l=t.get('.icons .collectionIcon[data-id="'+i.id+'"]');if(i.sort<=e.length&&0!=i.sort&&null!=i.sort&&-1==a.indexOf(parseInt(i.sort,10))?a.push(parseInt(i.sort,10)):c=!0,!l){o||(o=Handlebars.tag("collection-icon"),i.bookmark_id=t.dataset.bookmark),r=!0,4!=i.premium&&(i.not_personal=!0),n.querySelector(".icon-upload").insertAdjacentHTML("afterend",o(i));let e=document.querySelector('.icons .collectionIcon[data-id="'+i.id+'"]');e.dataset.src=i.imageUrl,e.querySelector("img")&&(e.querySelector("img").src=i.imageUrl)}}),c&&q.reorderIcons(t,!0),e.length){for(var l="",s=30;--s;)l+='<li class="icon-fill icon--item"></li>';n.insertAdjacentHTML("beforeend",l)}r&&[].forEach.call(Object(i.a)(".collectionIconImage"),function(e){q.renderSVG(e)});var u=e.length;t.status&&(t.get("button.collection_color_button").disabled=!u,t.get("button.flaticon-edit_collection_icons").disabled=!u,t.get(".badge.badge-gray").innerHTML=u,t.classList.toggle("limit-reached",u>=k.limit.icons)),q.markSelectedColor(t.color,t)}},q.renderCollection=function(e){var t=window.db.rowCount("list"),n=Object(i.a)(".collection[data-bookmark='"+e.bookmark_id+"']");if(!n){var o=Handlebars.tag("collection");document.getElementById("collections-holder").insertAdjacentHTML("beforeend",o(e)),n=Object(i.a)(".collection[data-bookmark='"+e.bookmark_id+"']")}if(e.order)n.classList.remove("expanded","collection-height-2","collection-height-1");else{var r=t>1?t.length>2?"collection-height-2":"collection-height-1":"";r.length&&n.classList.add(r),n.classList.add("expanded"),e.icons.length&&q.renderIcons(e.icons,n)}n.get(".badge.badge-gray").innerHTML=e.icons.length},q.updateIconsColorSvg=function(){(function(e){return Array.prototype.slice.call(document.querySelectorAll(e))})('.icon--item.collectionIcon:not([data-color="XXXXXX"])').forEach(function(e){var t=q.isLight(e.dataset.color),n=e.getElementsByTagName("svg");q.changeIconColor(e.dataset.color,n,!1,!0,t,!0)})},q.update=function(e,t){if(null!==document.querySelector(".collection-section-header .collections-number")){var n=window.db.rowCount("list");if(!n)return void k.new();Object(i.a)(".collection-section-header .collections-number").innerHTML=n;var o=["-webkit-box-ordinal-group","-moz-box-ordinal-group","box-ordinal-group","-webkit-order","-moz-order","order","-ms-flex-order",""];window.db.queryAll("list",{sort:[["order","ASC"]]}).forEach(function(n,r,a){!e&&(n.order!=r||r&&n.active)&&(window.db.update("list",{bookmark_id:n.bookmark_id},function(e){return e.order=r,e.active=r?0:1,e}),window.db.commit(),n.order=r);var c=Object(i.a)(".collection[data-bookmark='"+n.bookmark_id+"']");if(n.icons=window.db.queryAll(n.bookmark_id,{sort:[["sort","ASC"]]}),c||(window.firstColorChange=!0,q.renderCollection(n),c=Object(i.a)(".collection[data-bookmark='"+n.bookmark_id+"']")),(c=Object(i.a)(".collection[data-bookmark='"+n.bookmark_id+"']")).style.cssText=o.join(":"+r+";"),c.dataset.order=r,r)c.classList.remove("expanded");else{var l=a.length>1?a.length>2?"collection-height-2":"collection-height-1":"collection-height";t||c.classList.add("expanded"),l.length&&c.classList.contains(l)&&c.classList.add(l),n.icons.length&&q.renderIcons(n.icons,c)}}),window.launching=null,q.markSelectedIcons(),q.updateToggle(),q.updateButtons()}},q.setLimits=function(e){if(!e)return!1;var t=Object(i.a)(".collection[data-bookmark='"+e.bookmark_id+"']");t.get(".max-icons-collection").style.display="none",t.get(".icons-collection-noregister").style.display="none",e.icons.length&&t.querySelector(".flaticon-edit_collection_icons").removeAttribute("disabled"),e.icons.length>=k.limit.icons?(window.FeatureFlag.isEnabled("user_oauth")?window.UserSession.userInfo.session.id:gr.auth.me.id)?(window.FeatureFlag.isEnabled("user_oauth")?window.UserSession.userInfo.session.premium:gr.auth.me.premium)?t.classList.add("limit-reached"):(t.get(".max-icons-collection").style.display="block",i.d.danger("Ooop!",messages.limit.registered)):(t.get(".icons-collection-noregister").style.display="block",i.d.danger("Ooop!",messages.limit.guest)):t.classList.remove("limit-reached")},q.markSelectedColor=function(e,t){var n=t.classList.contains("icon")?".color-selector button":".collection-options .color-selector button",o=t.find(n);o&&[].forEach.call(o,function(t){t.dataset.color==e?t.classList.add("selected"):t.classList.remove("selected")})},q.show=function(){Object(i.a)("#collections").classList.add("visible"),Object(i.a)("#viewport").classList.add("collections-visible"),localStorage.widget_active=1},q.toggle=function(){var e=Object(i.a)("#collections"),t=Number(e.classList.toggle("visible")),n=t?"add":"remove";Object(i.a)("#viewport").classList[n]("collections-visible"),a.checkHybriDevices(),e.classList[n]("visible"),localStorage.widget_active=t;var o=document.createEvent("HTMLEvents");o.initEvent("resize",!0,!1),document.dispatchEvent(o),ga("send","event","Collection","Toggle",t?"Show":"Hide")},q.createIconsCPicker=function(e,t){if(e instanceof Element)var n=e.parent(".collectionIcon").get(".icon-cpicker"),o=$(n);else o=$(void 0!==e?".collection[data-bookmark='"+t+"'] .icon[data-id='"+e+"'] .icon-cpicker":".collection .icon--item .icon-cpicker");o.each(function(){var e=this.parent(".icon--item").dataset.color.toUpperCase(),t=$(this);t.data().hasOwnProperty("colpickId")||(this.innerHTML="",t.colpick({flat:!0,layout:"hex",submit:0,color:e,onChange:function(e,t,n,o){q.changeIconColor(t.toUpperCase(),o,!1,!1,q.isLight(t))}})),q.changeIconColor(e,this,!0,!0,q.isLight(e))})},q.createCollectionCPicker=function(){var e;$(".collection[data-order='0'] .col-cpicker").each(function(){e=this.parent(".collection").dataset.color.toUpperCase();var t=$(this);if(!t.data().hasOwnProperty("colpickId")){this.innerHTML="",window.firstColorChange=!0;t.colpick({flat:!0,layout:"hex",submit:0,color:e,onChange:function(e,t,n,o){q.changeCollectionColor(t.toUpperCase(),o)}}),t.colpickSetColor(e),delete window.firstColorChange}})},q.markSelectedIcons=function(e){if(!e){var t=k.getActive();if(!t)return;e=t.bookmark_id}var n=Object(i.a)(".viewport .icon--item:not(.collectionIcon):not(.icon-upload):not(.icon-fill)");n&&[].slice.call(n).forEach(function(e){e.classList.remove("selected");var t=e.get(".overlay .add-remove");null!==t&&(t.classList.add("icon--addcollection"),t.classList.remove("icon--removecollection"))}),window.db.queryAll(e).forEach(function(e){b.toggle(e.id)})},q.addIcon=function(e,t,n,o,a,c,s){if(void 0===e)return!1;if(!parseInt(e)&&!parseInt(e.id))return!1;const u=window.location.search,d=new URLSearchParams(u);if((null!==d.get("word")||null!==d.get("term"))&&Object(r.track_add_collection)(window.location.search,e,a),1==(a=1==e.premium?1:parseInt(a,10))&&(window.FeatureFlag.isEnabled("user_oauth")?!window.UserSession.userInfo.session.premium:!gr.auth.me.premium)){let t=s,n=document.querySelector(".detail__icon__holder img");n&&(n=n.getAttribute("src")),l.a.callFunnelPremium(e);let o=document.querySelector("#modal-funnel-premium-add-icon"),i=new Image;o.querySelector(".row .img img")&&(i=o.querySelector(".row .img img"));let r=o.querySelector(".row .img");i.src=t||n,r.insertAdjacentElement("beforeend",i),modal.show(o.id),o.querySelector(".modal__container").classList.add("slide-in"),document.querySelector("#viewport").style.filter="none";let a=document.querySelector("body");return a.classList.contains("unscrollable")||(a.style.overflow="visible"),!1}if(!(v=k.getActive()).status){let e=document.querySelectorAll(".collection-locked-inside");for(const t of e){let e=t.closest(".collection");if(v.bookmark_id==e.dataset.bookmark){t.style.display="block";break}}return!1}var m=Object(i.a)(".collection[data-bookmark='"+v.bookmark_id+"']");m.classList.remove("empty");var f=m.get(".collection-content .premium-advise");if(f&&(f.style.display="none"),!window.launching&&window.db.rowCount(v.bookmark_id)>=k.limit.icons){(window.FeatureFlag.isEnabled("user_oauth")?window.UserSession.userInfo.session.id:gr.auth.me.id)?(m.get(".max-icons-collection").style.display="block",(window.FeatureFlag.isEnabled("user_oauth")?window.UserSession.userInfo.session.premium:gr.auth.me.premium)?i.d.danger("Ooop!",messages.limit.collection):i.d.danger("Ooop!",messages.limit.registered)):(m.classList.add("nologged-limit-reached"),m.querySelector(".collection-content").classList.add("nologged-limit-reached"),m.get(".icons-collection-noregister").style.display="block",i.d.danger("Ooop!",messages.limit.guest));var p=Object(i.a)("#collections-toggle .badge");p.classList.add("animate");var h=setTimeout(function(){clearTimeout(h),p.classList.remove("animate")},300)}else{var g=1;if(arguments.length>1){var v=k.getActive();if(g=parseInt(window.db.queryAll(v.bookmark_id).length,10)+1,e={id:parseInt(e,10),name:i.p(t),color:"2"==o?"XXXXXX":c||(null!=v.color?v.color:"000000"),premium:a||0,sort:g},Object(i.a)("section #detail .customize.active")&&"1"==o)if(void 0!==localStorage.color)e.color=localStorage.color.replace("#","");else{var y=Object(i.a)("section #detail #detail_picker .colpick_hex_field input");e.color=y?y.value:v.color}}if(m.classList.contains("expanded")||window.launching||m.classList.add("expanded"),window.FeatureFlag.isEnabled("user_oauth")?window.UserSession.userInfo.session.premium:gr.auth.me.premium){var _=messages.external_icon.title,S=messages.external_icon.message,E=!1;void 0!==document.getElementById("detail")&&null!=document.getElementById("detail")&&Object(i.a)("#download-form #icon_id").value==e.id&&(E=!0,0==Object(i.a)("#download-form #selection").value&&i.d.warning(_,S,0));var I=document.querySelector('ul.icons .icon--item[data-id="'+e.id+'"]');E||null===I||0==I.dataset.premium&&0==I.dataset.selection&&(q.restoring||i.d.warning(_,S,0))}if(!window.db.queryAll(v.bookmark_id,{query:{id:e.id}}).length){var x=i.j();n=e.author||0;new b(e.id,i.p(e.name),n,e.color,v.bookmark_id,e.premium,e.sort),q.updateToggle(),q.updateButtons(),b.toggle(e.id);var C={};b.properties.forEach(function(t){C[t]=e[t]}),C.bookmark_id=v.bookmark_id,window.db.update("list",{bookmark_id:v.bookmark_id},function(e){return e.updated=x,e}),window.db.commit(),C.updated=x,C.created=x;var A=e;"number"==typeof A&&(A={id:e});var T={icon:A,name:t,author:n,color:o,premium:a,custom_color:c};"undefined"!=typeof HistoryCollection&&HistoryCollection.iconAdd(e.id,T);k.emit("put_icon",C,function(){var t;if(e.imageUrl=L.imageUrl,C.imageUrl=L.imageUrl,C.color=w(C.color)?C.color:"XXXXXX",e.src=L.imageUrl,window.db.insertOrUpdate(C.bookmark_id,{id:C.id},C),window.db.commit(),EventTracker.send("all","event","collection","add-icon",e.id),4==e.premium||"undefined"!=typeof src){var n=document.createElement("img");"undefined"!=typeof src?(n.id=e.id,n.dataset.premium=e.premium,n.dataset.src=e.imageUrl):(n.id=e.icon,n.dataset.premium=4,n.dataset.src=e.imageUrl),t=n,Object(i.a)(".collection[data-order='0'] .collection_icons_list.icons .icon-upload").insertAdjacentHTML("afterend",Handlebars.tag("collection-icon")(e))}else e.not_personal=!0,m.get(".icon--item.collectionIcon[data-id='"+e.id+"']")||(Object(i.a)(".collection[data-order='0'] .collection_icons_list.icons .icon-upload")||k.setActive(),Object(i.a)(".collection[data-order='0'] .collection_icons_list.icons .icon-upload").insertAdjacentHTML("afterend",Handlebars.tag("collection-icon")(e)),t=Object(i.a)(".collection[data-order='0'] .icons .collectionIcon[data-id='"+e.id+"'] img"));t&&q.renderSVG(t)})}}},q.delIcon=function(e){var t=i.j(),n=Object(i.a)(".collection[data-order='0'] .collectionIcon.selected[data-id='"+e+"']");if(n){var o=n.parent(".collection").dataset.bookmark,r=n.parentElement,a=n.dataset.premium,c=n.dataset.name,l=n.dataset.color,s=n.dataset.src,u=(l="XXXXXX")?2:1;r.removeChild(n),r.children.length||(r.innerHTML=""),k.emit("del_icon",{bookmark_id:o,id:e,updated:t,premium:a})}if(!o||!window.db.tableExists(o))return!1;var d={icon:{id:e},id:e,name:c,author:0,color:u,premium:a,custom_color:l,src:s};"undefined"!=typeof HistoryCollection&&HistoryCollection.iconDel(e,d),window.db.deleteRows(o,{id:e}),window.db.update("list",{bookmark_id:o},function(e){return e.updated=t,e}),window.db.commit(),b.toggle(e),q.updateToggle(),q.limitsCollection(o),ga("send","event","Collection","Remove Icon",e),q.updateButtons()},q.replaceSvg=function(e){var t,n=window.requestedSVG.indexOf(e.id);n>-1&&window.requestedSVG.splice(n,1);var o=Object(i.a)(".collection[data-bookmark='"+e.bookmark+"'] .icon--item[data-id='"+e.id+"']");if(!o){if(!(t=Object(i.a)(".collection .icon--item[data-id='"+e.id+"'] img")))return;o=Object(i.a)(".collection .icon--item[data-id='"+e.id+"']")}if(t||(t=o.get("img")),t&&e.svg){var r=e.svg.getElementsByTagName("svg")[0];r.setAttribute("width",48),r.setAttribute("height",48),(r="undefined"!=typeof ie?function e(t,n){n||(n=document);var o=n.createElementNS(t.namespaceURI,t.nodeName);for(var i=0,r=t.attributes.length;i<r;++i){var a=t.attributes[i];/^xmlns\b/.test(a.nodeName)||o.setAttributeNS(a.namespaceURI,a.nodeName,a.nodeValue)}for(var i=0,r=t.childNodes.length;i<r;++i){var c=t.childNodes[i];o.insertBefore(1==c.nodeType?e(c,n):n.createTextNode(c.nodeValue),null)}return o}(r):r)&&t&&(t.parentElement.replaceChild(r,t),q.createIconsCPicker(e.id,e.bookmark))}},q.renderSVG=function(e){if(null===e)return!1;e.removeAttribute("onload");var t=e.parent(".collection");if(void 0===t)return!1;if(!k.getActive().status)return e.src=e.dataset.src,!1;var n=t.querySelectorAll(".collection_icons_list.icons li.icon--item");if(n.length>0&&n.length<=2){for(var o="",i=30;i--;)o+='<li class="icon-fill icon--item"></li>';t.querySelector(".collection_icons_list.icons").insertAdjacentHTML("beforeend",o)}var r=e.parent(".icon--item"),a=e.dataset.src;e.classList.remove("collectionIconImage"),e.src=a,e.removeAttribute("data-src"),r.dataset.src=a},q.getSVGCode=function(e){if(e.id=parseInt(e.id,10)||0,window.requestedSVG||(window.requestedSVG=[]),-1===window.requestedSVG.indexOf(e.id)){window.requestedSVG.push(e.id);var t=new XMLHttpRequest;if(e.bookmark&&e.id&&e.src)t.onreadystatechange=function(){4==t.readyState&&200==t.status&&q.replaceSvg({svg:t.responseXML,id:e.id,bookmark:e.bookmark}),t.status},document.createElement("a").href=e.src.replace("/static",""),e.premium,t.open("GET",e.src,!0),t.send()}},q.clear=function(){document.querySelectorAll(".collection[data-order='0']").length&&(document.querySelectorAll(".collection[data-order='0'] ul.icons li.icon--item").forEach(function(e){e.classList.contains("icon-upload")||e.parentElement.removeChild(e)}),Object(i.a)(".collection[data-order='0']").classList.add("empty"))},q.scroll=function(e,t){var n=$("ul.collection_icons_list"),o=$("ul.collection_icons_list").offset().top,i=n.scrollTop();t>(n.outerHeight()||n.height())-80+o?setTimeout(function(){n.scrollTop(i+80)},100):i>0&&t<80+o&&setTimeout(function(){n.scrollTop(i-80)},100)},q.reorderIcons=function(e,t){var n=[],o=document.querySelectorAll('.collection[data-bookmark="'+e.dataset.bookmark+'"] ul.collection_icons_list li.collectionIcon.icon--item'),i=o.length;o.forEach(function(t){n.push({id:t.dataset.id,sort:i}),t.dataset.sort=i,b.set(t.dataset.id,{sort:i},e.dataset.bookmark,!0),i--}),t&&k.updateReorder(e.dataset.bookmark,n)},q.removeEmptyIcons_old=function(){document.querySelectorAll("ul.collection_icons_list .empty-icon").forEach(function(e){e.parentNode.removeChild(e)}),document.querySelectorAll("ul.collection_icons_list .dragHover").forEach(function(e){e.classList.remove("dragHover")})},q.addEmptyIcon_old=function(e,t){if(e.dataset.id==t.dataset.id)return!1;if(q.removeEmptyIcons(),e.classList.add("empty-icon"),"LI"==e.nodeName&&document.querySelectorAll('.collection_icons_list .collectionIcon[data-id="'+t.dataset.id+'"]').length){var n=k.getActive();document.querySelector('.collection[data-bookmark="'+n.bookmark_id+'"] ul.collection_icons_list').insertBefore(e,t)}},q.moveIcon=function(e,t){if(e.dataset.id==t.dataset.id)return!1;if("LI"==e.nodeName&&document.querySelectorAll('.collection_icons_list .collectionIcon[data-id="'+t.dataset.id+'"]').length){var n=k.getActive();document.querySelector('.collection[data-bookmark="'+n.bookmark_id+'"] ul.collection_icons_list').insertBefore(e,t),e.dataset.sort=parseInt(t.dataset.sort,10)+1}},q.downloading=function(){var e=new Date;e.setTime(e.getTime()+3e4);var t="; expires="+e.toGMTString();document.cookie="download_collection=1"+t+"; path=/",document.getElementById("collections").classList.add("loading"),document.querySelector(".collection.expanded .download-holder button").classList.add("disabled"),I=setInterval(x,1500)},q.reset_widget=function(e){document.querySelector(".detail__editor__body .free_user_warning").classList.add("hidden"),document.querySelector(".detail__editor__canvas .collection_limit").classList.add("hidden"),document.querySelector(".edit-icons-user-actions #download_button").classList.remove("hidden"),document.querySelector(".detail__editor__canvas .collection_locked").classList.add("hidden")},Handlebars.registerHelper("maxCollectionIcons",function(){return k.limit.icons}),Handlebars.registerHelper("iconLocked",function(){return 1!=this.premium||(window.FeatureFlag.isEnabled("user_oauth")?window.UserSession.userInfo.session.premium:gr.auth.me.premium)?4==this.premium?" personal-icon":"":" locked"}),Handlebars.registerHelper("collectionLimitIcons",function(){var e,t="";return this.icons.forEach(function(n){e=n.imageUrl,t+='<li><img src="'+e+'" name="'+n.name+'"></li>'}),t}),Handlebars.registerHelper("loadImg",function(e,t){return"src"in this?this.src:(this.premium,L.imageUrl)}),Handlebars.registerHelper("dataSearch",function(){var e=Object(i.a)("#words");if(e)return["?term=",e=e.value,"&page=",page,"&position=",this.position].join("")}),Handlebars.registerHelper("shareUrl",function(){return btoa(this.bookmark_id)}),Handlebars.registerHelper("setHeight",function(){if(window.db)return window.db.rowCount("list")>1?window.db.rowCount("list")>2?"collection-height-2":"collection-height-1":""}),void 0==window.btoa&&(window.btoa=function(e){for(var t,n,o=String(e),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r=0,a="";o.charAt(0|r)||(i="=",r%1);a+=i.charAt(63&t>>8-r%1*8)){if((n=o.charCodeAt(r+=.75))>255)throw new InvalidCharacterError("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");t=t<<8|n}return a});document.querySelectorAll(".collection_icons_list .popover-button").forEach(function(e){var t=e.closest(".collection_icons_list"),n=e.nextElementSibling;e.addEventListener("click",function(e){n&&t&&setTimeout(function(){var e=t.getBoundingClientRect(),o=n.getBoundingClientRect();if(o.left<=e.left){var i=e.left-o.left+"24";n.style.transform="translateX("+i+"px)"}},200)})});const T=[...document.querySelectorAll("input[name='collections__tour__option']")],O=e=>{T.map(t=>{t!=e.target&&t.checked&&(t.checked=!1)})};T.map(e=>e.addEventListener("click",O))},32:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var o=n(1),i=n(35),r=n(12),a=n(30),c=n(0);n(196);$(function(){if("IE"!=Object(o.g)()){$("#detail-overlay").on("click",function(e){e.target.parentNode.classList.contains("loading")&&(l.close(),l.pushState({page:"pagination"},document.title,l.prev_url))}),$("#detail-close").on("click",function(e){e.preventDefault(),c.e.view.setView(document.body.dataset.section||""),Detail.close(),l.pushState({page:"pagination"},document.title,l.prev_url),l.close(),Object(r.store_url)(l.prev_url)}),$(document).on("click","#detail-close-mobile",function(e){e.preventDefault(),l.pushState({page:"pagination"},document.title,l.prev_url),l.close(),Object(r.store_url)(l.prev_url)}),$(document).on("click","#detail-overlay #detail-prev",function(e){e.preventDefault(),l.goPrev()}),$(document).on("click","#detail-prev-mobile",function(e){e.preventDefault(),l.goPrev()}),$(document).on("click","#detail-overlay #detail-next",function(e){e.preventDefault(),l.goNext()}),$(document).on("click","#detail-next-mobile",function(e){e.preventDefault(),l.goNext()}),$(document).on("click",".collectionIcon .link-icon-detail",function(e){e.preventDefault(),e.stopPropagation(),document.location=this.href}),$(document).on("click",".link-icon-detail",function(e){const t=e.target.closest("li.icon--item");if(c.e.Resource.setResourceFromElement(t),c.e.Resource.resource&&c.e.Resource.resource.type&&c.e.Resource.setResourceConfig(c.e.Resource.resource.type),!document.querySelector("#detail.loaded")){e.preventDefault();var n=(this.href||"")+(this.dataset.src||""),o=this.dataset.id;l.id||(l.prev_url=document.location.href,l.saveOGData());let c=new URL(n).search,s=new URLSearchParams(c),u=s.get("related_id");if(null===u?s.append("related_id",o):(s.delete("related_id"),s.append("related_id",u)),location.pathname.indexOf(messages.url.search)>-1&&(location.href.indexOf("style_id")>-1?s.append("origin","style"):s.append("origin","search")),location.pathname.indexOf(messages.url.free_icons)>-1&&s.append("origin","tag"),location.pathname.indexOf(messages.url.packs)>-1&&s.append("origin","pack"),null!==s.get("term")&&n.indexOf("term")>-1&&s.delete("term"),null!==s.get("word")&&s.delete("word"),n=n.indexOf("?")>-1?n+"&"+s.toString():n+"?"+s.toString(),o&&n){var r=document.getElementById("detail-overlay");r.classList.remove("hidden"),r.classList.add("loading"),document.getElementById("detail-spinner").classList.remove("hidden"),l.id&&l.hideNavigation(),l.id=o;let c=!!e.currentTarget.dataset.edit;return l.pushState({page:"icon"},document.title,n),void Detail.getModalDetail(t,c).then(function(){i.Premium.check(),"function"==typeof a.f&&Object(a.f)();var e=l.getNext(l.id);l.checkNavigation("next",e.url);var n=l.getPrev(l.id);l.checkNavigation("prev",n.url),l.updateOGData(t.dataset.premium,t.dataset.icon_type),$("#detail-wrapper").animate({scrollTop:0},"slow"),Detail.firstView||(l.rendered=!0)})}}}),window.innerWidth<=640&&function(){let e=Object(c.c)("#detail-overlay");new MutationObserver(function(e){e[0].target.classList.contains("ready")&&setTimeout(()=>{let e=Object(c.c)(".detail__icon__inner"),t=Object(c.c)("#detail-prev-mobile"),n=Object(c.c)("#detail-next-mobile"),o=new Hammer(e);o.get("swipe").set({direction:Hammer.DIRECTION_ALL}),o.on("swipeleft swiperight",function(e){"swipeleft"!==e.type||n.classList.contains("hidden")?"swiperight"!==e.type||t.classList.contains("hidden")||l.goPrev():l.goNext()})},100)}).observe(e,{attributes:!0})}()}});var l={id:0,navigation:1,prev_url:document.location.href,icons_view:0,og_keys:["twitter:title","twitter:description","twitter:image","og:title","og:url","og:description","og:image","pinterest:title","pinterest:description","pinterest:image"],og_data:{},rendered:!1,checkNavigation:function(e,t){"next"==e&&(document.getElementById("detail-next").classList.toggle("hidden",!t),document.querySelector("#detail-next-mobile").classList.toggle("hidden",!t)),"prev"==e&&(document.getElementById("detail-prev").classList.toggle("hidden",!t),document.querySelector("#detail-prev-mobile").classList.toggle("hidden",!t))},hideNavigation:function(){document.getElementById("detail-next").classList.add("hidden"),document.getElementById("detail-prev").classList.add("hidden");let e=document.querySelector("#detail-next-mobile"),t=document.querySelector("#detail-prev-mobile");e&&e.classList.add("hidden"),t&&t.classList.add("hidden"),this.navigation=0},showNavigation:function(){document.getElementById("detail-next").classList.remove("hidden"),document.getElementById("detail-prev").classList.remove("hidden"),document.querySelector("#detail-next-mobile").classList.remove("hidden"),document.querySelector("#detail-prev-mobile").classList.remove("hidden"),this.navigation=1},getPrev:function(e){if(e){let t=document.querySelector('.search-result li[data-id="'+e+'"]');if(!t)return{id:null,url:null};let n=t.previousElementSibling;if(n&&(n.classList.contains("icon--item")||(n=n.previousElementSibling),n)){let t=n.dataset.id,o=n.querySelector("a");if(o&&e)return{id:t,url:o.href}}}return{id:null,url:null}},getPrevElement:function(e){if(e){let t=document.querySelector('.search-result li[data-id="'+e+'"]');if(!t)return null;let n=t.previousElementSibling;if(n&&(n.classList.contains("icon--item")||(n=n.previousElementSibling),n&&n.dataset.id))return n}return null},getNext:function(e){if(e){let t=document.querySelector('.search-result li[data-id="'+e+'"]');if(!t)return{id:null,url:null};let n=t.nextElementSibling;if(n&&(n.classList.contains("icon--item")||(n=n.nextElementSibling),n)){let t=n.dataset.id,o=n.querySelector("a");if(o&&e)return{id:t,url:o.href}}}return{id:null,url:null}},getNextElement:function(e){if(e){let t=document.querySelector('.search-result li[data-id="'+e+'"]');if(!t)return null;let n=t.nextElementSibling;if(n&&(n.classList.contains("icon--item")||(n=n.nextElementSibling),n&&n.dataset.id))return n}return null},goNext:function(){ga("send","event","Detail View","Move","Next"),this.goTo("next")},goPrev:function(){ga("send","event","Detail View","Move","Previous"),this.goTo("prev")},goTo:function(e){var t="prev"==e?this.getPrevElement(this.id):this.getNextElement(this.id);c.e.Editor&&c.e.Editor.close();let n=t.querySelector(".link-icon-detail");l.pushState({page:"icon"},document.title,n.href+(n.dataset.src||"")),c.e.Resource.setResourceFromElement(t),c.e.Resource.resource&&c.e.Resource.resource.type&&c.e.Resource.setResourceConfig(c.e.Resource.resource.type),Detail.getModalDetail(t).then(function(){i.Premium.check(),l.id=t.dataset.id;var n="prev"==e?l.getPrevElement(l.id):l.getNextElement(l.id);"next"==e?(document.getElementById("detail-next").classList.toggle("hidden",null==n),document.getElementById("detail-prev").classList.toggle("hidden",null==!n),document.querySelector("#detail-next-mobile").classList.toggle("hidden",null==n),document.querySelector("#detail-prev-mobile").classList.toggle("hidden",null==!n)):(document.getElementById("detail-prev").classList.toggle("hidden",null==n),document.getElementById("detail-next").classList.toggle("hidden",null==!n),document.querySelector("#detail-prev-mobile").classList.toggle("hidden",null==n),document.querySelector("#detail-next-mobile").classList.toggle("hidden",null==!n)),l.updateOGData(t.dataset.premium,t.dataset.icon_type)})},go:function(e){if(e)if(document.querySelector("#detail.loaded"))document.location.href=e;else{var t=this.getId(e);if(t)return this.prev_url||(this.prev_url=document.location.href),this.pushState({page:"icon"},document.title,e),this.id=t,void this.getDetail(e)}this.close()},close:function(){document.querySelector("body").classList.remove("unscrollable");var e=document.getElementById("detail-overlay");e.classList.remove("loading","ready"),e.classList.remove("hidden"),e.querySelector(".content").innerHTML="",this.restoreOGData(),this.icons_view=0,this.id=0},getId:function(e){var t=document.querySelector('a[href="'+e+'"]');return t?parseInt(t.parentNode.parentNode.dataset.id,10):null},getElementByUrl:function(e){var t=document.querySelector('.icon--holder a[href="'+e+'"]');return t?t.closest("li.icon--item"):null},pushState:function(e,t,n){const o=new CustomEvent("pushstate",{state:e,title:t,url:n});"object"==typeof window.history?window.history.pushState(e,t,n):History.pushState(e,t,n),window.dispatchEvent(o)},replaceState:function(e,t,n){History.replaceState(e,t,n)},saveOGData:function(){this.og_data.title=document.title;var e=this.og_data;this.og_keys.forEach(function(t){var n=-1!=t.indexOf("twitter")||-1!=t.indexOf("pinterest")?"name":"property";null!==document.querySelector("meta["+n+'="'+t+'"]')&&(e[t]=document.querySelector("meta["+n+'="'+t+'"]').content)}),this.og_data=e},restoreOGData:function(){var e;for(var t in this.og_data)if(e=this.og_data[t],"title"!=t){var n=-1!==t.indexOf("twitter")||-1!=t.indexOf("pinterest")?"name":"property";null!==document.querySelector("meta["+n+'="'+t+'"]')&&(document.querySelector("meta["+n+'="'+t+'"]').content=e)}else document.title=e;document.querySelector('meta[property="og:image:alt"]')&&("pack-detail"===c.e.view.section?document.querySelector('meta[property="og:image:alt"]').content=document.querySelector('meta[property="og:title"]').content:document.querySelector('meta[property="og:image:alt"]').remove())},updateOGData:function(e,t){let n=messages.og.title,o=messages.og.desc;"sticker"===t&&(n=n.replace("icons","stickers"),o=o.replace("vector icon","sticker"));var i=1==e,r=i?messages.common.free+" ":"premium ",a=i?"premium ":messages.common.free+" ",c=(document.querySelector("#download-form #team").value,parseInt(document.querySelector("#download-form #icon_id").value,10));this.og_keys.forEach(function(e){var t=e.split(":"),i=e.split(":")[1],c="twitter"==t[0]||"pinterest"==t[0]?"name":"property";if(null!==document.querySelector("meta["+c+'="'+e+'"]'))switch(i){case"description":document.querySelector("meta["+c+'="'+e+'"]').content=o.replace(new RegExp("("+r+")","gi"),a);break;case"title":var l=document.querySelector(".detail__sidebar h1").innerHTML,s=document.querySelector(".author .username").innerHTML;document.querySelector("meta["+c+'="'+e+'"]').content=n.format(l,s).replace(new RegExp("("+r+")","gi"),a);break;case"url":document.querySelector("meta["+c+'="'+e+'"]').content=document.location.href}});var l=document.querySelector('meta[name="keywords"]');l&&(l.content=l.content.replace(new RegExp("("+r+")","gi"),a));let s=document.querySelector(".icon-png-container").dataset.png;document.querySelector('meta[property="og:image"]').content=s,document.querySelector('meta[name="twitter:image"]').content=s;let u=document.querySelector('meta[property="og:image:alt"]');u&&"animated-icon"!==RESOURCE_TYPE?u.content=document.querySelector(`.detail__icon__inner div[data-id="${c}"] img`).alt:((u=document.createElement("meta")).setAttribute("property","og:image:alt"),u.content="animated-icon"!==RESOURCE_TYPE?document.querySelector(`a[data-id="${c}"] img`).alt:"",document.querySelector('meta[property="og:image"]').insertAdjacentElement("afterEnd",u)),null!==document.querySelector('meta[name="pinterest:image"]')&&(document.querySelector('meta[name="pinterest:image"]').content=s)}}},35:function(e,t,n){"use strict";n.r(t),n.d(t,"Premium",function(){return o}),$(function(){$("#license-premium").on("change",function(){o.bannerSearch()}),void 0!==o&&o.imgDetailIcon()});var o={premium:0,selector_show:".fi-premium",selector_hide:".fi-not-premium",selector_show_icon:".fi-premium-icon",selector_hide_icon:".fi-not-premium-icon",original_banner:"",premium_banner:"",init:function(){window.FeatureFlag.isEnabled("user_oauth")?this.premium=window.UserSession.userInfo.session&&void 0!==window.UserSession.userInfo.session.premium?parseInt(window.UserSession.userInfo.session.premium,10):0:this.premium=void 0!==gr.auth.me.premium?parseInt(gr.auth.me.premium,10):0,this.activatePremium(),this.packLink()},is:function(){return this.premium},activatePremium:function(){var e=document.querySelector("#download-form #premium");e&&(1==e.value?this.premium?(this.showElements(this.selector_show_icon),this.hideElements(this.selector_hide_icon)):(this.showElements(this.selector_hide_icon),this.hideElements(this.selector_show_icon)):(this.showElements(this.selector_show_icon),this.hideElements(this.selector_hide_icon))),this.premium?(this.showElements(this.selector_show),this.hideElements(this.selector_hide)):(this.showElements(this.selector_hide),this.hideElements(this.selector_show)),document.getElementById("edge-content-icon-list")&&this.bannerSearch()},bannerSearch:function(){var e=document.getElementById("bn-icon-list");if(e){var t=document.querySelector("input#license-premium");if(!this.premium&&t){""==o.original_banner&&e&&(o.original_banner=e.innerHTML);var n=document.getElementById("fi-premium-edge-content-premium");""==o.premium_banner&&n&&(o.premium_banner=n.innerHTML),o.original_banner&&o.premium_banner&&t.checked&&(e.innerHTML=o.premium_banner,e.classList.add("fi-premium-edge-content-first"))}}},check:function(){window.FeatureFlag.isEnabled("user_oauth")?this.premium=void 0!==window.UserSession.userInfo.session.premium?window.UserSession.userInfo.session.premium:0:this.premium=void 0!==gr.auth.me.premium?gr.auth.me.premium:0,this.checkElements(),this.activatePremium()},showElements:function(e){[].forEach.call(document.querySelectorAll(e),function(e){e.classList.remove("hidden")})},hideElements:function(e){[].forEach.call(document.querySelectorAll(e),function(e){e.classList.add("hidden")})},deleteElements:function(e){document.querySelectorAll(e).forEach(function(e){document.getElementById(e.id).parentNode.removeChild(e)})},imgDetailIcon:function(){if("object"==typeof pack_items&&null!=pack_items){var e=this;pack_items.forEach(function(t,n){if("1"==n.premium&&!e.premium){var o=document.querySelector('.detail-content .main-icon[data-type="img"] img');o&&(o.src=n.png),n.src=n.png}})}},checkElements:function(){window.FeatureFlag.isEnabled("user_oauth")?(document.querySelectorAll(this.selector_show+", "+this.selector_show_icon).forEach(function(e){e.classList.toggle("hidden",!~~window.UserSession.userInfo.premium)}),document.querySelectorAll(this.selector_hide+", "+this.selector_hide_icon).forEach(function(e){e.classList.toggle("hidden",~~window.UserSession.userInfo.premium)})):(document.querySelectorAll(this.selector_show+", "+this.selector_show_icon).forEach(function(e){e.classList.toggle("hidden",!~~gr.auth.me.premium)}),document.querySelectorAll(this.selector_hide+", "+this.selector_hide_icon).forEach(function(e){e.classList.toggle("hidden",~~gr.auth.me.premium)}))},packLink:function(){var e=document.querySelector("section.list-top > a");e&&"1"==e.dataset.premium&&!this.premium&&(e.href=ACCOUNTS_BASE_URL+"premium/"+e.dataset.pack)}}},372:function(e,t,n){"use strict";n.r(t);var o={};n.r(o),n.d(o,"fbpopup",function(){return c}),n.d(o,"pinpopup",function(){return l}),n.d(o,"glpopup",function(){return s}),n.d(o,"tweet",function(){return u});var i=n(53),r=n(12);function a(){document.querySelector("meta[property='og:url']");var e=document.querySelector("meta[property='og:image']"),t=document.querySelector("meta[name='twitter:title']"),n=document.querySelector("meta[property='og:description']"),o=document.location.search?document.location.search:"";return{url:document.location.protocol+"//"+document.location.host+document.location.pathname+o,image:e?e.content:"",title:t?t.content:document.title,desc:n?n.content:document.title,pathname:window.location.pathname}}function c(e){void 0===e&&(e=a());var t="http://www.facebook.com/sharer.php?u="+e.url;window.open(t,"fbshare","height=380,width=660,resizable=0,toolbar=0,menubar=0,status=0,location=0,scrollbars=0"),ga("send","event","Social","Facebook",e.pathname)}function l(e){void 0===e&&(e=a());var t="http://pinterest.com/pin/create/button/?url="+e.url+"&description="+e.title+"&media="+e.image;window.open(t,"pinshare","height=270,width=630,resizable=0,toolbar=0,menubar=0,status=0,location=0,scrollbars=0"),ga("send","event","Social","Pinterest",e.pathname)}function s(e){void 0===e&&(e=a());var t="https://plus.google.com/share?url="+e.url;window.open(t,"glshare","height=270,width=630,resizable=0,toolbar=0,menubar=0,status=0,location=0,scrollbars=0"),ga("send","event","Social","Google+",e.pathname)}function u(e,t){e.hasOwnProperty("preventDefault")&&e.preventDefault(),void 0===t&&(t=a());var n="http://twitter.com/share?url="+t.url+"&text="+t.title+"&";window.open(n,"Flaticon Twitter Share","height=450,width=550,top="+($(window).height()/2-225)+",left="+$(window).width()/2+",toolbar=0,location=0,menubar=0,directories=0,scrollbars=0"),ga("send","event","Social","Twitter",t.pathname)}window.fbpopup=c,window.pinpopup=l,window.tweet=u;var d=n(0);var m=n(63);var f=n(17),p=n(7);function h(e){let t=!1;if("function"==typeof Collection&&Collection.init(),v(e),e.status)localStorage.fi_user=JSON.stringify(e);else{const e=document.querySelectorAll(".btn-download-pack");[].forEach.call(e,function(e){e.disabled=!0,e.removeAttribute("data-pack")})}for(var n in clearTimeout(window.FeatureFlag.isEnabled("user_oauth")?"":window.gr.auth.timeout),window.FeatureFlag.isEnabled("user_oauth")?(UserSession.userInfo.session.id=~~UserSession.userInfo.session.id,UserSession.userInfo.session.premium=~~UserSession.userInfo.session.premium):(gr.auth.me.id=~~gr.auth.me.id,gr.auth.me.premium=~~gr.auth.me.premium),(window.FeatureFlag.isEnabled("user_oauth")?UserSession.userInfo.session.premium:gr.auth.me.premium)&&notify.addCustom({id:"cc_will_expire",priority:"5",showPremium:!0,expires:function(){return new Date((new Date).getTime()+36e5)},closeCallback:function(e){const t=document.getElementById("user-alert-container");if(t){const n=t.querySelector("button");n&&n.addEventListener("click",e)}},showCallback:function(){return 1==e.cc_will_expire},callback:function(){g(e.cc_will_expire)}}),window.FeatureFlag.isEnabled("user_oauth")?UserSession.userInfo.session:gr.auth.me)if((window.FeatureFlag.isEnabled("user_oauth")?UserSession.userInfo.session:gr.auth.me).hasOwnProperty(n)){if(!(Object.defineProperty instanceof Function))return!1;Object.defineProperty(window.FeatureFlag.isEnabled("user_oauth")?UserSession.userInfo.session:gr.auth.me,n,{value:(window.FeatureFlag.isEnabled("user_oauth")?UserSession.userInfo.session:gr.auth.me)[n],writable:!1,configurable:!1,enumerable:!1})}"function"==typeof r.update_download_counter&&r.update_download_counter(1),"object"!=typeof notify||t||""!=URL_CAMPAIGN||(t=!0,notify.printQueue())}function g(e){if(e){const e="string"==typeof messages.common.cc_exp_title?messages.common.cc_exp_title:"Attention!",t="string"==typeof messages.common.cc_exp_desc?messages.common.cc_exp_desc:"Your credit card is about to expire, please update your credit card and continue with your premium plan";"undefined"!=typeof UserAlerts&&UserAlerts.warning(e,t,!0)}}function v(e){const t=e.status?e.premium?"premium":"registered":"guest";ga("set","dimension1",t),e.id&&ga("set","userId",e.id)}var y=function(){localStorage.removeItem("fi_user");const e=APP_URL+"logout";Object(p.a)(e,{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest","Content-type":"application/json"},withCredentials:!0}).then(()=>{gr.auth.logout(),f.a.removeItem("g_state")})};window.addEventListener("userSessionLoaded",()=>{const e=document.getElementById("logout_link"),t="function",n="string";e&&e.addEventListener("click",function(e){e.preventDefault(),window.FeatureFlag.isEnabled("user_oauth")||y()}),window.FeatureFlag.isEnabled("user_oauth")?typeof r.update_download_counter===t&&r.update_download_counter(1):gr.auth.timeout=setTimeout(function(){let e=typeof messages.errors.connectivity===n?messages.errors.connectivity:"Error to connect Flaticon servers.";"undefined"!=typeof UserAlerts&&UserAlerts.danger("Oopps!",e),"function"==typeof Collection&&Collection.init()},3e3)});var _=n(1),w=n(30);d.e.localStorageDB=function(e,t){e||(e="0");var n="fi_"+e,o=!1,i=null;try{var r=t==sessionStorage?sessionStorage:localStorage}catch(e){r=t}function a(e){return!!i.tables[e]}function c(e){a(e)||g("The table '"+e+"' does not exist")}function l(e,t,n){if(i.tables[e].fields=i.tables[e].fields.concat(t),void 0!==n)for(var o in i.data[e])if(i.data[e].hasOwnProperty(o))for(var r in t)i.data[e][o][t[r]]="object"==typeof n?n[t[r]]:n}function s(e,t){for(var n=Object.keys(i.data[e]),o=1;o<n.length+1;o++)if(n[o-1]!=o){t.ID=o;break}return t.ID||(t.ID=i.tables[e].auto_increment,i.tables[e].auto_increment++),i.data[e][t.ID]=t,t.ID}function u(e,t){return function(n,o){var i="string"==typeof n[e]?n[e].toLowerCase():n[e],r="string"==typeof o[e]?o[e].toLowerCase():o[e];return"DESC"===t?i==r?0:i<r?1:-1:i==r?0:i>r?1:-1}}function d(e,t){var n=[],o=!1,r=null;for(var a in i.data[e])if(i.data[e].hasOwnProperty(a)){for(var c in r=i.data[e][a],o=!0,t)if(t.hasOwnProperty(c))if("string"==typeof t[c]){if(null===r[c]||r[c].toString().toLowerCase()!=t[c].toString().toLowerCase()){o=!1;break}}else if(r[c]!=t[c]){o=!1;break}o&&n.push(a)}return n}function m(e,t){var n=[];for(var o in i.data[e])i.data[e].hasOwnProperty(o)&&1==t(v(i.data[e][o]))&&n.push(o);return n}function f(e){var t=[];for(var n in i.data[e])i.data[e].hasOwnProperty(n)&&t.push(n);return t}function p(e,t,n){for(var o="",r=0,a=0;a<t.length;a++){o=t[a];var c=n(v(i.data[e][o]));if(c){delete c.ID;var l=i.data[e][o];for(var s in c)c.hasOwnProperty(s)&&(l[s]=c[s]);i.data[e][o]=_(e,l),r++}}return r}function h(){try{return r.setItem(n,JSON.stringify(i)),!0}catch(e){return!1}}function g(e){throw new Error(e)}function v(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function y(e){return!e.toString().match(/[^a-z_0-9]/gi)}function _(e,t){for(var n="",o={},r=0;r<i.tables[e].fields.length;r++)void 0!==t[n=i.tables[e].fields[r]]&&(o[n]=t[n]);return o}function w(e,t){for(var n="",o={},r=0;r<i.tables[e].fields.length;r++)o[n=i.tables[e].fields[r]]=null===t[n]||void 0===t[n]?null:t[n];return o}return(i=r[n])&&(i=JSON.parse(i))&&i.tables&&i.data||(y(e)?(i={tables:{},data:{}},h(),o=!0):g("The name '"+e+"' contains invalid characters")),{commit:function(){return h()},isNew:function(){return o},drop:function(){r.hasOwnProperty(n)&&delete r[n],i=null},renameTable:function(e,t){return function(e,t){if(e==t)throw"Same table name choosen";if(!i.data.hasOwnProperty(e)&&!i.tables.hasOwnProperty(e))throw"The table doesn't exists on database";if(i.data.hasOwnProperty(t)||i.tables.hasOwnProperty(t))throw"New table name already exists on database";return i.data[t]=i.data[e],i.tables[t]=i.tables[e],delete i.data[e],delete i.tables[e],r.setItem(n,JSON.stringify(i)),!0}(e,t)},getDB:function(){return i},serialize:function(){return JSON.stringify(i)},tableExists:function(e){return a(e)},tableFields:function(e){return function(e){return i.tables[e].fields}(e)},tableCount:function(){return function(){var e=0;for(var t in i.tables)i.tables.hasOwnProperty(t)&&e++;return e}()},showTables:function(){return function(){var e=[];for(var t in i.tables)i.tables.hasOwnProperty(t)&&e.push(t);return e}()},columnExists:function(e,t){return function(e,t){var n=!1,o=i.tables[e].fields;for(var r in o)if(o[r]==t){n=!0;break}return n}(e,t)},createTable:function(e,t){e||(e=0);var n=!1;if(y(e))if(this.tableExists(e))g("The table name '"+e+"' already exists.");else{for(var o=!0,r=0;r<t.length;r++)if(!y(t[r])){o=!1;break}if(o){var a={};for(r=0;r<t.length;r++)a[t[r]]=!0;for(var c in delete a.ID,t=["ID"],a)a.hasOwnProperty(c)&&t.push(c);!function(e,t){i.tables[e]={fields:t,auto_increment:1},i.data[e]={}}(e,t),n=!0}else g("One or more field names in the table definition contains invalid characters")}else g("The database name '"+e+"' contains invalid characters.");return n},createTableWithData:function(e,t){("object"!=typeof t||!t.length||t.length<1)&&g("Data supplied isn't in object form. Example: [{k:v,k:v},{k:v,k:v} ..]");var n=Object.keys(t[0]);if(this.createTable(e,n)){this.commit();for(var o=0;o<t.length;o++)s(e,t[o])||g("Failed to insert record: ["+JSON.stringify(t[o])+"]");this.commit()}return!0},dropTable:function(e){c(e),function(e){delete i.tables[e],delete i.data[e]}(e),h()},truncate:function(e){c(e),function(e){i.tables[e].auto_increment=1,i.data[e]={}}(e),h()},alterTable:function(e,t,n){var o=!1;if(y(e)){if("object"==typeof t){for(var i=!0,r=0;r<t.length;r++)if(!y(t[r])){i=!1;break}if(i){var a={};for(r=0;r<t.length;r++)a[t[r]]=!0;for(var c in delete a.ID,t=[],a)a.hasOwnProperty(c)&&t.push(c);l(e,t,n),o=!0}else g("One or more field names in the table definition contains invalid characters")}else if("string"==typeof t)if(y(t)){var s=[];s.push(t),l(e,s,n),o=!0}else g("One or more field names in the table definition contains invalid characters")}else g("The database name '"+e+"' contains invalid characters");return o},rowCount:function(e){return c(e),function(e){var t=0;for(var n in i.data[e])i.data[e].hasOwnProperty(n)&&t++;return t}(e)},insert:function(e,t){return c(e),s(e,w(e,t))},insertOrUpdate:function(e,t,n){c(e);var o=[];if(t?"object"==typeof t?o=d(e,_(e,t)):"function"==typeof t&&(o=m(e,t)):o=f(e),0==o.length)return s(e,w(e,n));for(var i=[],r=0;r<o.length;r++)p(e,o,function(e){return i.push(e.ID),n});return i},update:function(e,t,n){c(e);var o=[];return t?"object"==typeof t?o=d(e,_(e,t)):"function"==typeof t&&(o=m(e,t)):o=f(e),p(e,o,n)},query:function(e,t,n,o,r,a){c(e);var l=[];return t?"object"==typeof t?l=d(e,_(e,t)):"function"==typeof t&&(l=m(e,t)):l=f(e),function(e,t,n,o,r,a){for(var c=null,l=[],s=null,d=0;d<t.length;d++)c=t[d],s=i.data[e][c],l.push(v(s));if(r&&r instanceof Array)for(d=0;d<r.length;d++)l.sort(u(r[d][0],r[d].length>1?r[d][1]:null));if(a&&a instanceof Array){for(var m=0;m<a.length;m++){var f={},p=a[m];for(d=0;d<l.length;d++)void 0!==l[d]&&(l[d].hasOwnProperty(p)&&f.hasOwnProperty(l[d][p])?delete l[d]:f[l[d][p]]=1)}var h=[];for(d=0;d<l.length;d++)void 0!==l[d]&&h.push(l[d]);l=h}return n=n&&"number"==typeof n?n:null,o=o&&"number"==typeof o?o:null,n&&o?l=l.slice(n,n+o):n?l=l.slice(n):o&&(l=l.slice(n,o)),l}(e,l,o,n,r,a)},queryAll:function(e,t){return t?this.query(e,t.hasOwnProperty("query")?t.query:null,t.hasOwnProperty("limit")?t.limit:null,t.hasOwnProperty("start")?t.start:null,t.hasOwnProperty("sort")?t.sort:null,t.hasOwnProperty("distinct")?t.distinct:null):this.query(e)},deleteRows:function(e,t){c(e);var n=[];return t?"object"==typeof t?n=d(e,_(e,t)):"function"==typeof t&&(n=m(e,t)):n=f(e),function(e,t){for(var n=0;n<t.length;n++)i.data[e].hasOwnProperty(t[n])&&delete i.data[e][t[n]];return t.length}(e,n)}}},d.e.SocialShare=o,d.e.Downloads=i,d.e.sanitize_filename=_.o,d.e.Notifier=_.c,d.e.INFINITY=m.INFINITY,d.e.gbjs=!0,window.addEventListener("userSessionLoaded",()=>{window.FeatureFlag.isEnabled("user_oauth")&&(d.e.Collection=w.a,d.e.Functions=r,d.e.Widget=w.b,d.e.logged_in_callback=h,d.e.callback_handler=w.c)}),window.dispatchEvent(new CustomEvent("globalLoaded")),Object.defineProperty(Object.prototype,"getPathValue",{value:function(e){return e.split(".").reduce(function(e,t){return!!e&&e[t]},this)},writable:!0,configurable:!0,enumerable:!1})},53:function(e,t,n){"use strict";n.r(t),n.d(t,"download_final",function(){return _}),n.d(t,"track_download",function(){return k}),n.d(t,"fillBase64Form",function(){return S}),n.d(t,"direct_download_icon_post",function(){return E}),n.d(t,"track_add_collection",function(){return x}),n.d(t,"download_pack",function(){return C}),n.d(t,"check_modal_download",function(){return R}),n.d(t,"open_attribution_modal",function(){return F}),n.d(t,"cleanFormatValue",function(){return z});var o=n(12),i=n(30),r=n(25),a=n(55),c=n(19),l=n(9),s=n(0),u=n(15),d=n(27),m=n(101),f=n(3);n(24);const p="icon-detail",h="512",g=()=>Object(c.b)()&&document.getElementById("collections").classList.contains("visible");function v(){var e=document.querySelector('[name="pack_id"]').value,t=document.querySelector('[name="premium"]').value,n=o.getUrlParameter("term")?o.getUrlParameter("term"):o.getUrlParameter("word")?o.getUrlParameter("word"):null;null!==n&&""!==n&&Logs.pushLog(`afterSearch|type,download|search,${n}|url,${window.location.href}|item_id,${e}|item_premium,${t}|search_type,packs|icon_type,${RESOURCE_TYPE}|format,all`,!0)}function y(){(window.FeatureFlag.isEnabled("user_oauth")?UserSession.userInfo.session.premium:gr.auth.me.premium)||R("icon")}function _(e=null){Object(m.a)(localStorage.color);var t=o.getUrlParameter("term")?o.getUrlParameter("term"):o.getUrlParameter("word")?o.getUrlParameter("word"):void 0;let n,i;const r=s.e.view.section!==p||g()?document.querySelector(".modal-download"):document.querySelector(".modal-download-detail");s.e.view.section===p?(n=document.querySelector("#detail #download-form #format"),(window.FeatureFlag.isEnabled("user_oauth")?UserSession.userInfo.session.premium:gr.auth.me.premium)&&e.dataset.format&&((n=document.querySelector("#detail #download-form #format")).value=e.dataset.format),document.querySelector("#detail #download-form #size")&&!document.querySelector("#detail #download-form #size").value&&(document.querySelector("#detail #download-form #size").value=h),e&&e.dataset.format&&(n.value=e.dataset.format)):(e&&e.parents(".icon--item")[0]?i=e.parents(".icon--item")[0].dataset.id:r&&(i=r.dataset.iconId),n=document.querySelector(`#download-form-${i} #format`)),n&&"base64"!==n.value?function(e,t=null){w();let n=document.querySelector("#download-form");const o="404"===s.e.view.section&&!!Object(s.c)(".empty-search");if(s.e.view.section==p||"category-detail"==s.e.view.section)n=s.e.download_form?s.e.download_form:document.querySelector("#detail #download-form");else if(("icon-search"===s.e.view.section||"pack-detail"===s.e.view.section||o)&&t instanceof Event==0&&t){let e=t.closest(".modal-download");if(e){let t=e.dataset.iconId;if(t){let e=document.querySelector(`li.icon--item[data-id='${t}']:not(.collectionIcon)`);e&&(n=e.querySelector("#download-form-"+t))}}else n=s.e.download_form}document.getElementById("modal-base64")&&(document.getElementById("modal-base64").checked=!1,X(),document.querySelector("body").classList.remove("modal-open"));document.getElementById("modal-download")&&(document.getElementById("modal-download").checked=!1,document.querySelector("body").classList.remove("modal-open"));if(setTimeout(L,2e3),void 0!==e){var i=document.createElement("input");i.type="hidden",i.name="search",i.value=e,n.appendChild(i)}if(window.Cypress)return;b(),n.submit()}(t,e):f.a.getUserStats().then(e=>{if(e.now<e.max){const e=document.querySelector('.detail__icon__holder div[data-type="img"] img');e&&function(e,t){var n=new XMLHttpRequest;n.onload=function(){var e=new FileReader;e.onloadend=function(){t(e.result)},e.readAsDataURL(n.response)},n.open("GET",e),n.responseType="blob",n.send()}(e.src,function(e){S(e);var t=new FormData;t.append("id",document.querySelector("#download-form #icon_id").value);var n=new XMLHttpRequest;n.open("POST",APP_URL+"downloads/track-download"),n.send(t),b()})}else window.location.href=`${APP_URL}${messages.common.url_downloads_limit}`}),document.getElementById("modal-download")&&n&&"base64"!==n.value&&(document.getElementById("modal-download").checked=!1,document.querySelector("body").classList.remove("modal-open")),document.querySelector(".modal-download-detail")&&(document.querySelector(".modal-download-detail").style.opacity=0,Object(l.h)(document.querySelector(".modal-download-detail")))}function w(){document.getElementById("author").value=document.getElementById("author").value||"0",document.getElementById("team").value=document.getElementById("team").value||"0",document.getElementById("pack").value=document.getElementById("pack").value||"0",document.getElementById("icon_id").value=document.getElementById("icon_id").value||"0",document.getElementById("format").value=document.getElementById("format").value||"png",document.getElementById("color").value=document.getElementById("color").value||"#000000",document.getElementById("colored").value=document.getElementById("colored").value||"1",document.getElementById("size").value=document.getElementById("size").value||"512",document.getElementById("style").value=document.getElementById("style").value||"Unknown",document.getElementById("keyword").value=document.getElementById("keyword").value||"icon"}function b(){let e;k(e=s.e.view.section==p?document.querySelector("#download-form #format").value:document.getElementById("format").value),o.update_download_counter(3e3),w();let t="icon",n="download";"sticker"===RESOURCE_TYPE&&(t=RESOURCE_TYPE,n="download-sticker"),e=s.e.view.section==p?document.querySelector("#download-form #format").value:document.getElementById("format").value,s.e.FeatureFlag.isEnabled("raw_svg")&&"raw-svg"===e&&(e="svg editable"),EventTracker.send("all","event",n,t,e.toUpperCase(),{dimension8:document.getElementById("author").value,dimension2:document.getElementById("team").value,dimension10:document.getElementById("pack").value,dimension3:document.getElementById("icon_id").value,dimension4:document.getElementById("format").value,dimension5:document.getElementById("color").value,dimension6:document.getElementById("size").value,dimension12:document.getElementById("style").value,dimension7:document.getElementById("keyword").value}),EventTracker.send("gtm","event",n,t,e.toUpperCase(),{dimension8:document.getElementById("author").value,dimension2:document.getElementById("team").value,dimension10:document.getElementById("pack").value,dimension3:document.getElementById("icon_id").value,dimension4:document.getElementById("format").value,dimension5:document.getElementById("color").value,dimension6:document.getElementById("size").value,dimension12:document.getElementById("style").value,dimension7:document.getElementById("keyword").value})}function k(e=""){var t="",n=document.getElementById("icon_id").value,o=document.getElementById("premium").value;let i=document.querySelector('.header--search .radio-group input[name="search-type"][type="radio"]:checked'),r="";i&&(r=i.value),(i=document.querySelector('.header--search .radio-group input[name="type"]:checked'))&&(r=`${i.value}${document.querySelector('.header--search .radio-group input[name="search-group"][data-type="packs"]:checked')?" packs":""}`);let a=document.getElementById("alternative-search"),c="";"undefined"===(t=decodeURIComponent(M("word")))&&(t=decodeURIComponent(M("term")));var l=decodeURIComponent(M("related_id")),s=decodeURIComponent(M("origin"));if(null!==a){let e=a.dataset.alternativeSearchType,t=a.dataset.originalTerm;void 0!==e&&void 0!==t&&(c=`|alternativeSearchType,${e}|originalTerm,${t}`)}n!==l&&(c+=`|related_id,${l}`),"undefined"!==s&&null!==s&&(c+=`|origin,${s}`),void 0===n||"undefined"===t&&"pack"!=s||Logs.pushLog(`afterSearch|type,download|search,${t}|url,${window.location.href}|item_id,${n}|item_premium,${o}|search_type,${r}|icon_type,${RESOURCE_TYPE}${c}|format,${e}`,!0);const u=document.querySelector(".search-data.packs-data");u&&"undefined"==t&&"undefined"!==u.dataset.word&&Logs.pushLog(`afterSearch|type,download|search,${u.dataset.word}|url,${window.location.href}|item_id,${n}|item_premium,${o}|search_type,${r}|icon_type,${RESOURCE_TYPE}${c}|format,${e}`,!0)}function S(e){var t='<img src="'+e+'" />';$("#b64Image").val(t);var n='<style type="text/css">';n+="div.image {",n+="max-width: 256px;",n+="max-height: 256px;",n+="background-image: url("+e+")",n+="}",n+="</style>",$("#b64css").val(n),document.getElementById("modal-base64").checked=!0,function(){if(document.querySelector(".modal-base64")){const e=document.querySelector("body"),t=document.querySelector(".modal-base64 button[data-modal='modal-attribution-new']"),n=document.querySelector("#viewport"),o=document.querySelectorAll(".fi-modal.modal-base64 .copy-attributtion"),i=document.querySelector(".modal-base64 .modal__close");let r=document.querySelector("#detail")?document.querySelector("#detail"):document.querySelector("#detail-pack-aside");if(r){const e=r.querySelector(".author a")?r.querySelector(".author a").href:r.querySelector("#author-url").value,t=r.querySelector(".author .username").title,n=document.querySelector("div.modal-base64"),o=`<div>${messages.attribution.icons_made_by} <a href="${e}" title="${t}">${t}</a> from <a href="${APP_URL}" title="Flaticon">${window.location.host}</a></div>`;n.querySelector(".attribution__wrapper .copy-holder span textarea").textContent=o,n.querySelector(".input_atributtion_text").setAttribute("value",o)}t.addEventListener("click",function(){d.b.show("modal-attribution-new"),n.classList.remove("viewport");const e=this.dataset.type;H(e)}),o.forEach(e=>{e.addEventListener("click",function(){this.children[0].classList.remove("active"),this.children[1].classList.add("active"),event.target.closest(".copy-holder").querySelector("textarea").select(),document.execCommand("copy")})}),i.addEventListener("click",function(){document.getElementById("modal-base64").checked=!1,z(),X(),e.classList.remove("modal-open")})}}(),document.querySelector("body").classList.add("modal-open")}function E(e,t){e.preventDefault();var n=e.target.parents(".icon--item")[0];s.e.Resource.setResourceFromElement(n),s.e.Resource.resource&&s.e.Resource.resource.type&&s.e.Resource.setResourceConfig(s.e.Resource.resource.type),function(e,t){q(e)?function(e,t){document.getElementById("download-form-"+e.dataset.id).setAttribute("id","detail-download-form"),I(e,t)}(e,t):I(e,t)}(n,t),function(e){(window.FeatureFlag.isEnabled("user_oauth")?UserSession.userInfo.session.premium:gr.auth.me.premium)||(e.classList.add("direct-download"),R("icon",e))}(n)}function L(){delete s.e.download_form,document.querySelector(".icon--item.direct-download")&&document.querySelector(".icon--item.direct-download").classList.remove("direct-download"),document.getElementById("detail-download-form")&&document.getElementById("detail-download-form").setAttribute("id","download-form")}function I(e,t){var n={icon_id:e.dataset.id,author:e.dataset.author,team:e.dataset.author,keyword:e.dataset.name,pack:e.dataset.pack,style:e.dataset.style,format:t,color:"",colored:e.dataset.color,size:"512",selection:e.dataset.selection,premium:e.dataset.premium,type:e.dataset.icon_type},o=document.createElement("form");o.setAttribute("id","download-form-"+e.dataset.id),o.setAttribute("method","GET"),o.setAttribute("action",FLATICON_DOWNLOAD_URL+"download/icon/"+e.dataset.id),Object.keys(n).map(function(e,t){var i=n[e],r=document.createElement("input");r.setAttribute("type","hidden"),r.setAttribute("name",e),r.setAttribute("id",e),r.setAttribute("value",i),o.appendChild(r)}),"0"==n.premium&&"0"==n.selection&&document.querySelector(".modal-download section.modal-body").classList.add("nopremium"),e.appendChild(o),s.e.download_form=o}function q(e=null){return e?(document.querySelector("#download-form #format")&&(document.querySelector("#download-form #format").value="png"),!!e.querySelector("#download-form-"+e.dataset.id)):!!document.getElementById("download-form")}function x(e,t,n){var o="";let i=document.querySelector('.header--search .radio-group input[name="search-type"][type="radio"]:checked'),r="";i&&(r=i.value),(i=document.querySelector('.header--search .radio-group input[name="type"]:checked'))&&(r=`${i.value}${document.querySelector('.header--search .radio-group input[name="search-group"][data-type="packs"]:checked')?" packs":""}`),"string"==typeof e&&"undefined"===(o=decodeURIComponent(M("word")))&&(o=decodeURIComponent(M("term"))),void 0!==t&&Logs.pushLog(`afterSearch|type,add_collection|search,${o}|url,${window.location.href}|item_id,${t}|item_premium,${n}|search_type,${r}|icon_type,${RESOURCE_TYPE}`,!0)}function C(){if(window.Cypress)return;v(),$("#form-download-pack").trigger("submit");const e="sticker"===RESOURCE_TYPE?"download-sticker":"download";EventTracker.send("ga","event",e,"pack"),document.querySelector("#modal-download").checked=!1,document.querySelector("body").classList.remove("modal-open")}window.addEventListener("userSessionLoaded",()=>{$(document).on("click","#download-premium",function(){document.getElementById("modal-download").checked=!1,document.querySelector("body").classList.remove("modal-open")}),$(document).on("click","#detail ul.size button",function(){var e=$("#format").val(),t=$(this).attr("data-size");$("#size").val(t),"png"==e||"svg"==e?y():"base64"===e&&(R(),_())}),$(document).on("click","#detail #download .btn",function(e){e.preventDefault();const t=$(this).attr("data-format");if(!t)return;let n=document.querySelector("#download-form #format");if(s.e.view.section==p&&(n=document.querySelector("#detail #download-form #format")),n.value=t,"png"==t||"jpg"==t||f.a.isPremium()||e.currentTarget.classList.contains("popover-button"))"png"===t||"jpg"===t||"svg"===t||"psd"===t||"eps"===t||s.e.FeatureFlag.isEnabled("raw_svg")&&"raw-svg"===t?y():"base64"===t&&(R(),_());else{let e=(document.querySelector("#detail")?document.getElementById("detail"):document.getElementById("detail-content")).dataset.elementid;s.e.view.section!==p||g()?u.a.callModalDownloadOnlyForPremium(e):Object(a.a)(!0)}}),$(document).on("click","#detail ul.size a",e=>{const t=e.currentTarget,n=t.dataset.size;let o=document.getElementById("select-size");if(s.e.FeatureFlag.isEnabled("raw_svg")){o.querySelector(".popover-content a.active").classList.remove("active"),t.classList.add("active")}else{document.getElementById("select-size").querySelector("span").innerHTML=`${n}px`}o.querySelector(".popover-button").classList.remove("active"),o.querySelector(".popover-content").classList.remove("show-menu"),document.querySelector("#download-form #size").value=n||h,document.querySelector("#detail #download .btn").click()}),$(document).on("change","#modal-download",function(){const e=document.querySelector(".modal-download #copy-attributtion");e.children[0].classList.add("active"),e.children[1].classList.remove("active"),0==document.getElementById("modal-download").checked&&(L(),document.querySelector("body").classList.remove("modal-open"))}),$(document).on("click",".modal-download .modal-fade-screen",function(){const e=document.querySelector(".modal-download #copy-attributtion");e.children[0].classList.add("active"),e.children[1].classList.remove("active")}),$(document).on("click",".track_download_pack",function(e){if(this.dataset.pack&&(window.FeatureFlag.isEnabled("user_oauth")?UserSession.userInfo.logged:gr.auth.logged)){if((window.FeatureFlag.isEnabled("user_oauth")?!UserSession.userInfo.session.premium:!gr.auth.me.premium)&&1==this.dataset.premium)return void(location.href=ACCOUNTS_BASE_URL+"premium/"+this.dataset.pack);if(document.querySelector('#form-download-pack [name="user_id"]').value=window.FeatureFlag.isEnabled("user_oauth")?UserSession.userInfo.session.id:gr.auth.me.id,document.querySelector('#form-download-pack [name="pack_id"]').value=this.dataset.pack,o.update_download_counter(3e3),window.FeatureFlag.isEnabled("user_oauth")?UserSession.userInfo.session.premium:gr.auth.me.premium){if(window.Cypress)return;v()}else R("pack",null)}}),$(document).on("click",".modal__trigger",function(){document.querySelector("#viewport").classList.remove("viewport"),H(this.dataset.type)}),$(document).on("click",".modal-attribution-new .copy__trigger",function(){this.previousElementSibling.select(),document.execCommand("copy"),this.children[1].classList.remove("active"),this.children[2].classList.add("active")})});var A,T,O,j,P=["icon","pack","collection"];function R(e,t){const n="icon",o="collection",c="pack";if(s.e.view.section!==p||e===o||t||Object(a.a)(),-1==P.indexOf(e))return;let l=s.e.view.section!==p||e==o||t&&t.classList.contains("direct-download")?document.querySelector("div.modal-download"):document.querySelector(".modal-download-detail");return l?(function(e,t){e.classList.add("modal-"+t),e.querySelector("#download-premium").classList.add("modal-"+t),e.querySelector("#download-free").classList.add("modal-"+t),e.querySelector(".modal-body").classList.remove("nopremium"),[].forEach.call(e.querySelectorAll(".hidden"),function(e){e&&e.classList.contains("hidden")&&e.classList.remove("hidden")}),P.forEach(function(n){n!=t&&(e.classList.remove("modal-"+n),e.querySelector("#download-premium").classList.remove("modal-"+n),e.querySelector("#download-free").classList.remove("modal-"+n),[].forEach.call(e.querySelectorAll(".modal-"+n),function(e){e.classList.add("hidden")}))})}(l,e),e===n&&(document.querySelector(".modal-body #download-free")&&(document.querySelector(".modal-body #download-free").dataset.type=n),function(e,t){A=["send","event","Detail View","Premium Download"],{source:"not-premium-detail","download-type":"single",website:"flaticon"},T=["send","event","Detail View","Select Attribution Link"],O=["send","event","Detail View","Select Credit Attribution Link"],document.querySelector(".fi-modal #copy-attributtion").addEventListener("click",function(){this.children[0].classList.remove("active"),this.children[1].classList.add("active"),U(this.closest(".copy-holder").querySelector(".input_atributtion_text"))}),document.querySelector(".fi-modal #download-premium").addEventListener("click",N),s.e.download_form=document.getElementById("download-form"),s.e.view.section==p&&(s.e.download_form=document.querySelector("#detail #download-form"));if(t){const n=s.e.Resource.resource;let o=t.dataset.id;s.e.download_form=document.querySelector(`#download-form-${o}`),e.dataset.iconId=o;let i=new Image;e.querySelector("p.filename .icon-holder img")&&(i=e.querySelector("p.filename .icon-holder img")),i.src=t.querySelector("img").getAttribute("src"),i.classList.add("replaced-svg");let a=e.querySelector("p.filename .icon-holder");a.insertAdjacentElement("afterbegin",i),e.querySelector("p.filename span.description").innerHTML=t.dataset.name,e.querySelector("p.author span.description").innerHTML="By "+t.dataset.author_name;let c=new Image;e.querySelector("p.author img")&&(c=e.querySelector("p.author img")),c.src=t.dataset.author_avatar,c.classList.add("avatar");let l=e.querySelector("p.author");l.insertAdjacentElement("afterbegin",c),0==t.dataset.selection&&e.querySelector(".modal-body").classList.add("nopremium"),j=s.e.FeatureFlag.isEnabled("modify_attribution_modal")&&n?`<a href="${n.keyword.link}" title="${n.keyword.name} ${s.e.Attribution.getAttributionTypeMessage(n.type)}">${Object(r.a)(n.keyword.name)} ${s.e.Attribution.getStartAttributionMessage(n.type)} ${n.author.name} - Flaticon</a>`:"<div>"+B(t.dataset.icon_type)+' <a href="'+t.dataset.author_website+'" title="'+t.dataset.author_name+'">'+t.dataset.author_name+'</a> from <a href="'+APP_URL+'" title="Flaticon">'+window.location.host+"</a></div>"}else if(download_form){let r=document.querySelector("#detail")?document.getElementById("detail"):document.getElementById("detail-content"),a=r.querySelector("h1").innerHTML;if((s.e.view.section!==p||g()||t&&t.classList.contains("direct-download"))&&(e.querySelector(".filename .description").innerHTML=a),s.e.view.section!==p||g()||t&&t.classList.contains("direct-download")){let t=r.querySelector(".main-icon img");t||(t=r.querySelector(".main-icon-without-slide img"));let n=new Image;e.querySelector("p.filename .icon-holder img")&&(n=e.querySelector("p.filename .icon-holder img")),n.src=t.src,n.classList.add("replaced-svg"),n.alt=a;let o=e.querySelector("p.filename .icon-holder");o.insertAdjacentElement("afterbegin",n)}var n=r.querySelector("#author-url"),o=r.querySelector(".author .username").title,i=r.querySelector(".author .avatar img");if(s.e.view.section!==p||g()||t&&t.classList.contains("direct-download")){let t=new Image;e.querySelector("p.author img")&&(t=e.querySelector("p.author img")),t.src=i.src,t.classList.add("avatar");let n=e.querySelector("p.author");n.insertAdjacentElement("afterbegin",t),e.querySelector(".author .description").innerHTML="By "+o}0==download_form.selection.value&&e.querySelector(".modal-body").classList.add("nopremium"),j="<div>"+B(r.dataset.icon_type)+' <a href="'+n.value+'" title="'+o+'">'+o+'</a> from <a href="'+APP_URL+'" title="Flaticon">'+window.location.host+"</a></div>"}(s.e.view.section!==p||g()||t&&t.classList.contains("direct-download"))&&(e.querySelector(".copy-holder span").textContent=j,e.querySelector(".input_atributtion_text").setAttribute("value",j))}(l,t)),e===o&&(s.e.Resource.clearResource(),document.querySelector(".modal-collection #download-free").dataset.type=o,function(e){A=["send","event","Collection","Premium Download"],{source:"not-premium-detail","download-type":"collection",website:"flaticon"},T=null,O=null,e.querySelector("#download-free").addEventListener("click",i.d),e.querySelector("#download-premium").addEventListener("click",N),e.querySelector(".author")&&e.querySelector(".author").classList.add("hidden");document.querySelector(".fi-modal #copy-attributtion").addEventListener("click",function(){this.children[0].classList.remove("active"),this.children[1].classList.add("active"),U(this.closest(".copy-holder").querySelector(".input_atributtion_text"))})}(l)),e===c&&(!function(e){A=["send","event","Pack","Premium Download"],{source:"not-premium-detail","download-type":"pack",website:"flaticon"},T=["send","event","Pack","Select Attribution Link"],O=["send","event","Pack","Select Credit Attribution Link"],document.querySelector(".fi-modal #copy-attributtion").addEventListener("click",function(){this.children[0].classList.remove("active"),this.children[1].classList.add("active"),U(this.closest(".copy-holder").querySelector(".input_atributtion_text"))}),document.querySelector(".fi-modal #download-premium").addEventListener("click",N);var t=document.querySelector("#detail-pack-aside")?document.getElementById("detail-pack-aside"):document.getElementById("detail-content");const n=t.querySelector("#author-url").value;var o=t.querySelector(".author .username").title,i=t.querySelector(".author .avatar img");let r=new Image;e.querySelector("p.author img")&&(r=e.querySelector("p.author img"));r.src=i.src,r.classList.add("avatar"),e.querySelector("p.author").insertAdjacentElement("afterbegin",r),e.querySelector(".author .description").innerHTML="By "+o,j="<div>"+B(t.dataset.icon_type)+' <a href="'+n+'" title="'+o+'">'+o+'</a> from <a href="'+APP_URL+'" title="Flaticon">'+window.location.host+"</a></div>",e.querySelector(".copy-holder span").textContent=j,e.querySelector(".input_atributtion_text").setAttribute("value",j),e.querySelector(".pack_name").innerHTML=document.querySelector("h1 .title").innerHTML;document.querySelector('meta[property="og:image"]')}(l),document.querySelector(".modal-body #download-free").dataset.type=c),void((s.e.view.section!==p||e==o||t&&t.classList.contains("direct-download"))&&(document.getElementById("modal-download").checked=!0))):void 0}function B(e){return{icon:messages.attribution.icons_made_by,sticker:messages.attribution.stickers_made_by,standard:messages.attribution.icons_made_by,"animated-icon":messages.attribution.animatedIcon_made_by}[e]}function U(e=null){(e=e||document.querySelector(".fi-modal .input_atributtion_text")).select(),document.execCommand("copy"),T&&ga(T[0],T[1],T[2],T[3])}function D(){document.querySelector(".copy__text input").select(),document.execCommand("copy"),O&&ga(O[0],O[1],O[2],O[3])}function N(e){e.currentTarget.dataset.trackArguments&&EventTracker.getArgsFromElementAndSend(e.currentTarget),ga(A[0],A[1],A[2],A[3])}function F(){return window.Attribution.fromCollections=!0,window.Attribution.show(),((window.FeatureFlag.isEnabled("user_oauth")?!UserSession.userInfo.session:!gr.auth.me)||(window.FeatureFlag.isEnabled("user_oauth")?0===UserSession.userInfo.session.premium:0===gr.auth.me.premium))&&(window.Attribution.initialize(),window.Attribution.show(),document.querySelector(".copy__trigger").addEventListener("click",D),!0)}function M(e){var t={};window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,n,o){t[n]=o});return t[e]}function H(e){let t=document.querySelectorAll(".accordion2__menu--item"),n=document.querySelector(".accordion2__container");for(const e of t)e.addEventListener("click",function(){for(const e of t)e.classList.remove("active");this.classList.add("active");let e=this.dataset.order;for(const e of n.children)e.classList.remove("active");n.children[e].classList.add("active")});!function(e){let t=document.querySelector(".content-footer--text a");t&&("icon"==e&&(t.dataset.trackArguments="ga, event, premium, icon-main-attribute-modal"),"pack"==e&&(t.dataset.trackArguments="ga, event, premium, pack-main-attribute-modal"))}(e)}function z(){const e=document.querySelector("#detail #download-form #format");e&&(e.value="")}function X(){document.querySelectorAll(".fi-modal.modal-base64 .copy-attributtion").forEach(e=>{e.children[1].classList.contains("active")&&(e.children[0].classList.add("active"),e.children[1].classList.remove("active"))})}"animated-icon"===RESOURCE_TYPE&&document.querySelector("#detail .download-dropdown-button")&&document.querySelector("#detail .download-dropdown-button").addEventListener("click",()=>{Object(a.a)()})},63:function(e,t,n){"use strict";n.r(t),n.d(t,"INFINITY",function(){return p});var o=n(20),i=n(50),r=n(19),a=n(15),c=n(35),l=n(83),s=n(10),u=n(26),d=n(0),m=n(1),f=n(12);$(document).ready(function(){if(p.init(),document.getElementById("pagination-form")){p.currentPage=p.initPage;var e=p.pages?p.pages:Math.ceil(p.total/p.count,10);document.getElementById("pagination-total").innerHTML=f.number_format(e),document.getElementById("pagination-page").value=p.currentPage,p.check_pagination_buttons(),$("#pagination-form").on("submit",function(e){return e.preventDefault(),p.infinityLoaderBtn(p.axScript,"go"),!1}),$("a.pagination-next").on("click",function(e){e.preventDefault(),e.stopPropagation(),document.getElementById("pagination-spinner").classList.remove("hidden"),p.infinityLoaderBtn(p.axScript,"next")}),$("a.pagination-prev").on("click",function(e){e.preventDefault(),e.stopPropagation(),document.getElementById("pagination-spinner").classList.remove("hidden"),p.infinityLoaderBtn(p.axScript,"prev")})}$(".pagination a").on("click",function(){void 0!==gr.sponsor&&null!=gr.sponsor&&(void 0===gr.sponsor.popup||gr.auth.me.premium||window.FeatureFlag.isEnabled("adobe_maintenance")||gr.sponsor.popup.launch())}),$(".pagination-buttons a").on("click",function(){void 0!==gr.sponsor&&null!=gr.sponsor&&(void 0===gr.sponsor.popup||gr.auth.me.premium||window.FeatureFlag.isEnabled("adobe_maintenance")||gr.sponsor.popup.launch())});var t=Object(m.a)(".empty-search");if(t&&(0==p.total?($(".edge-content-iframe").hide(),t.classList.toggle("hidden",p.total>0),document.getElementById("pagination-more")&&document.getElementById("pagination-more").classList.add("hidden")):($(".edge-content-iframe").show(),t.classList.toggle("hidden",p.total>0),document.getElementById("pagination-more")&&document.getElementById("pagination-more").classList.remove("hidden")),void 0!==document.querySelector(".main_search_bar input[name='word']"))){var n=document.querySelector(".main_search_bar input[name='word']").value;if(-1==document.querySelector(".empty-search").className.indexOf("hidden")&&n.length){var o=localStorage["search-type"];o=-1!=["icons","packs"].indexOf(o)?o:"icons",ga("send","event","search-no-results",language,{dimension9:n})}}null==document.getElementById("tags-page")&&(null==document.getElementById("pagination-total")||parseInt(document.getElementById("pagination-total").innerHTML.replace(",",""),10)<=1)&&document.getElementById("pagination-more")&&document.getElementById("pagination-more").classList.add("hidden")});var p={infinityLoading:0,activatedInfinity:0,initPage:1,topPage:1,currentPage:1,bottomPage:1,count:0,total:0,total_icons:0,total_premium:0,axScript:"",css_selector:"",functionParser:"",cache_items:[],lastPage:self.currentPage,preLoad:!0,setUrl:!0,infinityCallback:"",fi_sponsor:{},total_found_packs:0,word:"",urlSendLog:["ajax/search"],loadFollows:0,pages:null,ads:null,init:function(){if("undefined"!=typeof INFINITY_CONFIG)for(var e in INFINITY_CONFIG)p[e]=INFINITY_CONFIG[e]},infinity:function(e,t){void 0!==t?this.axLoadItems(e,t,!0):(this.infinityLoading=1,this.bottomPage=this.bottomPage+1,this.axLoadItems(e,this.bottomPage,!0))},is_in_cache:function(e){this.cache_items.length>10&&this.cache_items.shift();for(var t=0;t<this.cache_items.length;t++)if(this.cache_items[t].page==e)return this.cache_items[t];return!1},pagination_update:function(){var e=this.pages?this.pages:Math.ceil(this.total/this.count,10);document.getElementById("pagination-total")&&(document.getElementById("pagination-total").innerHTML=f.number_format(e),document.getElementById("pagination-page").value=this.currentPage),document.getElementById("pagination-more")&&document.getElementById("pagination-more").classList.toggle("hidden",this.currentPage==e);var t=document.getElementById("total_icon_badge"),n=messages.common.icons;t&&(t.innerHTML=this.total.toLocaleString("en-US"));var o=document.querySelector(".pack-header .list-header-title .badge");if(o){var i="";-1!=o.innerHTML.indexOf("icon")&&(i=n),o.innerHTML=this.total.toLocaleString("en-US")+" "+i}var r=Object(m.a)(".empty-search"),a=this.is_in_cache(this.currentPage);let c=document.querySelector("section.relateds-bar"),l=document.querySelector("section.pagination-bar");r&&a&&(r.classList.toggle("hidden",a.items.length>0),0==this.total?($(".edge-content-iframe").hide(),null!==c&&null!==l&&(c.classList.add("hidden"),l.classList.add("hidden"))):null!==c&&null!==l&&(c.classList.remove("hidden"),l.classList.remove("hidden")));var s=1==this.currentPage,u=document.querySelector(".search-pack-result:not(.similar-packs)"),d=document.querySelector(".search-pack-result-text");u&&(u.style.display=s?"":"none"),d&&(d.style.display=s?"none":""),$(window).trigger("resize"),f.emptyAuthorBox()},axLoadItems:function(e,t,n){var o=e;t>1&&(o=o+"/"+t);var i=window.location.href.lastIndexOf("?");if(-1!=i&&(o=o+"?"+window.location.href.substring(i+1,window.location.href.length)),-1!=o.indexOf("undefined"))return!1;var r=this.is_in_cache(t);if(r&&n&&(this.tplLoadItem(r.items,t,r.ads),this.pagination_update()),r)window.scrollTo(0,0);else if(void 0!==e&&""!=e){if(document.getElementById("group_id")){var c=parseInt(document.getElementById("group_id").value,10)||0;"/ajax/packs/search"==e&&c&&(o=addVarQueryString(o,"group_id",c))}var l=this;$.ajax({url:o,type:"get",dataType:"json",success:function(e){var o=e.items||[],i=parseInt(e.total,10)||0,r=parseInt(e.pages,10)||0,c=e.pack_id;this.total=e.total||0,this.pages=e.pages||0,e.d_gad&&(this.ads=e.d_gad),"icon-search"!==window.view.section||o.length||window.location.reload();var s=document.querySelector(".btn-pattern");if(s){var u=s.href.split("#");u.pop(),u.push("pack="+c),s.href=u.join("#")}l.cache_items.push({page:t,items:o,total:i,ads:this.ads}),n&&(l.currentPage=t,l.total=i,l.pages=r,l.tplLoadItem(o,t,this.ads),l.pagination_update(),l.check_pagination_buttons()),EventTracker.send("gtm","event","pagination"),a.a.callModalPremium(),window.scrollTo(0,0)},error:function(e,t,n){document.getElementById("pagination-spinner").classList.add("hidden"),l.infinityLoading=0}})}},infinityLoaderBtn:function(e,t){this.lastPage=this.currentPage;var n=this.pages?this.pages:Math.ceil(this.total/this.count,10);if("go"==t){var o=parseInt(document.getElementById("pagination-page").value,10);this.infinityLoading=1,this.currentPage=!isNaN(o)&&o>0&&o<=n?o:1,this.bottomPage=this.currentPage,this.initPage=this.currentPage,this.axLoadItems(e,this.currentPage,!0),this.preLoad&&this.currentPage<n&&this.axLoadItems(e,this.currentPage+1,!1)}"clear"==t&&(this.infinityLoading=1,this.currentPage=1,this.initPage=this.currentPage,this.bottomPage=this.currentPage,this.axLoadItems(e,this.currentPage,!0),this.preLoad&&this.currentPage<n&&this.axLoadItems(e,this.currentPage+1,!1)),"next"==t&&(this.currentPage++,this.total>(this.currentPage-1)*this.count?(this.infinityLoading=1,this.bottomPage=this.currentPage,this.axLoadItems(e,this.currentPage,!0),this.preLoad&&this.currentPage<n&&this.axLoadItems(e,this.currentPage+1,!1)):(this.infinityLoading=0,this.currentPage--)),"prev"==t&&(this.currentPage--,this.currentPage>=1?(this.topPage=this.currentPage,this.infinityLoading=1,this.axLoadItems(e,this.currentPage,!0),this.preLoad&&this.currentPage>1&&this.axLoadItems(e,this.currentPage-1,!1)):(this.infinityLoading=0,this.currentPage=1)),this.check_pagination_buttons()},check_pagination_buttons:function(){var e=document.getElementById("pagination-more"),t=document.getElementById("pagination-less"),n=0,o=this;document.getElementById("pagination-total")&&(n=parseInt(document.getElementById("pagination-total").innerHTML.replace(",",""),10)),document.querySelector(".list-options .pagination-simple")&&document.querySelector(".list-options .pagination-simple").classList.toggle("hidden",1==n),document.querySelectorAll(".pagination-prev").forEach(function(e){e.classList.toggle("disabled",1==o.currentPage),t&&t.classList.toggle("hidden",1==o.currentPage),p.currentPage>2?e.setAttribute("href",`${Object(s.g)(window.location.href)}/${o.currentPage-1}${window.location.search}`):e.setAttribute("href",`${Object(s.g)(window.location.href)}${window.location.search}`)}),document.querySelectorAll(".pagination-next").forEach(function(e){e.classList.toggle("disabled",o.currentPage==n||0==n),p.currentPage<p.pages&&e.setAttribute("href",`${Object(s.g)(window.location.href)}/${o.currentPage+1}${window.location.search}`)});var i=document.querySelectorAll(".pagination-next").length,r=document.querySelectorAll(".pagination-prev").length;document.get("#pagination-form .pagination-next")&&document.get("#pagination-form .pagination-prev")&&document.get("#pagination-form .pagination-next").classList.contains("disabled")&&document.get("#pagination-form .pagination-prev").classList.contains("disabled")&&n>1&&(document.querySelector(".pagination-next").classList.contains("disabled")?e&&(e.classList.add("hidden"),t.classList.remove("hidden")):e&&(e.classList.remove("hidden"),t.classList.add("hidden"))),i&&r&&(document.get("#pagination-form .pagination-next").classList.contains("disabled")&&document.get("#pagination-form .pagination-prev").classList.contains("disabled")&&n>1?(document.get("#pagination-form").style.display="none",e&&(e.classList.add("hidden"),t.classList.remove("hidden"))):document.get("#pagination-form").style.display="block")},tplLoadItem:function(e,t,a){this.css_selector=""==this.css_selector||void 0===typeof this.css_selector?"ul.icons:not(.collection_icons_list)":this.css_selector,$(this.css_selector).empty();var s=document.get(this.css_selector);-1!==this.axScript.indexOf("pack")&&!~~gr.auth.me.premium&&window.matchMedia("(min-width: 740px)").matches&&(document.querySelector('#form-download-pack [name="premium"]')&&"0"==document.querySelector('#form-download-pack [name="premium"]').value&&((p=document.createElement("li")).id="bn-icon-list",p.className="a-wrapper edge-content edge-content-icon-list edge-content-first",p.style.display="none",p.setAttribute("data-order","1"),p.setAttribute("data-row","2"),p.setAttribute("data-min","45")));if(void 0!==this.fi_sponsor.freepik&&!~~gr.auth.me.premium&&!a){var p,h=t%14;t>=14&&h++,this.fi_sponsor.freepik.page=h,this.fi_sponsor.partner.page=h,(p=document.createElement("li"))&&(p.id="bn-icon-list",p.className="bn-space a-wrapper edge-content edge-content-icon-list edge-content-first",p.style.display="none",p.setAttribute("data-order","1"),p.setAttribute("data-row","2"),p.setAttribute("data-min","55"));var g=document.createElement("li");g&&(g.id="bn-icon-list-second",g.className="bn-space a-wrapper edge-content edge-content-icon-list edge-content-first edge-content-icon-list-second",g.style.display="none",g.setAttribute("data-order","2"),g.setAttribute("data-row","6"),g.setAttribute("data-min","80"));var v=document.querySelector("section.search-result ul.icons");v&&(v.appendChild(p),v.appendChild(g));var y=document.createElement("div");y&&(y.className="edge-content edge-content-first show last-edge-content",y.innerHTML=this.fi_sponsor.partner.url.replace("---PAGE---",this.fi_sponsor.partner.page));var _=document.querySelector(".last-edge-content");_&&(_.innerHTML="",_.appendChild(y))}if(document.getElementById("pagination-spinner")&&document.getElementById("pagination-spinner").classList.add("hidden"),document.getElementById("filters-spinner")&&document.getElementById("filters-spinner").classList.add("hidden"),s&&!isNaN(this.topPage)&&!isNaN(this.bottomPage)&&e.length>0){t=this.currentPage;var w=Handlebars.tag(this.templateTag),b=$(".total-items");if(void 0!==b&&null!=b&&$(".total-items").html(this.total.toLocaleString("en-US")),e.forEach(function(e,o){if(1==o&&(e.page=t),d.e.view.section===u.b.iconSearch){d.e.Resource.resourceConfig&&d.e.Resource.setResourceConfig(d.e.RESOURCE_TYPE);const t=n(119),o={...e,pngSmall:e.png,resourceType:e.iconType,authorIconsText:e.authorIconText,categoryId:e.category_id,iconImg:e.png512,isMobile:Object(r.b)()},i=Object(l.a)(d.e.Resource.resourceConfig,o);s.insertAdjacentHTML("beforeend",t({resourceElement:i}))}if(d.e.view.section!==u.b.iconSearch&&s.insertAdjacentHTML("beforeend",w(e)),100==o)return!1}),this.setUrl){var k=m.k(m.q(window.location.href),this.currentPage,window.location.search);"object"==typeof window.history?window.history.pushState({page:"pagination"},document.title,k):History.pushState({page:"pagination"},document.title,k),f.store_url(k);var S=m.q(window.location.href);window.url=S;var E=m.k(S,t).replace(APP_URL,"");ga("send","pageview","/"+E),ga("send","pageview",E,{metric1:t,dimension9:m.n(decodeURIComponent(window.location.search)).word})}this.setUrl=!0,"undefined"!=typeof Widget&&null!=Widget&&Widget.markSelectedIcons(),window.Resource.handleResourceListener(),setTimeout(()=>window.Lazyload.run(),50),window.dispatchEvent(new Event("resize"))}if(void 0!==this.infinityCallback){var L;if("string"==typeof this.infinityCallback&&(this.infinityCallback=this.infinityCallback.split(".")),void 0!==this.infinityCallback)if(this.infinityCallback instanceof Array)this.infinityCallback.forEach(function(e){"function"==typeof(L=L?L[e]:window[e])&&(L(),L=null)});this.infinityLoading=0}c.Premium.init(),this.addFakeItemsToList(this.css_selector);const I=document.body.dataset.section||"",q=new CustomEvent("sectionView",{detail:{section:I,modal:!1,page:t}});window.dispatchEvent(q),"following-styles"!=I&&"following-authors"!=I||setTimeout(function(){i.a.init(),"following-authors"==I?i.a.FollowsCallbackInit():i.a.BookmarkCallbackInit()},500),Object(o.c)()},serialize:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},addFakeItemsToList:function(e=null){if(null===t)var t=document.querySelector("section.search-result ul.icons");else t=document.querySelector(e);if(t&&t.classList.contains("icons"))for(var n=20;n>=0;n--)t.insertAdjacentHTML("beforeend",'<li class="icon--item icon-fill"></li>');var o=document.querySelector("section.search-result section.box-container");if(o){var i='<article class="box emptybox"></article>';for(n=20;n>=0;n--)o.insertAdjacentHTML("beforeend",i)}var r=document.querySelector(".following__list.bookmarks__list.box-container");if(r)for(i='<article class="box emptybox"></article>',n=4;n>=0;n--)r.insertAdjacentHTML("beforeend",i)}}}});
//# sourceMappingURL=fi-base.09634795e78b53021e7b.js.map